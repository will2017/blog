<html><head title="/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/email/message.py"><style type='text/css'>
body { color: #666666; } 
a {text-decoration: none; color: #5A82F7}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #aaaaaa;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px dotted orange;}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted = new Array();
function highlight()
{
    // clear existing highlights
    for (var i = 0; i < highlighted.length; i++) {
        var elm = document.getElementById(highlighted[i]);
        if (elm != null) {
            elm.style.backgroundColor = 'white';
        }
    }
    highlighted = new Array();
    for (var i = 0; i < arguments.length; i++) {
        var elm = document.getElementById(arguments[i]);
        if (elm != null) {
            elm.style.backgroundColor='gold';
        }
        highlighted.push(arguments[i]);
    }
} </script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#re', onmouseover='highlight("re")'>re</a></li><li><a href='#message.__all__', onmouseover='highlight("message___all__")'><span class='identifier'>__all__</span></a></li><li><a href='#message.SEMISPACE', onmouseover='highlight("message_SEMISPACE")'><span class='identifier'>SEMISPACE</span></a></li><li><a href='#message.tspecials', onmouseover='highlight("message_tspecials")'><span class='identifier'>tspecials</span></a></li><li><a href='#message._splitparam', onmouseover='highlight("message__splitparam")'><span class='function'>_splitparam</span></a></li><li><a href='#message._formatparam', onmouseover='highlight("message__formatparam")'><span class='function'>_formatparam</span></a></li><li><a href='#message._parseparam', onmouseover='highlight("message__parseparam")'><span class='function'>_parseparam</span></a></li><li><a href='#message._unquotevalue', onmouseover='highlight("message__unquotevalue")'><span class='function'>_unquotevalue</span></a></li><li><a href='#message.Message', onmouseover='highlight("message_Message")'><span class='type-name'>Message</span></a><ul>
<li><a href='#message.Message.__init__', onmouseover='highlight("message_Message___init__")'><span class='function'>__init__</span></a></li><li><a href='#message.Message.__str__', onmouseover='highlight("message_Message___str__")'><span class='function'>__str__</span></a></li><li><a href='#message.Message.as_string', onmouseover='highlight("message_Message_as_string")'><span class='function'>as_string</span></a></li><li><a href='#message.Message.is_multipart', onmouseover='highlight("message_Message_is_multipart")'><span class='function'>is_multipart</span></a></li><li><a href='#message.Message.set_unixfrom', onmouseover='highlight("message_Message_set_unixfrom")'><span class='function'>set_unixfrom</span></a></li><li><a href='#message.Message.get_unixfrom', onmouseover='highlight("message_Message_get_unixfrom")'><span class='function'>get_unixfrom</span></a></li><li><a href='#message.Message.attach', onmouseover='highlight("message_Message_attach")'><span class='function'>attach</span></a></li><li><a href='#message.Message.get_payload', onmouseover='highlight("message_Message_get_payload")'><span class='function'>get_payload</span></a></li><li><a href='#message.Message.set_payload', onmouseover='highlight("message_Message_set_payload")'><span class='function'>set_payload</span></a></li><li><a href='#message.Message.set_charset', onmouseover='highlight("message_Message_set_charset")'><span class='function'>set_charset</span></a></li><li><a href='#message.Message.get_charset', onmouseover='highlight("message_Message_get_charset")'><span class='function'>get_charset</span></a></li><li><a href='#message.Message.__len__', onmouseover='highlight("message_Message___len__")'><span class='function'>__len__</span></a></li><li><a href='#message.Message.__getitem__', onmouseover='highlight("message_Message___getitem__")'><span class='function'>__getitem__</span></a></li><li><a href='#message.Message.__setitem__', onmouseover='highlight("message_Message___setitem__")'><span class='function'>__setitem__</span></a></li><li><a href='#message.Message.__delitem__', onmouseover='highlight("message_Message___delitem__")'><span class='function'>__delitem__</span></a></li><li><a href='#message.Message.__contains__', onmouseover='highlight("message_Message___contains__")'><span class='function'>__contains__</span></a></li><li><a href='#message.Message.has_key', onmouseover='highlight("message_Message_has_key")'><span class='function'>has_key</span></a></li><li><a href='#message.Message.keys', onmouseover='highlight("message_Message_keys")'><span class='function'>keys</span></a></li><li><a href='#message.Message.values', onmouseover='highlight("message_Message_values")'><span class='function'>values</span></a></li><li><a href='#message.Message.items', onmouseover='highlight("message_Message_items")'><span class='function'>items</span></a></li><li><a href='#message.Message.get', onmouseover='highlight("message_Message_get")'><span class='function'>get</span></a></li><li><a href='#message.Message.get_all', onmouseover='highlight("message_Message_get_all")'><span class='function'>get_all</span></a></li><li><a href='#message.Message.add_header', onmouseover='highlight("message_Message_add_header")'><span class='function'>add_header</span></a></li><li><a href='#message.Message.replace_header', onmouseover='highlight("message_Message_replace_header")'><span class='function'>replace_header</span></a></li><li><a href='#message.Message.get_content_type', onmouseover='highlight("message_Message_get_content_type")'><span class='function'>get_content_type</span></a></li><li><a href='#message.Message.get_content_maintype', onmouseover='highlight("message_Message_get_content_maintype")'><span class='function'>get_content_maintype</span></a></li><li><a href='#message.Message.get_content_subtype', onmouseover='highlight("message_Message_get_content_subtype")'><span class='function'>get_content_subtype</span></a></li><li><a href='#message.Message.get_default_type', onmouseover='highlight("message_Message_get_default_type")'><span class='function'>get_default_type</span></a></li><li><a href='#message.Message.set_default_type', onmouseover='highlight("message_Message_set_default_type")'><span class='function'>set_default_type</span></a></li><li><a href='#message.Message._get_params_preserve', onmouseover='highlight("message_Message__get_params_preserve")'><span class='function'>_get_params_preserve</span></a></li><li><a href='#message.Message.get_params', onmouseover='highlight("message_Message_get_params")'><span class='function'>get_params</span></a></li><li><a href='#message.Message.get_param', onmouseover='highlight("message_Message_get_param")'><span class='function'>get_param</span></a></li><li><a href='#message.Message.set_param', onmouseover='highlight("message_Message_set_param")'><span class='function'>set_param</span></a></li><li><a href='#message.Message.del_param', onmouseover='highlight("message_Message_del_param")'><span class='function'>del_param</span></a></li><li><a href='#message.Message.set_type', onmouseover='highlight("message_Message_set_type")'><span class='function'>set_type</span></a></li><li><a href='#message.Message.get_filename', onmouseover='highlight("message_Message_get_filename")'><span class='function'>get_filename</span></a></li><li><a href='#message.Message.get_boundary', onmouseover='highlight("message_Message_get_boundary")'><span class='function'>get_boundary</span></a></li><li><a href='#message.Message.set_boundary', onmouseover='highlight("message_Message_set_boundary")'><span class='function'>set_boundary</span></a></li><li><a href='#message.Message.get_content_charset', onmouseover='highlight("message_Message_get_content_charset")'><span class='function'>get_content_charset</span></a></li><li><a href='#message.Message.get_charsets', onmouseover='highlight("message_Message_get_charsets")'><span class='function'>get_charsets</span></a></li></ul>
</li></ul>
</td><td><pre><span class='lineno'>1</span> <span class='parameter'></span><span class='parameter'></span># Copyr<a name='re', id ='1698812256', onmouseover='highlight("471005822","1698812256")', title='re :: re'><a href='../re.py.html#re', id ='1698812256', onmouseover='highlight("1698812256","1698812256","1698812256")', title='{re :: re | warnings :: warnings | __init__.py :: email}'><a name='uu', id ='1698812256', onmouseover='highlight("1716219855","1698812256","1716218182")', title='uu :: uu'><a name='warnings', id ='1698812256', onmouseover='highlight(1698812256)', title='warnings :: warnings'><a name='__init__.py', id ='1698812256', onmouseover='highlight("1716183587","1698812256","1716183374")', title='__init__.py :: email'>i</a></a>g</a>ht</a> (<a name='charset', id ='1123572519', onmouseover='highlight("1716183368","1123572519","1716183560")', title='charset :: charset'><a href='charset.py.html#charset', id ='1123572519', onmouseover='highlight(1123572519)', title='charset :: charset'>C</a>) 200</a>1</a>-2006 Python Software Foundation
<span class='lineno'>2</span> # Author: Barry Warsaw
<span class='lineno'>3</span> # Contact: email-sig@python.org
<span class='lineno'>4</span> 
<span class='lineno'>5</span> <span class='doc-string'>&quot;&quot;&quot;Basic message object for the email package object model.&quot;&quot;&quot;</span>
<span class='lineno'>6</span> 
<span class='lineno'>7</span> <a name='message.__all__', id ='471009546', title='message.__all__ :: [str]'>__all__</a> = [&#39;Message&#39;]
<span class='lineno'>8</span> 
<span class='lineno'>9</span> import re
<span class='lineno'>10</span> import uu
<span class='lineno'>11</span> import binascii
<span class='lineno'>12</span> import warnings
<span class='lineno'>13</span> from cStringIO import StringIO
<span class='lineno'>14</span> 
<span class='lineno'>15</span> # Intrapackage imports
<span class='lineno'>16</span> import email.charset
<span class='lineno'>17</span> from email import utils
<span class='lineno'>18</span> from email import errors
<span class='lineno'>19</span> 
<span class='lineno'>20</span> <span class='constant'><a name='message.SEMISPACE', id ='471007623', onmouseover='highlight("1667652745","1667796894","1667832203","1667825656","1668690565")', title='message.SEMISPACE :: str'>SEMISPACE</a></span> = &#39;; &#39;
<span class='lineno'>21</span> 
<span class='lineno'>22</span> # Regular expression that matches `special&#39; characters in parameters, the
<span class='lineno'>23</span> # existence of which force quoting of the parameter value.
<span class='lineno'>24</span> <a name='message.tspecials', id ='471005855', onmouseover='highlight(1716393119)', title='message.tspecials :: ?'>tspecials</a> = <a href='../re.py.html#re', id ='471005822', onmouseover='highlight(1698812256)', title='re :: re'>re</a>.<a href='../re.py.html#re.compile', id ='471005798', onmouseover='highlight(2025599818)', title='re.compile :: (str, int) -> ? | (my_unicode, int) -> ?'>compile</a>(r&#39;[ \(\)&lt;&gt;@,;:\\&quot;/\[\]\?=]&#39;)
<span class='lineno'>25</span> 
<span class='lineno'>26</span> 
<span class='lineno'>27</span> # Helper functions
<span class='lineno'>28</span> def <a name='message._splitparam', id ='471004959', onmouseover='highlight(1668636683)', title='message._splitparam :: object -> (?, ?)'><span class='function'>_splitparam</a></span>(<a name='message._splitparam@param', id ='471004926', onmouseover='highlight(471002817)', title='message._splitparam@param :: object'><span class='parameter'>param</span></a>):
<span class='lineno'>29</span>     # Split header parameters.  BAW: this may be too simple.  It isn&#39;t
<span class='lineno'>30</span>     # strictly RFC 2045 (section 5.1) compliant, but it catches most headers
<span class='lineno'>31</span>     # found in the wild.  We may eventually need a full fledged parser
<span class='lineno'>32</span>     # eventually.
<span class='lineno'>33</span>     <span class='identifier'><a name='message._splitparam&a', id ='471002850', onmouseover='highlight("471001919","471002009")', title='message._splitparam&a :: ?'>a</span></a>, <a name='message._splitparam&sep', id ='471002847', onmouseover='highlight(471002071)', title='message._splitparam&sep :: ?'><span class='identifier'>sep</a></span>, <a name='message._splitparam&b', id ='471002821', onmouseover='highlight(471001887)', title='message._splitparam&b :: ?'><span class='identifier'>b</a></span> = <a href='#message._splitparam@param', id ='471002817', onmouseover='highlight(471004926)', title='message._splitparam@param :: object'>param</a>.partition(&#39;;&#39;)
<span class='lineno'>34</span>     if not <a href='#message._splitparam&sep', id ='471002071', onmouseover='highlight(471002847)', title='message._splitparam&sep :: ?'>sep</a>:
<span class='lineno'>35</span>         return <a href='#message._splitparam&a', id ='471002009', onmouseover='highlight(471002850)', title='message._splitparam&a :: ?'>a</a>.strip(), <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='471001977', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a></span>
<span class='lineno'>36</span>     return <a href='#message._splitparam&a', id ='471001919', onmouseover='highlight(471002850)', title='message._splitparam&a :: ?'>a</a>.strip(), <a href='#message._splitparam&b', id ='471001887', onmouseover='highlight(471002821)', title='message._splitparam&b :: ?'>b</a>.strip()
<span class='lineno'>37</span> 
<span class='lineno'>38</span> def <a name='message._formatparam', id ='471001829', onmouseover='highlight("1667796672","1667831424","1667828392","1668692324","1667797795","1667827459","1667832449")', title='message._formatparam :: (str, (?, str, ?), ?) -> str'><span class='function'>_formatparam</a></span>(<span class='parameter'><a name='message._formatparam@param', id ='471001795', onmouseover='highlight("1716391944","1716392936","1716395780","1716392067")', title='message._formatparam@param :: str'>param</a></span>, <span class='parameter'><a name='message._formatparam@value', id ='1716400809', onmouseover='highlight("1716392896","1716395970","1716394949","1716393060","1716392060","1716397921","1716398640","1716394887","1716394918")', title='message._formatparam@value :: (?, str, ?)'>value</a></span>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1716400803', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a>, <a name='message._formatparam@quote', id ='1716400776', onmouseover='highlight(1716393800)', title='message._formatparam@quote :: ?'><span class='parameter'>quote</a></span>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1716400770', onmouseover='highlight(2016665419)', title='__builtin__.True :: ?'>True</a>):
<span class='lineno'>39</span>     <span class='doc-string'>&quot;&quot;&quot;Convenience function to format and return a key=value pair.
<span class='lineno'>40</span> 
<span class='lineno'>41</span>     This will quote the value if needed or if quote is true.  If value is a
<span class='lineno'>42</span>     three tuple (charset, language, value), it will be encoded according
<span class='lineno'>43</span>     to RFC2231 rules.
<span class='lineno'>44</span>     &quot;&quot;&quot;</span>
<span class='lineno'>45</span>     if <a href='#message._formatparam@value', id ='1716398640', onmouseover='highlight("1716400809","1716395041")', title='message._formatparam@value :: (?, str, ?)'>value</a> is not <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1716398606', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a></span> and <a href='http://docs.python.org/library/functions.html#len', id ='1716397925', onmouseover='highlight(134591780)', title='__builtin__.len :: ? -> int'>len</a>(<a href='#message._formatparam@value', id ='1716397921', onmouseover='highlight("1716400809","1716395041")', title='message._formatparam@value :: (?, str, ?)'>value</a>) &gt; <span class='number'>0</span>:
<span class='lineno'>46</span>         # A tuple is used for RFC 2231 encoded parameter values where items
<span class='lineno'>47</span>         # are (charset, language, value).  charset is a string, not a Charset
<span class='lineno'>48</span>         # instance.
<span class='lineno'>49</span>         if <a href='http://docs.python.org/library/functions.html#isinstance', id ='1716396002', onmouseover='highlight(37741720)', title='__builtin__.isinstance :: ? -> int'>isinstance</a>(<a href='#message._formatparam@value', id ='1716395970', onmouseover='highlight("1716400809","1716395041")', title='message._formatparam@value :: (?, str, ?)'>value</a>, <a href='http://docs.python.org/library/functions.html#tuple', id ='1716395942', onmouseover='highlight(534381737)', title='__builtin__.tuple :: <tuple>'>tuple</a>):
<span class='lineno'>50</span>             # Encode as per RFC 2231
<span class='lineno'>51</span>             <a href='#message._formatparam@param', id ='1716395780', onmouseover='highlight(471001795)', title='message._formatparam@param :: str'>param</a> += &#39;*&#39;
<span class='lineno'>52</span>             <a name='message._formatparam@value', id ='1716395041', onmouseover='highlight("1716392896","1716395970","1716394949","1716393060","1716392060","1716397921","1716398640","1716394887","1716394918")', title='message._formatparam@value :: (?, str, ?)'>value</a> = utils.encode_rfc2231(<a href='#message._formatparam@value', id ='1716394949', onmouseover='highlight("1716400809","1716395041")', title='message._formatparam@value :: (?, str, ?)'>value</a>[<span class='number'>2</span>], <a href='#message._formatparam@value', id ='1716394918', onmouseover='highlight("1716400809","1716395041")', title='message._formatparam@value :: (?, str, ?)'>value</a>[<span class='number'>0</span>], <a href='#message._formatparam@value', id ='1716394887', onmouseover='highlight("1716400809","1716395041")', title='message._formatparam@value :: (?, str, ?)'>value</a>[<span class='number'>1</span>])
<span class='lineno'>53</span>         # BAW: Please check this.  I think that if quote is set it should
<span class='lineno'>54</span>         # force quoting even if not necessary.
<span class='lineno'>55</span>         if <a href='#message._formatparam@quote', id ='1716393800', onmouseover='highlight(1716400776)', title='message._formatparam@quote :: ?'>quote</a> or <a href='#message.tspecials', id ='1716393119', onmouseover='highlight(471005855)', title='message.tspecials :: ?'>tspecials</a>.search(<a href='#message._formatparam@value', id ='1716393060', onmouseover='highlight("1716400809","1716395041")', title='message._formatparam@value :: (?, str, ?)'>value</a>):
<span class='lineno'>56</span>             return &#39;%s=&quot;%s&quot;&#39; % (<a href='#message._formatparam@param', id ='1716392936', onmouseover='highlight(471001795)', title='message._formatparam@param :: str'>param</a>, utils.quote(<a href='#message._formatparam@value', id ='1716392896', onmouseover='highlight("1716400809","1716395041")', title='message._formatparam@value :: (?, str, ?)'>value</a>))
<span class='lineno'>57</span>         else:
<span class='lineno'>58</span>             return &#39;%s=%s&#39; % (<a href='#message._formatparam@param', id ='1716392067', onmouseover='highlight(471001795)', title='message._formatparam@param :: str'>param</a>, <a href='#message._formatparam@value', id ='1716392060', onmouseover='highlight("1716400809","1716395041")', title='message._formatparam@value :: (?, str, ?)'>value</a>)
<span class='lineno'>59</span>     else:
<span class='lineno'>60</span>         return <a href='#message._formatparam@param', id ='1716391944', onmouseover='highlight(471001795)', title='message._formatparam@param :: str'>param</a>
<span class='lineno'>61</span> 
<span class='lineno'>62</span> def <a name='message._parseparam', id ='1716391912', onmouseover='highlight(1668600137)', title='message._parseparam :: str -> [?]'><span class='function'>_parseparam</span></a>(<a name='message._parseparam@s', id ='1716391879', onmouseover='highlight("1716370051","1716369965","1716370825","1716368937","1716370955","1716368973","1716367135","1716369834","1716370887")', title='message._parseparam@s :: ?'><a name='message._parseparam@s', id ='1716391879', onmouseover='highlight("1716370051","1716369965","1716370825","1716368937","1716370955","1716368973","1716367135","1716369834","1716370887")', title='message._parseparam@s :: str'>s</a></a>):
<span class='lineno'>63</span>     <a name='message._parseparam&plist', id ='1716371018', onmouseover='highlight("1716367885","1716367074")', title='message._parseparam&plist :: [?]'><span class='identifier'>plist</span></a> = []
<span class='lineno'>64</span>     while <a href='#message._parseparam@s', id ='1716370955', onmouseover='highlight("1716367139","1716391879","1716370891","1716367139","1716391879","1716370891")', title='{message._parseparam@s :: str | message._parseparam@s :: ?}'>s</a>[:<span class='number'>1</span>] == &#39;;&#39;:
<span class='lineno'>65</span>         <a name='message._parseparam@s', id ='1716370891', onmouseover='highlight("1716370051","1716369965","1716370825","1716368937","1716370955","1716368973","1716367135","1716369834","1716370887")', title='message._parseparam@s :: str'><a name='message._parseparam@s', id ='1716370891', onmouseover='highlight("1716370051","1716369965","1716370825","1716368937","1716370955","1716368973","1716367135","1716369834","1716370887")', title='message._parseparam@s :: ?'>s</a></a> = <a href='#message._parseparam@s', id ='1716370887', onmouseover='highlight("1716367139","1716391879","1716370891","1716367139","1716391879","1716370891")', title='{message._parseparam@s :: str | message._parseparam@s :: ?}'>s</a>[<span class='number'>1</span>:]
<span class='lineno'>66</span>         <a name='message._parseparam&end', id ='1716370831', onmouseover='highlight("1716368934","1716367112","1716369993","1716369088","1716370736","1716369801","1716369926")', title='message._parseparam&end :: ?'><a name='message._parseparam&end', id ='1716370831', onmouseover='highlight("1716368934","1716367112","1716369993","1716369088","1716370736","1716369801","1716369926")', title='message._parseparam&end :: ?'>end</a></a> = <a href='#message._parseparam@s', id ='1716370825', onmouseover='highlight("1716367139","1716391879","1716370891","1716367139","1716391879","1716370891")', title='{message._parseparam@s :: str | message._parseparam@s :: ?}'>s</a>.<a href='http://docs.python.org/library/stdtypes.html#str.find', id ='1716370802', onmouseover='highlight(640786154)', title='__builtin__.str.find :: ? -> int'>find</a>(&#39;;&#39;)
<span class='lineno'>67</span>         while <a href='#message._parseparam&end', id ='1716370736', onmouseover='highlight("1716369840","1716369004","1716370831","1716369840","1716369004","1716370831")', title='{message._parseparam&end :: ? | message._parseparam&end :: ?}'>end</a> &gt; <span class='number'>0</span> and (<a href='#message._parseparam@s', id ='1716370051', onmouseover='highlight("1716367139","1716391879","1716370891","1716367139","1716391879","1716370891")', title='{message._parseparam@s :: str | message._parseparam@s :: ?}'>s</a>.<a href='http://docs.python.org/library/stdtypes.html#str.count', id ='1716370049', onmouseover='highlight(200596166)', title='__builtin__.str.count :: ? -> int'>count</a>(<span class='doc-string'>&#39;&quot;&#39;</span>, <span class='number'>0</span>, <a href='#message._parseparam&end', id ='1716369993', onmouseover='highlight("1716369840","1716369004","1716370831","1716369840","1716369004","1716370831")', title='{message._parseparam&end :: ? | message._parseparam&end :: ?}'>end</a>) - <a href='#message._parseparam@s', id ='1716369965', onmouseover='highlight("1716367139","1716391879","1716370891","1716367139","1716391879","1716370891")', title='{message._parseparam@s :: str | message._parseparam@s :: ?}'>s</a>.<a href='http://docs.python.org/library/stdtypes.html#str.count', id ='1716369963', onmouseover='highlight(200596166)', title='__builtin__.str.count :: ? -> int'>count</a>(&#39;\\&quot;&#39;, <span class='number'>0</span>, <a href='#message._parseparam&end', id ='1716369926', onmouseover='highlight("1716369840","1716369004","1716370831","1716369840","1716369004","1716370831")', title='{message._parseparam&end :: ? | message._parseparam&end :: ?}'>end</a>)) % <span class='number'>2</span>:
<span class='lineno'>68</span>             <a name='message._parseparam&end', id ='1716369840', onmouseover='highlight("1716368934","1716367112","1716369993","1716369088","1716370736","1716369801","1716369926")', title='message._parseparam&end :: ?'><span class='identifier'><span class='identifier'><a name='message._parseparam&end', id ='1716369840', onmouseover='highlight("1716368934","1716367112","1716369993","1716369088","1716370736","1716369801","1716369926")', title='message._parseparam&end :: ?'>end</span></a></span></a> = <a href='#message._parseparam@s', id ='1716369834', onmouseover='highlight("1716367139","1716391879","1716370891","1716367139","1716391879","1716370891")', title='{message._parseparam@s :: str | message._parseparam@s :: ?}'>s</a>.<a href='http://docs.python.org/library/stdtypes.html#str.find', id ='1716369832', onmouseover='highlight(640786154)', title='__builtin__.str.find :: ? -> int'>find</a>(&#39;;&#39;, <a href='#message._parseparam&end', id ='1716369801', onmouseover='highlight("1716369840","1716369004","1716370831","1716369840","1716369004","1716370831")', title='{message._parseparam&end :: ? | message._parseparam&end :: ?}'>end</a> + <span class='number'>1</span>)
<span class='lineno'>69</span>         if <a href='#message._parseparam&end', id ='1716369088', onmouseover='highlight("1716369840","1716369004","1716370831")', title='message._parseparam&end :: ?'>end</a> &lt; <span class='number'>0</span>:
<span class='lineno'>70</span>             <a name='message._parseparam&end', id ='1716369004', onmouseover='highlight("1716368934","1716367112","1716369993","1716369088","1716370736","1716369801","1716369926")', title='message._parseparam&end :: ?'><a name='message._parseparam&end', id ='1716369004', onmouseover='highlight("1716368934","1716367112","1716369993","1716369088","1716370736","1716369801","1716369926")', title='message._parseparam&end :: ?'>end</a></a> = <a href='http://docs.python.org/library/functions.html#len', id ='1716368998', onmouseover='highlight(134591780)', title='__builtin__.len :: ? -> int'>len</a>(<a href='#message._parseparam@s', id ='1716368973', onmouseover='highlight("1716367139","1716391879","1716370891","1716367139","1716391879","1716370891")', title='{message._parseparam@s :: str | message._parseparam@s :: ?}'>s</a>)
<span class='lineno'>71</span>         <a name='message._parseparam&f', id ='1716368941', onmouseover='highlight("1716367851","1716368848","1716367972","1716368136","1716368065")', title='message._parseparam&f :: str'><span class='identifier'>f</a></span> = <a href='#message._parseparam@s', id ='1716368937', onmouseover='highlight("1716367139","1716391879","1716370891","1716367139","1716391879","1716370891")', title='{message._parseparam@s :: str | message._parseparam@s :: ?}'>s</a>[:<a href='#message._parseparam&end', id ='1716368934', onmouseover='highlight("1716369840","1716369004","1716370831")', title='message._parseparam&end :: ?'>end</a>]
<span class='lineno'>72</span>         if &#39;=&#39; in <a href='#message._parseparam&f', id ='1716368848', onmouseover='highlight("1716368941","1716368069")', title='message._parseparam&f :: str'>f</a>:
<span class='lineno'>73</span>             <span class='identifier'><a name='message._parseparam&i', id ='1716368812', onmouseover='highlight("1716367949","1716368041")', title='message._parseparam&i :: ?'>i</a></span> = <a href='#message._parseparam&f', id ='1716368136', onmouseover='highlight("1716368941","1716368069")', title='message._parseparam&f :: str'>f</a>.<a href='http://docs.python.org/library/stdtypes.html#str.index', id ='1716368134', onmouseover='highlight(1186057673)', title='__builtin__.str.index :: ? -> str'>index</a>(&#39;=&#39;)
<span class='lineno'>74</span>             <a name='message._parseparam&f', id ='1716368069', onmouseover='highlight("1716367851","1716368848","1716367972","1716368136","1716368065")', title='message._parseparam&f :: str'>f</a> = <a href='#message._parseparam&f', id ='1716368065', onmouseover='highlight("1716368941","1716368069")', title='message._parseparam&f :: str'>f</a>[:<a href='#message._parseparam&i', id ='1716368041', onmouseover='highlight(1716368812)', title='message._parseparam&i :: ?'>i</a>].<a href='http://docs.python.org/library/stdtypes.html#str.strip', id ='1716368038', onmouseover='highlight(1655975567)', title='__builtin__.str.strip :: ? -> str'>strip</a>().lower() + &#39;=&#39; + <a href='#message._parseparam&f', id ='1716367972', onmouseover='highlight("1716368941","1716368069")', title='message._parseparam&f :: str'>f</a>[<a href='#message._parseparam&i', id ='1716367949', onmouseover='highlight(1716368812)', title='message._parseparam&i :: ?'>i</a>+<span class='number'>1</span>:].<a href='http://docs.python.org/library/stdtypes.html#str.strip', id ='1716367943', onmouseover='highlight(1655975567)', title='__builtin__.str.strip :: ? -> str'>strip</a>()
<span class='lineno'>75</span>         <a href='#message._parseparam&plist', id ='1716367885', onmouseover='highlight(1716371018)', title='message._parseparam&plist :: [?]'>plist</a>.<a href='http://docs.python.org/library/stdtypes.html', id ='1716367879', onmouseover='highlight(592677897)', title='__builtin__.list.append :: ? -> None'>append</a>(<a href='#message._parseparam&f', id ='1716367851', onmouseover='highlight("1716368941","1716368069")', title='message._parseparam&f :: str'>f</a>.<a href='http://docs.python.org/library/stdtypes.html#str.strip', id ='1716367849', onmouseover='highlight(1655975567)', title='__builtin__.str.strip :: ? -> str'>strip</a>())
<span class='lineno'>76</span>         <a name='message._parseparam@s', id ='1716367139', onmouseover='highlight("1716370051","1716369965","1716370825","1716368937","1716370955","1716368973","1716367135","1716369834","1716370887")', title='message._parseparam@s :: ?'><a name='message._parseparam@s', id ='1716367139', onmouseover='highlight("1716370051","1716369965","1716370825","1716368937","1716370955","1716368973","1716367135","1716369834","1716370887")', title='message._parseparam@s :: str'><span class='parameter'><span class='parameter'>s</span></span></a></a> = <a href='#message._parseparam@s', id ='1716367135', onmouseover='highlight("1716367139","1716391879","1716370891","1716367139","1716391879","1716370891")', title='{message._parseparam@s :: str | message._parseparam@s :: ?}'>s</a>[<a href='#message._parseparam&end', id ='1716367112', onmouseover='highlight("1716369840","1716369004","1716370831")', title='message._parseparam&end :: ?'>end</a>:]
<span class='lineno'>77</span>     return <a href='#message._parseparam&plist', id ='1716367074', onmouseover='highlight(1716371018)', title='message._parseparam&plist :: [?]'>plist</a>
<span class='lineno'>78</span> 
<span class='lineno'>79</span> 
<span class='lineno'>80</span> def <a name='message._unquotevalue', id ='1716367020', onmouseover='highlight("1667886019","1668547278")', title='message._unquotevalue :: ? -> (?, ?, ?)'><span class='function'>_unquotevalue</a></span>(<span class='parameter'><a name='message._unquotevalue@value', id ='1716366985', onmouseover='highlight("1716363137","1716364008","1716363291","1716364132","1716364039")', title='message._unquotevalue@value :: ?'>value</a></span>):
<span class='lineno'>81</span>     # This is different than utils.collapse_rfc2231_value() because it doesn&#39;t
<span class='lineno'>82</span>     # try to convert the value to a unicode.  Message.get_param() and
<span class='lineno'>83</span>     # Message.get_params() are both currently defined to return the tuple in
<span class='lineno'>84</span>     # the face of RFC 2231 parameters.
<span class='lineno'>85</span>     if <a href='http://docs.python.org/library/functions.html#isinstance', id ='1716364164', onmouseover='highlight(37741720)', title='__builtin__.isinstance :: ? -> int'>isinstance</a>(<a href='#message._unquotevalue@value', id ='1716364132', onmouseover='highlight(1716366985)', title='message._unquotevalue@value :: ?'>value</a>, <a href='http://docs.python.org/library/functions.html#tuple', id ='1716364104', onmouseover='highlight(534381737)', title='__builtin__.tuple :: <tuple>'>tuple</a>):
<span class='lineno'>86</span>         return <a href='#message._unquotevalue@value', id ='1716364039', onmouseover='highlight(1716366985)', title='message._unquotevalue@value :: ?'>value</a>[<span class='number'>0</span>], <a href='#message._unquotevalue@value', id ='1716364008', onmouseover='highlight(1716366985)', title='message._unquotevalue@value :: ?'>value</a>[<span class='number'>1</span>], utils.unquote(<a href='#message._unquotevalue@value', id ='1716363291', onmouseover='highlight(1716366985)', title='message._unquotevalue@value :: ?'>value</a>[<span class='number'>2</span>])
<span class='lineno'>87</span>     else:
<span class='lineno'>88</span>         return utils.unquote(<a href='#message._unquotevalue@value', id ='1716363137', onmouseover='highlight(1716366985)', title='message._unquotevalue@value :: ?'>value</a>)
<span class='lineno'>89</span> 
<span class='lineno'>90</span> 
<span class='lineno'>91</span> 
<span class='lineno'>92</span> class <a name='message.Message', id ='1716363078', onmouseover='highlight("1936063153","1938684636","1938660545","1549281708","1938567391","323404464","1322902189","1550204118","1550172562","1938811334","323400527","1938658625")', title='message.Message :: <Message>'><span class='type-name'>Message</a></span>:
<span class='lineno'>93</span>     <span class='doc-string'>&quot;&quot;&quot;Basic message object.
<span class='lineno'>94</span> 
<span class='lineno'>95</span>     A message object is defined as something that has a bunch of RFC 2822
<span class='lineno'>96</span>     headers and a payload.  It may optionally have an envelope header
<span class='lineno'>97</span>     (a.k.a. Unix-From or From_ header).  If the message is a container (i.e. a
<span class='lineno'>98</span>     multipart or a message/rfc822), then the payload is a list of Message
<span class='lineno'>99</span>     objects, otherwise it is a string.
<span class='lineno'>100</span> 
<span class='lineno'>101</span>     Message objects implement part of the `mapping&#39; interface, which assumes
<span class='lineno'>102</span>     there is exactly one occurrence of the header per message.  Some headers
<span class='lineno'>103</span>     do in fact appear multiple times (e.g. Received) and for those headers,
<span class='lineno'>104</span>     you must use the explicit API to set or get all the headers.  Not all of
<span class='lineno'>105</span>     the mapping methods are implemented.
<span class='lineno'>106</span>     &quot;&quot;&quot;</span>
<span class='lineno'>107</span>     def <a name='message.Message.__init__', id ='1716335395', onmouseover='highlight(1938684665)', title='message.Message.__init__ :: Message -> None'><span class='function'>__init__</span></a>(<a name='message.Message.__init__@self', id ='1716335365', onmouseover='highlight("1716333534","1716333476","1716333384","1716332571","1716335239","1716335329","1716334403","1716334495")', title='message.Message.__init__@self :: Message'><span class='parameter'>self</span></a>):
<span class='lineno'>108</span>         <a href='#message.Message.__init__@self', id ='1716335329', onmouseover='highlight(1716335365)', title='message.Message.__init__@self :: Message'>self</a>.<a name='message.Message._headers', id ='1716335303', onmouseover='highlight("1668787684","1668753982","1668666438","1668757764","1668722215","1668690652","1667655660","1668728006","1668785541","1668782911","1668666631","1668667341","1668814407","1668750239")', title='message.Message._headers :: {[(?, ?)] | [?]}'>_headers</a> = []
<span class='lineno'>109</span>         <a href='#message.Message.__init__@self', id ='1716335239', onmouseover='highlight(1716335365)', title='message.Message.__init__@self :: Message'>self</a>.<a name='message.Message._unixfrom', id ='1716335213', onmouseover='highlight(1716281427)', title='message.Message._unixfrom :: ?'>_unixfrom</a> = <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1716335180', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'><span class='builtin'>None</span></a>
<span class='lineno'>110</span>         <a href='#message.Message.__init__@self', id ='1716334495', onmouseover='highlight(1716335365)', title='message.Message.__init__@self :: Message'>self</a>.<a name='message.Message._payload', id ='1716334469', onmouseover='highlight("1716245994","1716302788","1716246894","1716247041","1716277735","1716245837","1716276808")', title='message.Message._payload :: [?]'>_payload</a> = <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1716334437', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a></span>
<span class='lineno'>111</span>         <a href='#message.Message.__init__@self', id ='1716334403', onmouseover='highlight(1716335365)', title='message.Message.__init__@self :: Message'>self</a>.<a name='message.Message._charset', id ='1716334377', onmouseover='highlight(1668816262)', title='message.Message._charset :: ?'>_charset</a> = <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1716334345', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'><span class='builtin'>None</span></a>
<span class='lineno'>112</span>         # Defaults for multipart messages
<span class='lineno'>113</span>         <a href='#message.Message.__init__@self', id ='1716333534', onmouseover='highlight(1716335365)', title='message.Message.__init__@self :: Message'>self</a>.<a name='message.Message.preamble', id ='1716333508', title='message.Message.preamble :: ?'>preamble</a> = <a href='#message.Message.__init__@self', id ='1716333476', onmouseover='highlight(1716335365)', title='message.Message.__init__@self :: Message'>self</a>.<a name='message.Message.epilogue', id ='1716333471', title='message.Message.epilogue :: ?'>epilogue</a> = <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1716333439', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'><span class='builtin'>None</span></a>
<span class='lineno'>114</span>         <a href='#message.Message.__init__@self', id ='1716333384', onmouseover='highlight(1716335365)', title='message.Message.__init__@self :: Message'>self</a>.<a name='message.Message.defects', id ='1716333379', title='message.Message.defects :: [?]'>defects</a> = []
<span class='lineno'>115</span>         # Default content type
<span class='lineno'>116</span>         <a href='#message.Message.__init__@self', id ='1716332571', onmouseover='highlight(1716335365)', title='message.Message.__init__@self :: Message'>self</a>.<a name='message.Message._default_type', id ='1716332545', onmouseover='highlight(1668606768)', title='message.Message._default_type :: str'>_default_type</a> = &#39;text/plain&#39;
<span class='lineno'>117</span> 
<span class='lineno'>118</span>     def <a name='message.Message.__str__', id ='1716332423', title='message.Message.__str__ :: Message -> ?'><span class='function'>__str__</a></span>(<a name='message.Message.__str__@self', id ='1716332415', onmouseover='highlight(1716310440)', title='message.Message.__str__@self :: Message'><span class='parameter'>self</span></a>):
<span class='lineno'>119</span>         <span class='doc-string'>&quot;&quot;&quot;Return the entire formatted message as a string.
<span class='lineno'>120</span>         This includes the headers, body, and envelope header.
<span class='lineno'>121</span>         &quot;&quot;&quot;</span>
<span class='lineno'>122</span>         return <a href='#message.Message.__str__@self', id ='1716310440', onmouseover='highlight(1716332415)', title='message.Message.__str__@self :: Message'>self</a>.<a href='#message.Message.as_string', id ='1716310414', onmouseover='highlight(1716310317)', title='message.Message.as_string :: (Message, ?) -> ?'>as_string</a>(unixfrom=True)
<span class='lineno'>123</span> 
<span class='lineno'>124</span>     def <a name='message.Message.as_string', id ='1716310317', onmouseover='highlight(1716310414)', title='message.Message.as_string :: (Message, ?) -> ?'><span class='function'>as_string</span></a>(<a name='message.Message.as_string@self', id ='1716310286', onmouseover='highlight(1716304672)', title='message.Message.as_string@self :: Message'><span class='parameter'>self</a></span>, <a name='message.Message.as_string@unixfrom', id ='1716310259', title='message.Message.as_string@unixfrom :: ?'><span class='parameter'>unixfrom</a></span>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1716310250', onmouseover='highlight(2016665419)', title='__builtin__.False :: ?'>False</a>):
<span class='lineno'>125</span>         <span class='doc-string'>&quot;&quot;&quot;Return the entire formatted message as a string.
<span class='lineno'>126</span>         Optional `unixfrom&#39; when True, means include the Unix From_ envelope
<span class='lineno'>127</span>         header.
<span class='lineno'>128</span> 
<span class='lineno'>129</span>         This is a convenience method and may not generate the message exactly
<span class='lineno'>130</span>         as you intend because by default it mangles lines that begin with
<span class='lineno'>131</span>         &quot;From &quot;.  For more flexibility, use the flatten() method of a
<span class='lineno'>132</span>         Generator instance.
<span class='lineno'>133</span>         &quot;&quot;&quot;</span>
<span class='lineno'>134</span>         from email.generator import Generator
<span class='lineno'>135</span>         <span class='identifier'><a name='message.Message.as_string&fp', id ='1716305509', onmouseover='highlight("1716305387","1716304548")', title='message.Message.as_string&fp :: ?'>fp</span></a> = StringIO()
<span class='lineno'>136</span>         <a name='message.Message.as_string&g', id ='1716305422', onmouseover='highlight(1716304703)', title='message.Message.as_string&g :: ?'><span class='identifier'>g</a></span> = Generator(<a href='#message.Message.as_string&fp', id ='1716305387', onmouseover='highlight(1716305509)', title='message.Message.as_string&fp :: ?'>fp</a>)
<span class='lineno'>137</span>         <a href='#message.Message.as_string&g', id ='1716304703', onmouseover='highlight(1716305422)', title='message.Message.as_string&g :: ?'>g</a>.flatten(<a href='#message.Message.as_string@self', id ='1716304672', onmouseover='highlight(1716310286)', title='message.Message.as_string@self :: Message'>self</a>, unixfrom=unixfrom)
<span class='lineno'>138</span>         return <a href='#message.Message.as_string&fp', id ='1716304548', onmouseover='highlight(1716305509)', title='message.Message.as_string&fp :: ?'>fp</a>.getvalue()
<span class='lineno'>139</span> 
<span class='lineno'>140</span>     def <span class='function'><a name='message.Message.is_multipart', id ='1716304462', onmouseover='highlight("323402423","1716245030","1550174423")', title='message.Message.is_multipart :: MaildirMessage -> ? | Message -> ? | Message -> ?'>is_multipart</span></a>(<a name='message.Message.is_multipart@self', id ='1716304428', onmouseover='highlight(1716303465)', title='message.Message.is_multipart@self :: {Message | MaildirMessage | Message}'><span class='parameter'>self</span></a>):
<span class='lineno'>141</span>         <span class='doc-string'>&quot;&quot;&quot;Return True if the message consists of multiple parts.&quot;&quot;&quot;</span>
<span class='lineno'>142</span>         return <a href='http://docs.python.org/library/functions.html#isinstance', id ='1716303497', onmouseover='highlight(37741720)', title='__builtin__.isinstance :: ? -> int'>isinstance</a>(<a href='#message.Message.is_multipart@self', id ='1716303465', onmouseover='highlight(1716304428)', title='message.Message.is_multipart@self :: {Message | MaildirMessage | Message}'>self</a>.<a href='#message.Message._payload', id ='1716302788', onmouseover='highlight("1716334469","1716277616","1716214212")', title='message.Message._payload :: [?]'>_payload</a>, <a href='http://docs.python.org/library/functions.html#list', id ='1716302757', onmouseover='highlight(118710921)', title='__builtin__.list :: <list>'>list</a>)
<span class='lineno'>143</span> 
<span class='lineno'>144</span>     #
<span class='lineno'>145</span>     # Unix From_ line
<span class='lineno'>146</span>     #
<span class='lineno'>147</span>     def <span class='function'><a name='message.Message.set_unixfrom', id ='1716302624', onmouseover='highlight(1550296562)', title='message.Message.set_unixfrom :: (Message, str) -> None | (Message, ?) -> None'>set_unixfrom</a></span>(<span class='parameter'><a name='message.Message.set_unixfrom@self', id ='1716302569', onmouseover='highlight(1716302502)', title='message.Message.set_unixfrom@self :: {Message | Message}'>self</a></span>, <a name='message.Message.set_unixfrom@unixfrom', id ='1716302563', onmouseover='highlight(1716281611)', title='message.Message.set_unixfrom@unixfrom :: str'><span class='parameter'>unixfrom</a></span>):
<span class='lineno'>148</span>         <a href='#message.Message.set_unixfrom@self', id ='1716302502', onmouseover='highlight(1716302569)', title='message.Message.set_unixfrom@self :: {Message | Message}'>self</a>.<a name='message.Message._unixfrom', id ='1716281644', onmouseover='highlight(1716281427)', title='message.Message._unixfrom :: ?'><a name='mailbox.Message._unixfrom', id ='1716281644', title='mailbox.Message._unixfrom :: str'>_unixfrom</a></a> = <a href='#message.Message.set_unixfrom@unixfrom', id ='1716281611', onmouseover='highlight(1716302563)', title='message.Message.set_unixfrom@unixfrom :: str'>unixfrom</a>
<span class='lineno'>149</span> 
<span class='lineno'>150</span>     def <a name='message.Message.get_unixfrom', id ='1716281551', onmouseover='highlight(1938811459)', title='message.Message.get_unixfrom :: BabylMessage -> ? | Message -> ?'><span class='function'>get_unixfrom</a></span>(<a name='message.Message.get_unixfrom@self', id ='1716281517', onmouseover='highlight(1716281453)', title='message.Message.get_unixfrom@self :: {Message | BabylMessage}'><span class='parameter'>self</span></a>):
<span class='lineno'>151</span>         return <a href='#message.Message.get_unixfrom@self', id ='1716281453', onmouseover='highlight(1716281517)', title='message.Message.get_unixfrom@self :: {Message | BabylMessage}'>self</a>.<a href='#message.Message._unixfrom', id ='1716281427', onmouseover='highlight("1716335213","1716281644")', title='message.Message._unixfrom :: ?'>_unixfrom</a>
<span class='lineno'>152</span> 
<span class='lineno'>153</span>     #
<span class='lineno'>154</span>     # Payload manipulation.
<span class='lineno'>155</span>     #
<span class='lineno'>156</span>     def <a name='message.Message.attach', id ='1716280591', title='message.Message.attach :: (Message, ?) -> None'><span class='function'>attach</span></a>(<a name='message.Message.attach@self', id ='1716280584', onmouseover='highlight("1716276834","1716277740","1716277642")', title='message.Message.attach@self :: Message'><span class='parameter'>self</span></a>, <a name='message.Message.attach@payload', id ='1716280557', onmouseover='highlight("1716276771","1716277583")', title='message.Message.attach@payload :: ?'><span class='parameter'>payload</a></span>):
<span class='lineno'>157</span>         <span class='doc-string'>&quot;&quot;&quot;Add the given payload to the current payload.
<span class='lineno'>158</span> 
<span class='lineno'>159</span>         The current payload will always be a list of objects after this method
<span class='lineno'>160</span>         is called.  If you want to set the payload to a scalar object, use
<span class='lineno'>161</span>         set_payload() instead.
<span class='lineno'>162</span>         &quot;&quot;&quot;</span>
<span class='lineno'>163</span>         if <a href='#message.Message.attach@self', id ='1716277740', onmouseover='highlight(1716280584)', title='message.Message.attach@self :: Message'>self</a>.<a href='#message.Message._payload', id ='1716277735', onmouseover='highlight("1716334469","1716277616","1716214212")', title='message.Message._payload :: [?]'>_payload</a> is <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1716277702', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a></span>:
<span class='lineno'>164</span>             <a href='#message.Message.attach@self', id ='1716277642', onmouseover='highlight(1716280584)', title='message.Message.attach@self :: Message'>self</a>.<a name='message.Message._payload', id ='1716277616', onmouseover='highlight("1716245994","1716302788","1716246894","1716247041","1716277735","1716245837","1716276808")', title='message.Message._payload :: [?]'>_payload</a> = [<a href='#message.Message.attach@payload', id ='1716277583', onmouseover='highlight(1716280557)', title='message.Message.attach@payload :: ?'>payload</a>]
<span class='lineno'>165</span>         else:
<span class='lineno'>166</span>             <a href='#message.Message.attach@self', id ='1716276834', onmouseover='highlight(1716280584)', title='message.Message.attach@self :: Message'>self</a>.<a href='#message.Message._payload', id ='1716276808', onmouseover='highlight("1716334469","1716277616","1716214212")', title='message.Message._payload :: [?]'>_payload</a>.<a href='http://docs.python.org/library/stdtypes.html', id ='1716276778', onmouseover='highlight(592677897)', title='__builtin__.list.append :: ? -> None'>append</a>(<a href='#message.Message.attach@payload', id ='1716276771', onmouseover='highlight(1716280557)', title='message.Message.attach@payload :: ?'>payload</a>)
<span class='lineno'>167</span> 
<span class='lineno'>168</span>     def <a name='message.Message.get_payload', id ='1716276711', onmouseover='highlight("1547463558","323402577","1550175224","1547460400","323403597","1550441669","1550437672","1550443437")', title='message.Message.get_payload :: (MaildirMessage, ?, ?) -> ? | (Message, ?, ?) -> ? | (Message, ?, ?) -> ?'><span class='function'>get_payload</span></a>(<a name='message.Message.get_payload@self', id ='1716276678', onmouseover='highlight("1716246020","1716245035","1716246920","1716244842","1716245863","1716247046")', title='message.Message.get_payload@self :: {Message | Message | MaildirMessage}'><span class='parameter'>self</span></a>, <a name='message.Message.get_payload@i', id ='1716276651', onmouseover='highlight("1716245807","1716247793")', title='message.Message.get_payload@i :: ?'><span class='parameter'>i</a></span>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1716276649', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a>, <span class='parameter'><a name='message.Message.get_payload@decode', id ='1716276622', onmouseover='highlight(1716245121)', title='message.Message.get_payload@decode :: ?'>decode</span></a>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1716276615', onmouseover='highlight(2016665419)', title='__builtin__.False :: ?'>False</a>):
<span class='lineno'>169</span>         <span class='doc-string'>&quot;&quot;&quot;Return a reference to the payload.
<span class='lineno'>170</span> 
<span class='lineno'>171</span>         The payload will either be a list object or a string.  If you mutate
<span class='lineno'>172</span>         the list object, you modify the message&#39;s payload in place.  Optional
<span class='lineno'>173</span>         i returns that index into the payload.
<span class='lineno'>174</span> 
<span class='lineno'>175</span>         Optional decode is a flag indicating whether the payload should be
<span class='lineno'>176</span>         decoded or not, according to the Content-Transfer-Encoding header
<span class='lineno'>177</span>         (default is False).
<span class='lineno'>178</span> 
<span class='lineno'>179</span>         When True and the message is not a multipart, the payload will be
<span class='lineno'>180</span>         decoded if this header&#39;s value is `quoted-printable&#39; or `base64&#39;.  If
<span class='lineno'>181</span>         some other encoding is used, or the header is missing, or if the
<span class='lineno'>182</span>         payload has bogus data (i.e. bogus base64 or uuencoded data), the
<span class='lineno'>183</span>         payload is returned as-is.
<span class='lineno'>184</span> 
<span class='lineno'>185</span>         If the message is a multipart and the decode flag is True, then None
<span class='lineno'>186</span>         is returned.
<span class='lineno'>187</span>         &quot;&quot;&quot;</span>
<span class='lineno'>188</span>         if <a href='#message.Message.get_payload@i', id ='1716247793', onmouseover='highlight(1716276651)', title='message.Message.get_payload@i :: ?'>i</a> is <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1716247788', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'><span class='builtin'>None</a></span>:
<span class='lineno'>189</span>             <a name='message.Message.get_payload&payload', id ='1716247728', onmouseover='highlight("1716219143","1716221968","1716220971","1716217933","1716243137","1716216236")', title='message.Message.get_payload&payload :: ?'><a name='message.Message.get_payload&payload', id ='1716247728', onmouseover='highlight("1716219143","1716221968","1716220971","1716217933","1716243137","1716216236")', title='message.Message.get_payload&payload :: ?'><a name='message.Message.get_payload&payload', id ='1716247728', onmouseover='highlight("1716219143","1716221968","1716220971","1716217933","1716243137","1716216236")', title='message.Message.get_payload&payload :: ?'>payload</a></a></a> = <a href='#message.Message.get_payload@self', id ='1716247046', onmouseover='highlight(1716276678)', title='message.Message.get_payload@self :: {Message | Message | MaildirMessage}'>self</a>.<a href='#message.Message._payload', id ='1716247041', onmouseover='highlight("1716334469","1716277616","1716214212")', title='message.Message._payload :: [?]'>_payload</a>
<span class='lineno'>190</span>         elif not <a href='http://docs.python.org/library/functions.html#isinstance', id ='1716246952', onmouseover='highlight(37741720)', title='__builtin__.isinstance :: ? -> int'>isinstance</a>(<a href='#message.Message.get_payload@self', id ='1716246920', onmouseover='highlight(1716276678)', title='message.Message.get_payload@self :: {Message | Message | MaildirMessage}'>self</a>.<a href='#message.Message._payload', id ='1716246894', onmouseover='highlight("1716334469","1716277616","1716214212")', title='message.Message._payload :: [?]'>_payload</a>, <a href='http://docs.python.org/library/functions.html#list', id ='1716246863', onmouseover='highlight(118710921)', title='__builtin__.list :: <list>'>list</a>):
<span class='lineno'>191</span>             raise <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1716246796', onmouseover='highlight(2016665419)', title='__builtin__.TypeError :: <TypeError>'>TypeError</a>(&#39;Expected list, got %s&#39; % <a href='http://docs.python.org/library/functions.html#type', id ='1716246025', onmouseover='highlight(124994835)', title='__builtin__.type :: ? -> ?'>type</a>(<a href='#message.Message.get_payload@self', id ='1716246020', onmouseover='highlight(1716276678)', title='message.Message.get_payload@self :: {Message | Message | MaildirMessage}'>self</a>.<a href='#message.Message._payload', id ='1716245994', onmouseover='highlight("1716334469","1716277616","1716214212")', title='message.Message._payload :: [?]'>_payload</a>))
<span class='lineno'>192</span>         else:
<span class='lineno'>193</span>             <span class='identifier'><span class='identifier'><a name='message.Message.get_payload&payload', id ='1716245894', onmouseover='highlight("1716219143","1716221968","1716220971","1716217933","1716243137","1716216236")', title='message.Message.get_payload&payload :: ?'><a name='message.Message.get_payload&payload', id ='1716245894', onmouseover='highlight("1716219143","1716221968","1716220971","1716217933","1716243137","1716216236")', title='message.Message.get_payload&payload :: ?'><span class='identifier'><a name='message.Message.get_payload&payload', id ='1716245894', onmouseover='highlight("1716219143","1716221968","1716220971","1716217933","1716243137","1716216236")', title='message.Message.get_payload&payload :: ?'>payload</a></a></span></span></span></a> = <a href='#message.Message.get_payload@self', id ='1716245863', onmouseover='highlight(1716276678)', title='message.Message.get_payload@self :: {Message | Message | MaildirMessage}'>self</a>.<a href='#message.Message._payload', id ='1716245837', onmouseover='highlight("1716334469","1716277616","1716214212")', title='message.Message._payload :: [?]'>_payload</a>[<a href='#message.Message.get_payload@i', id ='1716245807', onmouseover='highlight(1716276651)', title='message.Message.get_payload@i :: ?'>i</a>]
<span class='lineno'>194</span>         if <a href='#message.Message.get_payload@decode', id ='1716245121', onmouseover='highlight(1716276622)', title='message.Message.get_payload@decode :: ?'>decode</a>:
<span class='lineno'>195</span>             if <a href='#message.Message.get_payload@self', id ='1716245035', onmouseover='highlight(1716276678)', title='message.Message.get_payload@self :: {Message | Message | MaildirMessage}'>self</a>.<a href='#message.Message.is_multipart', id ='1716245030', onmouseover='highlight(1716304462)', title='message.Message.is_multipart :: MaildirMessage -> ? | Message -> ? | Message -> ?'>is_multipart</a>():
<span class='lineno'>196</span>                 return <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1716244907', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a></span>
<span class='lineno'>197</span>             <span class='identifier'><a name='message.Message.get_payload&cte', id ='1716244848', onmouseover='highlight("1716220883","1716243979","1716243048")', title='message.Message.get_payload&cte :: ?'>cte</a></span> = <a href='#message.Message.get_payload@self', id ='1716244842', onmouseover='highlight(1716276678)', title='message.Message.get_payload@self :: {Message | Message | MaildirMessage}'>self</a>.<a href='#message.Message.get', id ='1716244165', onmouseover='highlight(1668750176)', title='message.Message.get :: (MMDFMessage, str, str) -> str | (MaildirMessage, str, str) -> str | (Message, str, object) -> object'>get</a>(&#39;content-transfer-encoding&#39;, &#39;&#39;).<a href='http://docs.python.org/library/stdtypes.html#str.lower', id ='1716244065', onmouseover='highlight(400228296)', title='__builtin__.str.lower :: ? -> str'>lower</a>()
<span class='lineno'>198</span>             if <a href='#message.Message.get_payload&cte', id ='1716243979', onmouseover='highlight(1716244848)', title='message.Message.get_payload&cte :: ?'>cte</a> == &#39;quoted-printable&#39;:
<span class='lineno'>199</span>                 return utils._qdecode(<a href='#message.Message.get_payload&payload', id ='1716243137', onmouseover='highlight("1716245894","1716218986","1716247728")', title='message.Message.get_payload&payload :: ?'>payload</a>)
<span class='lineno'>200</span>             elif <a href='#message.Message.get_payload&cte', id ='1716243048', onmouseover='highlight(1716244848)', title='message.Message.get_payload&cte :: ?'>cte</a> == &#39;base64&#39;:
<span class='lineno'>201</span>                 try:
<span class='lineno'>202</span>                     return utils._bdecode(<a href='#message.Message.get_payload&payload', id ='1716221968', onmouseover='highlight("1716245894","1716218986","1716247728")', title='message.Message.get_payload&payload :: ?'>payload</a>)
<span class='lineno'>203</span>                 except <a href='http://docs.python.org/library/binascii.html', id ='1716221873', onmouseover='highlight(1286652675)', title='message.binascii :: binascii'>binascii</a>.<a href='http://docs.python.org/library/binascii.html', id ='1716221843', onmouseover='highlight(1286652675)', title='binascii.Error :: <Error>'>Error</a>:
<span class='lineno'>204</span>                     # Incorrect padding
<span class='lineno'>205</span>                     return <a href='#message.Message.get_payload&payload', id ='1716220971', onmouseover='highlight("1716245894","1716218986","1716247728")', title='message.Message.get_payload&payload :: ?'>payload</a>
<span class='lineno'>206</span>             elif <a href='#message.Message.get_payload&cte', id ='1716220883', onmouseover='highlight(1716244848)', title='message.Message.get_payload&cte :: ?'>cte</a> in (&#39;x-uuencode&#39;, &#39;uuencode&#39;, &#39;uue&#39;, &#39;x-uue&#39;):
<span class='lineno'>207</span>                 <a name='message.Message.get_payload&sfp', id ='1716220018', onmouseover='highlight("1716218955","1716219086")', title='message.Message.get_payload&sfp :: ?'><span class='identifier'>sfp</a></span> = StringIO()
<span class='lineno'>208</span>                 try:
<span class='lineno'>209</span>                     <a href='../uu.py.html#uu', id ='1716219855', onmouseover='highlight(1698812256)', title='uu :: uu'>uu</a>.<a href='../uu.py.html#uu.decode', id ='1716219180', onmouseover='highlight(1281758752)', title='uu.decode :: ({FileDelegate | StreamRecoder}, {FileDelegate | StreamRecoder | _SpoofOut}, ?, int) -> None | (str, str, ?, int) -> None'>decode</a>(StringIO(<a href='#message.Message.get_payload&payload', id ='1716219143', onmouseover='highlight("1716245894","1716218986","1716247728")', title='message.Message.get_payload&payload :: ?'>payload</a>+&#39;\n&#39;), <a href='#message.Message.get_payload&sfp', id ='1716219086', onmouseover='highlight(1716220018)', title='message.Message.get_payload&sfp :: ?'>sfp</a>, quiet=True)
<span class='lineno'>210</span>                     <a name='message.Message.get_payload&payload', id ='1716218986', onmouseover='highlight("1716219143","1716221968","1716220971","1716217933","1716243137","1716216236")', title='message.Message.get_payload&payload :: ?'><a name='message.Message.get_payload&payload', id ='1716218986', onmouseover='highlight("1716219143","1716221968","1716220971","1716217933","1716243137","1716216236")', title='message.Message.get_payload&payload :: ?'><a name='message.Message.get_payload&payload', id ='1716218986', onmouseover='highlight("1716219143","1716221968","1716220971","1716217933","1716243137","1716216236")', title='message.Message.get_payload&payload :: ?'>payload</a></a></a> = <a href='#message.Message.get_payload&sfp', id ='1716218955', onmouseover='highlight(1716220018)', title='message.Message.get_payload&sfp :: ?'>sfp</a>.getvalue()
<span class='lineno'>211</span>                 except <a href='../uu.py.html#uu', id ='1716218182', onmouseover='highlight(1698812256)', title='uu :: uu'>uu</a>.<a href='../uu.py.html#uu.Error', id ='1716218158', onmouseover='highlight(1281812626)', title='uu.Error :: <Error>'>Error</a>:
<span class='lineno'>212</span>                     # Some decoding problem
<span class='lineno'>213</span>                     return <a href='#message.Message.get_payload&payload', id ='1716217933', onmouseover='highlight("1716245894","1716218986","1716247728")', title='message.Message.get_payload&payload :: ?'>payload</a>
<span class='lineno'>214</span>         # Everything else, including encodings with 8bit or 7bit are returned
<span class='lineno'>215</span>         # unchanged.
<span class='lineno'>216</span>         return <a href='#message.Message.get_payload&payload', id ='1716216236', onmouseover='highlight("1716245894","1716218986","1716247728")', title='message.Message.get_payload&payload :: ?'>payload</a>
<span class='lineno'>217</span> 
<span class='lineno'>218</span>     def <span class='function'><a name='message.Message.set_payload', id ='1716216198', onmouseover='highlight(1549282577)', title='message.Message.set_payload :: (Message, str, ?) -> None'>set_payload</a></span>(<span class='parameter'><a name='message.Message.set_payload@self', id ='1716216165', onmouseover='highlight("1716213351","1716214217")', title='message.Message.set_payload@self :: Message'>self</span></a>, <a name='message.Message.set_payload@payload', id ='1716216138', onmouseover='highlight(1716214159)', title='message.Message.set_payload@payload :: str'><span class='parameter'>payload</span></a>, <a name='message.Message.set_payload@charset', id ='1716216108', onmouseover='highlight("1716213313","1716214119")', title='message.Message.set_payload@charset :: ?'><span class='parameter'>charset</a></span>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1716216079', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a>):
<span class='lineno'>219</span>         <span class='doc-string'>&quot;&quot;&quot;Set the payload to the given value.
<span class='lineno'>220</span> 
<span class='lineno'>221</span>         Optional charset sets the message&#39;s default character set.  See
<span class='lineno'>222</span>         set_charset() for details.
<span class='lineno'>223</span>         &quot;&quot;&quot;</span>
<span class='lineno'>224</span>         <a href='#message.Message.set_payload@self', id ='1716214217', onmouseover='highlight(1716216165)', title='message.Message.set_payload@self :: Message'>self</a>.<a name='message.Message._payload', id ='1716214212', onmouseover='highlight("1716245994","1716302788","1716246894","1716247041","1716277735","1716245837","1716276808")', title='message.Message._payload :: [?]'><a name='message.Message._payload', id ='1716214212', onmouseover='highlight("1716157392","1716155625","1716157550","1716153581")', title='message.Message._payload :: str'>_payload</a></a> = <a href='#message.Message.set_payload@payload', id ='1716214159', onmouseover='highlight(1716216138)', title='message.Message.set_payload@payload :: str'>payload</a>
<span class='lineno'>225</span>         if <a href='#message.Message.set_payload@charset', id ='1716214119', onmouseover='highlight(1716216108)', title='message.Message.set_payload@charset :: ?'>charset</a> is not <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1716213411', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'><span class='builtin'>None</a></span>:
<span class='lineno'>226</span>             <a href='#message.Message.set_payload@self', id ='1716213351', onmouseover='highlight(1716216165)', title='message.Message.set_payload@self :: Message'>self</a>.<a href='#message.Message.set_charset', id ='1716213346', onmouseover='highlight(1716213253)', title='message.Message.set_charset :: (Message, ?) -> None'>set_charset</a>(<a href='#message.Message.set_payload@charset', id ='1716213313', onmouseover='highlight(1716216108)', title='message.Message.set_payload@charset :: ?'>charset</a>)
<span class='lineno'>227</span> 
<span class='lineno'>228</span>     def <span class='function'><a name='message.Message.set_charset', id ='1716213253', onmouseover='highlight(1716213346)', title='message.Message.set_charset :: (Message, ?) -> None'>set_charset</span></a>(<a name='message.Message.set_charset@self', id ='1716213220', onmouseover='highlight("1716184554","1716157576","1716157455","1716160525","1716158452","1716154792","1716157397","1716154514","1716155750","1716185327","1716153706","1668817479","1716161359","1716153607","1716160465","1716159595","1716159535","1716155630")', title='message.Message.set_charset@self :: Message'><span class='parameter'>self</a></span>, <a name='message.Message.set_charset@charset', id ='1716213193', title='message.Message.set_charset@charset :: ?'><a name='message.Message.set_charset@charset', id ='1716213193', onmouseover='highlight("1716185419","1716162385","1716156560","1716183523","1716183404","1716154726","1716155692","1716184366","1716161301","1716156527","1716156683","1716153669","1716158384")', title='message.Message.set_charset@charset :: Charset'><span class='parameter'>charset</a></span></a>):
<span class='lineno'>229</span>         <span class='doc-string'>&quot;&quot;&quot;Set the charset of the payload to a given character set.
<span class='lineno'>230</span> 
<span class='lineno'>231</span>         charset can be a Charset instance, a string naming a character set, or
<span class='lineno'>232</span>         None.  If it is a string it will be converted to a Charset instance.
<span class='lineno'>233</span>         If charset is None, the charset parameter will be removed from the
<span class='lineno'>234</span>         Content-Type field.  Anything else will generate a TypeError.
<span class='lineno'>235</span> 
<span class='lineno'>236</span>         The message will be assumed to be of type text/* encoded with
<span class='lineno'>237</span>         charset.input_charset.  It will be converted to charset.output_charset
<span class='lineno'>238</span>         and encoded properly, if needed, when generating the plain text
<span class='lineno'>239</span>         representation of the message.  MIME headers (MIME-Version,
<span class='lineno'>240</span>         Content-Type, Content-Transfer-Encoding) will be added as needed.
<span class='lineno'>241</span> 
<span class='lineno'>242</span>         &quot;&quot;&quot;</span>
<span class='lineno'>243</span>         if <a href='#message.Message.set_charset@charset', id ='1716185419', onmouseover='highlight("1716183618","1716213193")', title='message.Message.set_charset@charset :: Charset'>charset</a> is <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1716185387', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</span></a>:
<span class='lineno'>244</span>             <a href='#message.Message.set_charset@self', id ='1716185327', onmouseover='highlight(1716213220)', title='message.Message.set_charset@self :: Message'>self</a>.<a href='#message.Message.del_param', id ='1716185322', onmouseover='highlight(1667804362)', title='message.Message.del_param :: (Message, str, str, ?) -> None'>del_param</a>(&#39;charset&#39;)
<span class='lineno'>245</span>             <a href='#message.Message.set_charset@self', id ='1716184554', onmouseover='highlight(1716213220)', title='message.Message.set_charset@self :: Message'>self</a>.<a name='message.Message._charset', id ='1716184549', title='message.Message._charset :: Charset'>_charset</a> = <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1716184517', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a></span>
<span class='lineno'>246</span>             return
<span class='lineno'>247</span>         if <a href='http://docs.python.org/library/functions.html#isinstance', id ='1716184398', onmouseover='highlight(37741720)', title='__builtin__.isinstance :: ? -> int'>isinstance</a>(<a href='#message.Message.set_charset@charset', id ='1716184366', onmouseover='highlight("1716183618","1716213193")', title='message.Message.set_charset@charset :: Charset'>charset</a>, <a href='http://docs.python.org/library/functions.html#basestring', id ='1716184336', onmouseover='highlight(980990405)', title='__builtin__.basestring :: ? -> ?'>basestring</a>):
<span class='lineno'>248</span>             <a name='message.Message.set_charset@charset', id ='1716183618', onmouseover='highlight("1716185419","1716162385","1716156560","1716183523","1716183404","1716154726","1716155692","1716184366","1716161301","1716156527","1716156683","1716153669","1716158384")', title='message.Message.set_charset@charset :: Charset'><span class='parameter'>charset</span></a> = <a href='__init__.py.html#__init__.py', id ='1716183587', onmouseover='highlight(1698812256)', title='__init__.py :: email'>email</a>.<a href='charset.py.html#charset', id ='1716183560', onmouseover='highlight(1123572519)', title='charset :: charset'>charset</a>.<a href='charset.py.html#charset.Charset', id ='1716183531', onmouseover='highlight(1912390103)', title='charset.Charset :: <Charset>'>Charset</a>(<a href='#message.Message.set_charset@charset', id ='1716183523', onmouseover='highlight("1716183618","1716213193")', title='message.Message.set_charset@charset :: Charset'>charset</a>)
<span class='lineno'>249</span>         if not <a href='http://docs.python.org/library/functions.html#isinstance', id ='1716183436', onmouseover='highlight(37741720)', title='__builtin__.isinstance :: ? -> int'>isinstance</a>(<a href='#message.Message.set_charset@charset', id ='1716183404', onmouseover='highlight("1716183618","1716213193")', title='message.Message.set_charset@charset :: Charset'>charset</a>, <a href='__init__.py.html#__init__.py', id ='1716183374', onmouseover='highlight(1698812256)', title='__init__.py :: email'>email</a>.<a href='charset.py.html#charset', id ='1716183368', onmouseover='highlight(1123572519)', title='charset :: charset'>charset</a>.<a href='charset.py.html#charset.Charset', id ='1716183339', onmouseover='highlight(1912390103)', title='charset.Charset :: <Charset>'>Charset</a>):
<span class='lineno'>250</span>             raise <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1716162416', onmouseover='highlight(2016665419)', title='__builtin__.TypeError :: <TypeError>'>TypeError</a>(<a href='#message.Message.set_charset@charset', id ='1716162385', onmouseover='highlight("1716183618","1716213193")', title='message.Message.set_charset@charset :: Charset'>charset</a>)
<span class='lineno'>251</span>         # BAW: should we accept strings that can serve as arguments to the
<span class='lineno'>252</span>         # Charset constructor?
<span class='lineno'>253</span>         <a href='#message.Message.set_charset@self', id ='1716161359', onmouseover='highlight(1716213220)', title='message.Message.set_charset@self :: Message'>self</a>.<a name='message.Message._charset', id ='1716161333', title='message.Message._charset :: Charset'>_charset</a> = <a href='#message.Message.set_charset@charset', id ='1716161301', onmouseover='highlight("1716183618","1716213193")', title='message.Message.set_charset@charset :: Charset'>charset</a>
<span class='lineno'>254</span>         if &#39;MIME-Version&#39; not in <a href='#message.Message.set_charset@self', id ='1716160525', onmouseover='highlight(1716213220)', title='message.Message.set_charset@self :: Message'>self</a>:
<span class='lineno'>255</span>             <a href='#message.Message.set_charset@self', id ='1716160465', onmouseover='highlight(1716213220)', title='message.Message.set_charset@self :: Message'>self</a>.<a href='#message.Message.add_header', id ='1716160460', onmouseover='highlight(1668720440)', title='message.Message.add_header :: (MMDFMessage, str, str) -> None | (Message, str, str) -> None'>add_header</a>(&#39;MIME-Version&#39;, &#39;1.0&#39;)
<span class='lineno'>256</span>         if &#39;Content-Type&#39; not in <a href='#message.Message.set_charset@self', id ='1716159595', onmouseover='highlight(1716213220)', title='message.Message.set_charset@self :: Message'>self</a>:
<span class='lineno'>257</span>             <a href='#message.Message.set_charset@self', id ='1716159535', onmouseover='highlight(1716213220)', title='message.Message.set_charset@self :: Message'>self</a>.<a href='#message.Message.add_header', id ='1716159530', onmouseover='highlight(1668720440)', title='message.Message.add_header :: (MMDFMessage, str, str) -> None | (Message, str, str) -> None'>add_header</a>(&#39;Content-Type&#39;, &#39;text/plain&#39;,
<span class='lineno'>258</span>                             charset=charset.get_output_charset())
<span class='lineno'>259</span>         else:
<span class='lineno'>260</span>             <a href='#message.Message.set_charset@self', id ='1716158452', onmouseover='highlight(1716213220)', title='message.Message.set_charset@self :: Message'>self</a>.<a href='#message.Message.set_param', id ='1716158447', onmouseover='highlight(1667885058)', title='message.Message.set_param :: (Message, str, ?, str, ?, ?, str) -> None | (Message, ?, (?, ?, ?), str, ?, ?, str) -> None'>set_param</a>(&#39;charset&#39;, <a href='#message.Message.set_charset@charset', id ='1716158384', onmouseover='highlight("1716183618","1716213193")', title='message.Message.set_charset@charset :: Charset'>charset</a>.<a href='charset.py.html#charset.Charset.get_output_charset', id ='1716158355', onmouseover='highlight(841756932)', title='charset.Charset.get_output_charset :: Charset -> ?'>get_output_charset</a>())
<span class='lineno'>261</span>         if <a href='http://docs.python.org/library/functions.html#isinstance', id ='1716157608', onmouseover='highlight(37741720)', title='__builtin__.isinstance :: ? -> int'>isinstance</a>(<a href='#message.Message.set_charset@self', id ='1716157576', onmouseover='highlight(1716213220)', title='message.Message.set_charset@self :: Message'>self</a>.<a href='#message.Message._payload', id ='1716157550', onmouseover='highlight("1716155724","1716157429","1716214212","1716153701")', title='message.Message._payload :: str'>_payload</a>, <a href='http://docs.python.org/library/functions.html#unicode', id ='1716157519', onmouseover='highlight(1431294356)', title='__builtin__.unicode :: ? -> ?'>unicode</a>):
<span class='lineno'>262</span>             <a href='#message.Message.set_charset@self', id ='1716157455', onmouseover='highlight(1716213220)', title='message.Message.set_charset@self :: Message'>self</a>.<a name='message.Message._payload', id ='1716157429', onmouseover='highlight("1716157392","1716155625","1716157550","1716153581")', title='message.Message._payload :: str'>_payload</a> = <a href='#message.Message.set_charset@self', id ='1716157397', onmouseover='highlight(1716213220)', title='message.Message.set_charset@self :: Message'>self</a>.<a href='#message.Message._payload', id ='1716157392', onmouseover='highlight("1716155724","1716157429","1716214212","1716153701")', title='message.Message._payload :: str'>_payload</a>.<a href='http://docs.python.org/library/stdtypes.html#str.encode', id ='1716156711', onmouseover='highlight(288160569)', title='__builtin__.str.encode :: ? -> str'>encode</a>(<a href='#message.Message.set_charset@charset', id ='1716156683', onmouseover='highlight("1716183618","1716213193")', title='message.Message.set_charset@charset :: Charset'>charset</a>.<a href='charset.py.html#charset.Charset.output_charset', id ='1716156654', onmouseover='highlight(1912271120)', title='charset.Charset.output_charset :: ?'>output_charset</a>)
<span class='lineno'>263</span>         if <a href='http://docs.python.org/library/functions.html#str', id ='1716156585', onmouseover='highlight(141507136)', title='__builtin__.str :: str'>str</a>(<a href='#message.Message.set_charset@charset', id ='1716156560', onmouseover='highlight("1716183618","1716213193")', title='message.Message.set_charset@charset :: Charset'>charset</a>) != <a href='#message.Message.set_charset@charset', id ='1716156527', onmouseover='highlight("1716183618","1716213193")', title='message.Message.set_charset@charset :: Charset'>charset</a>.<a href='charset.py.html#charset.Charset.get_output_charset', id ='1716156498', onmouseover='highlight(841756932)', title='charset.Charset.get_output_charset :: Charset -> ?'>get_output_charset</a>():
<span class='lineno'>264</span>             <a href='#message.Message.set_charset@self', id ='1716155750', onmouseover='highlight(1716213220)', title='message.Message.set_charset@self :: Message'>self</a>.<a name='message.Message._payload', id ='1716155724', onmouseover='highlight("1716157392","1716155625","1716157550","1716153581")', title='message.Message._payload :: str'>_payload</a> = <a href='#message.Message.set_charset@charset', id ='1716155692', onmouseover='highlight("1716183618","1716213193")', title='message.Message.set_charset@charset :: Charset'>charset</a>.<a href='charset.py.html#charset.Charset.body_encode', id ='1716155684', onmouseover='highlight(841839738)', title='charset.Charset.body_encode :: (Charset, str, ?) -> str'>body_encode</a>(<a href='#message.Message.set_charset@self', id ='1716155630', onmouseover='highlight(1716213220)', title='message.Message.set_charset@self :: Message'>self</a>.<a href='#message.Message._payload', id ='1716155625', onmouseover='highlight("1716155724","1716157429","1716214212","1716153701")', title='message.Message._payload :: str'>_payload</a>)
<span class='lineno'>265</span>         if &#39;Content-Transfer-Encoding&#39; not in <a href='#message.Message.set_charset@self', id ='1716154792', onmouseover='highlight(1716213220)', title='message.Message.set_charset@self :: Message'>self</a>:
<span class='lineno'>266</span>             <a name='message.Message.set_charset&cte', id ='1716154732', onmouseover='highlight("1716154539","1668817350")', title='message.Message.set_charset&cte :: str'><span class='identifier'>cte</span></a> = <a href='#message.Message.set_charset@charset', id ='1716154726', onmouseover='highlight("1716183618","1716213193")', title='message.Message.set_charset@charset :: Charset'>charset</a>.<a href='charset.py.html#charset.Charset.get_body_encoding', id ='1716154697', onmouseover='highlight(1912265107)', title='charset.Charset.get_body_encoding :: Charset -> str'>get_body_encoding</a>()
<span class='lineno'>267</span>             try:
<span class='lineno'>268</span>                 <a href='#message.Message.set_charset&cte', id ='1716154539', onmouseover='highlight(1716154732)', title='message.Message.set_charset&cte :: str'>cte</a>(<a href='#message.Message.set_charset@self', id ='1716154514', onmouseover='highlight(1716213220)', title='message.Message.set_charset@self :: Message'>self</a>)
<span class='lineno'>269</span>             except <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1716153796', onmouseover='highlight(2016665419)', title='__builtin__.TypeError :: <TypeError>'>TypeError</a>:
<span class='lineno'>270</span>                 <a href='#message.Message.set_charset@self', id ='1716153706', onmouseover='highlight(1716213220)', title='message.Message.set_charset@self :: Message'>self</a>.<a name='message.Message._payload', id ='1716153701', onmouseover='highlight("1716157392","1716155625","1716157550","1716153581")', title='message.Message._payload :: str'>_payload</a> = <a href='#message.Message.set_charset@charset', id ='1716153669', onmouseover='highlight("1716183618","1716213193")', title='message.Message.set_charset@charset :: Charset'>charset</a>.<a href='charset.py.html#charset.Charset.body_encode', id ='1716153640', onmouseover='highlight(841839738)', title='charset.Charset.body_encode :: (Charset, str, ?) -> str'>body_encode</a>(<a href='#message.Message.set_charset@self', id ='1716153607', onmouseover='highlight(1716213220)', title='message.Message.set_charset@self :: Message'>self</a>.<a href='#message.Message._payload', id ='1716153581', onmouseover='highlight("1716155724","1716157429","1716214212","1716153701")', title='message.Message._payload :: str'>_payload</a>)
<span class='lineno'>271</span>                 <a href='#message.Message.set_charset@self', id ='1668817479', onmouseover='highlight(1716213220)', title='message.Message.set_charset@self :: Message'>self</a>.<a href='#message.Message.add_header', id ='1668817474', onmouseover='highlight(1668720440)', title='message.Message.add_header :: (MMDFMessage, str, str) -> None | (Message, str, str) -> None'>add_header</a>(&#39;Content-Transfer-Encoding&#39;, <a href='#message.Message.set_charset&cte', id ='1668817350', onmouseover='highlight(1716154732)', title='message.Message.set_charset&cte :: str'>cte</a>)
<span class='lineno'>272</span> 
<span class='lineno'>273</span>     def <span class='function'><a name='message.Message.get_charset', id ='1668817315', title='message.Message.get_charset :: Message -> ?'>get_charset</a></span>(<span class='parameter'><a name='message.Message.get_charset@self', id ='1668817261', onmouseover='highlight(1668816267)', title='message.Message.get_charset@self :: Message'>self</span></a>):
<span class='lineno'>274</span>         <span class='doc-string'>&quot;&quot;&quot;Return the Charset instance associated with the message&#39;s payload.
<span class='lineno'>275</span>         &quot;&quot;&quot;</span>
<span class='lineno'>276</span>         return <a href='#message.Message.get_charset@self', id ='1668816267', onmouseover='highlight(1668817261)', title='message.Message.get_charset@self :: Message'>self</a>.<a href='#message.Message._charset', id ='1668816262', onmouseover='highlight(1716334377)', title='message.Message._charset :: ?'>_charset</a>
<span class='lineno'>277</span> 
<span class='lineno'>278</span>     #
<span class='lineno'>279</span>     # MAPPING INTERFACE (partial)
<span class='lineno'>280</span>     #
<span class='lineno'>281</span>     def <a name='message.Message.__len__', id ='1668815400', title='message.Message.__len__ :: Message -> ?'><span class='function'>__len__</span></a>(<a name='message.Message.__len__@self', id ='1668815371', onmouseover='highlight(1668814433)', title='message.Message.__len__@self :: Message'><span class='parameter'>self</span></a>):
<span class='lineno'>282</span>         <span class='doc-string'>&quot;&quot;&quot;Return the total number of headers, including duplicates.&quot;&quot;&quot;</span>
<span class='lineno'>283</span>         return <a href='http://docs.python.org/library/functions.html#len', id ='1668814437', onmouseover='highlight(134591780)', title='__builtin__.len :: ? -> int'>len</a>(<a href='#message.Message.__len__@self', id ='1668814433', onmouseover='highlight(1668815371)', title='message.Message.__len__@self :: Message'>self</a>.<a href='#message.Message._headers', id ='1668814407', onmouseover='highlight("1716335303","1667651786","1668784581")', title='message.Message._headers :: {[(?, ?)] | [?]}'>_headers</a>)
<span class='lineno'>284</span> 
<span class='lineno'>285</span>     def <a name='message.Message.__getitem__', id ='1668814346', title='message.Message.__getitem__ :: (Message, ?) -> ?'><span class='function'>__getitem__</span></a>(<span class='parameter'><a name='message.Message.__getitem__@self', id ='1668813662', onmouseover='highlight(1668810651)', title='message.Message.__getitem__@self :: Message'>self</span></a>, <a name='message.Message.__getitem__@name', id ='1668813635', onmouseover='highlight(1668810621)', title='message.Message.__getitem__@name :: ?'><span class='parameter'>name</a></span>):
<span class='lineno'>286</span>         <span class='doc-string'>&quot;&quot;&quot;Get a header value.
<span class='lineno'>287</span> 
<span class='lineno'>288</span>         Return None if the header is missing instead of raising an exception.
<span class='lineno'>289</span> 
<span class='lineno'>290</span>         Note that if the header appeared multiple times, exactly which
<span class='lineno'>291</span>         occurrence gets returned is undefined.  Use get_all() to get all
<span class='lineno'>292</span>         the values matching a header field name.
<span class='lineno'>293</span>         &quot;&quot;&quot;</span>
<span class='lineno'>294</span>         return <a href='#message.Message.__getitem__@self', id ='1668810651', onmouseover='highlight(1668813662)', title='message.Message.__getitem__@self :: Message'>self</a>.<a href='#message.Message.get', id ='1668810625', onmouseover='highlight(1668750176)', title='message.Message.get :: (MMDFMessage, str, str) -> str | (MaildirMessage, str, str) -> str | (Message, str, object) -> object'>get</a>(<a href='#message.Message.__getitem__@name', id ='1668810621', onmouseover='highlight(1668813635)', title='message.Message.__getitem__@name :: ?'>name</a>)
<span class='lineno'>295</span> 
<span class='lineno'>296</span>     def <a name='message.Message.__setitem__', id ='1668810564', title='message.Message.__setitem__ :: (Message, ?, ?) -> None'><span class='function'>__setitem__</span></a>(<a name='message.Message.__setitem__@self', id ='1668810531', onmouseover='highlight(1668787710)', title='message.Message.__setitem__@self :: Message'><span class='parameter'>self</span></a>, <span class='parameter'><a name='message.Message.__setitem__@name', id ='1668810504', onmouseover='highlight(1668787625)', title='message.Message.__setitem__@name :: ?'>name</span></a>, <a name='message.Message.__setitem__@val', id ='1668810498', onmouseover='highlight(1668787619)', title='message.Message.__setitem__@val :: ?'><span class='parameter'>val</span></a>):
<span class='lineno'>297</span>         <span class='doc-string'>&quot;&quot;&quot;Set the value of a header.
<span class='lineno'>298</span> 
<span class='lineno'>299</span>         Note: this does not overwrite an existing header with the same field
<span class='lineno'>300</span>         name.  Use __delitem__() first to delete any existing headers.
<span class='lineno'>301</span>         &quot;&quot;&quot;</span>
<span class='lineno'>302</span>         <a href='#message.Message.__setitem__@self', id ='1668787710', onmouseover='highlight(1668810531)', title='message.Message.__setitem__@self :: Message'>self</a>.<a href='#message.Message._headers', id ='1668787684', onmouseover='highlight("1716335303","1667651786","1668784581")', title='message.Message._headers :: {[(?, ?)] | [?]}'>_headers</a>.<a href='http://docs.python.org/library/stdtypes.html', id ='1668787654', onmouseover='highlight(592677897)', title='__builtin__.list.append :: ? -> None'>append</a>((<a href='#message.Message.__setitem__@name', id ='1668787625', onmouseover='highlight(1668810504)', title='message.Message.__setitem__@name :: ?'>name</a>, <a href='#message.Message.__setitem__@val', id ='1668787619', onmouseover='highlight(1668810498)', title='message.Message.__setitem__@val :: ?'>val</a>))
<span class='lineno'>303</span> 
<span class='lineno'>304</span>     def <span class='function'><a name='message.Message.__delitem__', id ='1668787562', title='message.Message.__delitem__ :: (Message, ?) -> None'>__delitem__</a></span>(<a name='message.Message.__delitem__@self', id ='1668787529', onmouseover='highlight("1668784586","1668785546")', title='message.Message.__delitem__@self :: Message'><span class='parameter'>self</a></span>, <a name='message.Message.__delitem__@name', id ='1668787502', onmouseover='highlight("1668784768","1668785729")', title='message.Message.__delitem__@name :: ?'>name</a>):
<span class='lineno'>305</span>         <span class='doc-string'>&quot;&quot;&quot;Delete all occurrences of a header, if present.
<span class='lineno'>306</span> 
<span class='lineno'>307</span>         Does not raise an exception if the header is missing.
<span class='lineno'>308</span>         &quot;&quot;&quot;</span>
<span class='lineno'>309</span>         <a name='message.Message.__delitem__@name', id ='1668785757', onmouseover='highlight("1668784768","1668785729")', title='message.Message.__delitem__@name :: ?'><span class='parameter'>name</a></span> = <a href='#message.Message.__delitem__@name', id ='1668785729', onmouseover='highlight("1668785757","1668787502")', title='message.Message.__delitem__@name :: ?'>name</a>.lower()
<span class='lineno'>310</span>         <span class='identifier'><a name='message.Message.__delitem__&newheaders', id ='1668785666', onmouseover='highlight("1668784704","1668784549")', title='message.Message.__delitem__&newheaders :: [?]'>newheaders</span></a> = []
<span class='lineno'>311</span>         for <a name='message.Message.__delitem__&k', id ='1668785575', onmouseover='highlight("1668784643","1668784802")', title='message.Message.__delitem__&k :: ?'>k</a>, <a name='message.Message.__delitem__&v', id ='1668785572', onmouseover='highlight(1668784619)', title='message.Message.__delitem__&v :: ?'>v</a> in <a href='#message.Message.__delitem__@self', id ='1668785546', onmouseover='highlight(1668787529)', title='message.Message.__delitem__@self :: Message'>self</a>.<a href='#message.Message._headers', id ='1668785541', onmouseover='highlight("1716335303","1667651786","1668784581")', title='message.Message._headers :: {[(?, ?)] | [?]}'>_headers</a>:
<span class='lineno'>312</span>             if <a href='#message.Message.__delitem__&k', id ='1668784802', onmouseover='highlight(1668785575)', title='message.Message.__delitem__&k :: ?'>k</a>.lower() != <a href='#message.Message.__delitem__@name', id ='1668784768', onmouseover='highlight("1668785757","1668787502")', title='message.Message.__delitem__@name :: ?'>name</a>:
<span class='lineno'>313</span>                 <a href='#message.Message.__delitem__&newheaders', id ='1668784704', onmouseover='highlight(1668785666)', title='message.Message.__delitem__&newheaders :: [?]'>newheaders</a>.<a href='http://docs.python.org/library/stdtypes.html', id ='1668784672', onmouseover='highlight(592677897)', title='__builtin__.list.append :: ? -> None'>append</a>((<a href='#message.Message.__delitem__&k', id ='1668784643', onmouseover='highlight(1668785575)', title='message.Message.__delitem__&k :: ?'>k</a>, <a href='#message.Message.__delitem__&v', id ='1668784619', onmouseover='highlight(1668785572)', title='message.Message.__delitem__&v :: ?'>v</a>))
<span class='lineno'>314</span>         <a href='#message.Message.__delitem__@self', id ='1668784586', onmouseover='highlight(1668787529)', title='message.Message.__delitem__@self :: Message'>self</a>.<a name='message.Message._headers', id ='1668784581', onmouseover='highlight("1668787684","1668753982","1668666438","1668757764","1668722215","1668690652","1667655660","1668728006","1668785541","1668782911","1668666631","1668667341","1668814407","1668750239")', title='message.Message._headers :: {[(?, ?)] | [?]}'>_headers</a> = <a href='#message.Message.__delitem__&newheaders', id ='1668784549', onmouseover='highlight(1668785666)', title='message.Message.__delitem__&newheaders :: [?]'>newheaders</a>
<span class='lineno'>315</span> 
<span class='lineno'>316</span>     def <a name='message.Message.__contains__', id ='1668783836', title='message.Message.__contains__ :: (Message, ?) -> int'><span class='function'>__contains__</a></span>(<span class='parameter'><a name='message.Message.__contains__@self', id ='1668783781', onmouseover='highlight(1668783588)', title='message.Message.__contains__@self :: Message'>self</a></span>, <a name='message.Message.__contains__@name', id ='1668783775', onmouseover='highlight(1668783711)', title='message.Message.__contains__@name :: ?'><span class='parameter'>name</span></a>):
<span class='lineno'>317</span>         return <a href='#message.Message.__contains__@name', id ='1668783711', onmouseover='highlight(1668783775)', title='message.Message.__contains__@name :: ?'>name</a>.lower() in [<a href='#message.Message.__contains__&k', id ='1668783652', onmouseover='highlight(1668783596)', title='message.Message.__contains__&k :: ?'>k</a>.lower() for <a name='message.Message.__contains__&k', id ='1668783596', onmouseover='highlight("1668783652","1668783596")', title='message.Message.__contains__&k :: ?'><a href='#message.Message.__contains__&k', id ='1668783596', onmouseover='highlight(1668783596)', title='message.Message.__contains__&k :: ?'>k</a></a>, <a href='#message.Message.__contains__&v', id ='1668783593', onmouseover='highlight(1668783593)', title='message.Message.__contains__&v :: ?'><a name='message.Message.__contains__&v', id ='1668783593', onmouseover='highlight(1668783593)', title='message.Message.__contains__&v :: ?'>v</a></a> in <a href='#message.Message.__contains__@self', id ='1668783588', onmouseover='highlight(1668783781)', title='message.Message.__contains__@self :: Message'>self</a>.<a href='#message.Message._headers', id ='1668782911', onmouseover='highlight("1716335303","1667651786","1668784581")', title='message.Message._headers :: {[(?, ?)] | [?]}'>_headers</a>]
<span class='lineno'>318</span> 
<span class='lineno'>319</span>     def <span class='function'><a name='message.Message.has_key', id ='1668782850', title='message.Message.has_key :: (Message, ?) -> int'>has_key</span></a>(<a name='message.Message.has_key@self', id ='1668782821', onmouseover='highlight(1668781822)', title='message.Message.has_key@self :: Message'><span class='parameter'>self</span></a>, <span class='parameter'><a name='message.Message.has_key@name', id ='1668782815', onmouseover='highlight(1668781792)', title='message.Message.has_key@name :: ?'>name</a></span>):
<span class='lineno'>320</span>         <span class='doc-string'>&quot;&quot;&quot;Return true if the message contains the header.&quot;&quot;&quot;</span>
<span class='lineno'>321</span>         <span class='identifier'><a name='message.Message.has_key&missing', id ='1668781919', onmouseover='highlight("1668781728","1668781765")', title='message.Message.has_key&missing :: object'>missing</span></a> = <a href='http://docs.python.org/library/functions.html#object', id ='1668781888', onmouseover='highlight(628986520)', title='__builtin__.object :: <object>'>object</a>()
<span class='lineno'>322</span>         return <a href='#message.Message.has_key@self', id ='1668781822', onmouseover='highlight(1668782821)', title='message.Message.has_key@self :: Message'>self</a>.<a href='#message.Message.get', id ='1668781796', onmouseover='highlight(1668750176)', title='message.Message.get :: (MMDFMessage, str, str) -> str | (MaildirMessage, str, str) -> str | (Message, str, object) -> object'>get</a>(<a href='#message.Message.has_key@name', id ='1668781792', onmouseover='highlight(1668782815)', title='message.Message.has_key@name :: ?'>name</a>, <a href='#message.Message.has_key&missing', id ='1668781765', onmouseover='highlight(1668781919)', title='message.Message.has_key&missing :: object'>missing</a>) is not <a href='#message.Message.has_key&missing', id ='1668781728', onmouseover='highlight(1668781919)', title='message.Message.has_key&missing :: object'>missing</a>
<span class='lineno'>323</span> 
<span class='lineno'>324</span>     def <a name='message.Message.keys', id ='1668781669', onmouseover='highlight("1552076209","1552076140","1550438786","1550439782","1550442571","1939675422","1550416714","1550174298","1550444367","1552076359")', title='message.Message.keys :: Message -> [?] | Message -> [?]'><span class='function'>keys</a></span>(<span class='parameter'><a name='message.Message.keys@self', id ='1668780992', onmouseover='highlight(1668757769)', title='message.Message.keys@self :: {Message | Message}'>self</span></a>):
<span class='lineno'>325</span>         <span class='doc-string'>&quot;&quot;&quot;Return a list of all the message&#39;s header field names.
<span class='lineno'>326</span> 
<span class='lineno'>327</span>         These will be sorted in the order they appeared in the original
<span class='lineno'>328</span>         message, or were added to the message, and may contain duplicates.
<span class='lineno'>329</span>         Any fields deleted and re-inserted are always appended to the header
<span class='lineno'>330</span>         list.
<span class='lineno'>331</span>         &quot;&quot;&quot;</span>
<span class='lineno'>332</span>         return [<a href='#message.Message.keys&k', id ='1668757804', onmouseover='highlight(1668757798)', title='message.Message.keys&k :: ?'>k</a> for <a name='message.Message.keys&k', id ='1668757798', onmouseover='highlight("1668757804","1668757798")', title='message.Message.keys&k :: ?'><a href='#message.Message.keys&k', id ='1668757798', onmouseover='highlight(1668757798)', title='message.Message.keys&k :: ?'>k</a></a>, <a href='#message.Message.keys&v', id ='1668757795', onmouseover='highlight(1668757795)', title='message.Message.keys&v :: ?'><a name='message.Message.keys&v', id ='1668757795', onmouseover='highlight(1668757795)', title='message.Message.keys&v :: ?'>v</a></a> in <a href='#message.Message.keys@self', id ='1668757769', onmouseover='highlight(1668780992)', title='message.Message.keys@self :: {Message | Message}'>self</a>.<a href='#message.Message._headers', id ='1668757764', onmouseover='highlight("1716335303","1667651786","1668784581")', title='message.Message._headers :: {[(?, ?)] | [?]}'>_headers</a>]
<span class='lineno'>333</span> 
<span class='lineno'>334</span>     def <a name='message.Message.values', id ='1668757703', title='message.Message.values :: Message -> [?]'><span class='function'>values</a></span>(<span class='parameter'><a name='message.Message.values@self', id ='1668757675', onmouseover='highlight(1668753987)', title='message.Message.values@self :: Message'>self</a></span>):
<span class='lineno'>335</span>         <span class='doc-string'>&quot;&quot;&quot;Return a list of all the message&#39;s header values.
<span class='lineno'>336</span> 
<span class='lineno'>337</span>         These will be sorted in the order they appeared in the original
<span class='lineno'>338</span>         message, or were added to the message, and may contain duplicates.
<span class='lineno'>339</span>         Any fields deleted and re-inserted are always appended to the header
<span class='lineno'>340</span>         list.
<span class='lineno'>341</span>         &quot;&quot;&quot;</span>
<span class='lineno'>342</span>         return [<a href='#message.Message.values&v', id ='1668754022', onmouseover='highlight(1668754013)', title='message.Message.values&v :: ?'>v</a> for <a name='message.Message.values&k', id ='1668754016', onmouseover='highlight(1668754016)', title='message.Message.values&k :: ?'><a href='#message.Message.values&k', id ='1668754016', onmouseover='highlight(1668754016)', title='message.Message.values&k :: ?'>k</a></a>, <a href='#message.Message.values&v', id ='1668754013', onmouseover='highlight(1668754013)', title='message.Message.values&v :: ?'><a name='message.Message.values&v', id ='1668754013', onmouseover='highlight("1668754022","1668754013")', title='message.Message.values&v :: ?'>v</a></a> in <a href='#message.Message.values@self', id ='1668753987', onmouseover='highlight(1668757675)', title='message.Message.values@self :: Message'>self</a>.<a href='#message.Message._headers', id ='1668753982', onmouseover='highlight("1716335303","1667651786","1668784581")', title='message.Message._headers :: {[(?, ?)] | [?]}'>_headers</a>]
<span class='lineno'>343</span> 
<span class='lineno'>344</span>     def <a name='message.Message.items', id ='1668753921', title='message.Message.items :: Message -> [(?, ?)]'><span class='function'>items</span></a>(<span class='parameter'><a name='message.Message.items@self', id ='1668753894', onmouseover='highlight(1668750916)', title='message.Message.items@self :: Message'>self</a></span>):
<span class='lineno'>345</span>         <span class='doc-string'>&quot;&quot;&quot;Get all the message&#39;s header fields and values.
<span class='lineno'>346</span> 
<span class='lineno'>347</span>         These will be sorted in the order they appeared in the original
<span class='lineno'>348</span>         message, or were added to the message, and may contain duplicates.
<span class='lineno'>349</span>         Any fields deleted and re-inserted are always appended to the header
<span class='lineno'>350</span>         list.
<span class='lineno'>351</span>         &quot;&quot;&quot;</span>
<span class='lineno'>352</span>         return <a href='#message.Message.items@self', id ='1668750916', onmouseover='highlight(1668753894)', title='message.Message.items@self :: Message'>self</a>.<a href='#message.Message._headers', id ='1668750239', onmouseover='highlight("1716335303","1667651786","1668784581")', title='message.Message._headers :: {[(?, ?)] | [?]}'>_headers</a>[:]
<span class='lineno'>353</span> 
<span class='lineno'>354</span>     def <a name='message.Message.get', id ='1668750176', onmouseover='highlight("1667795836","1938838267","1668810625","1668781796","1668638483","1938838334","1716244165","1667804614","1667833446","1668601154")', title='message.Message.get :: (MMDFMessage, str, str) -> str | (MaildirMessage, str, str) -> str | (Message, str, object) -> object'><span class='function'>get</span></a>(<span class='parameter'><a name='message.Message.get@self', id ='1668750172', onmouseover='highlight(1668728011)', title='message.Message.get@self :: {MaildirMessage | MMDFMessage | Message}'>self</a></span>, <span class='parameter'><a name='message.Message.get@name', id ='1668750145', onmouseover='highlight(1668728128)', title='message.Message.get@name :: str'>name</span></a>, <span class='parameter'><a name='message.Message.get@failobj', id ='1668750139', onmouseover='highlight(1668727082)', title='message.Message.get@failobj :: {object | str}'>failobj</a></span>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1668750110', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a>):
<span class='lineno'>355</span>         <span class='doc-string'>&quot;&quot;&quot;Get a header value.
<span class='lineno'>356</span> 
<span class='lineno'>357</span>         Like __getitem__() but return failobj instead of None when the field
<span class='lineno'>358</span>         is missing.
<span class='lineno'>359</span>         &quot;&quot;&quot;</span>
<span class='lineno'>360</span>         <span class='identifier'><a name='message.Message.get&name', id ='1668728135', onmouseover='highlight(1668727884)', title='message.Message.get&name :: ?'>name</span></a> = <a href='#message.Message.get@name', id ='1668728128', onmouseover='highlight(1668750145)', title='message.Message.get@name :: str'>name</a>.<a href='http://docs.python.org/library/stdtypes.html#str.lower', id ='1668728102', onmouseover='highlight(400228296)', title='__builtin__.str.lower :: ? -> str'>lower</a>()
<span class='lineno'>361</span>         for <a name='message.Message.get&k', id ='1668728040', onmouseover='highlight(1668727918)', title='message.Message.get&k :: ?'>k</a>, <a name='message.Message.get&v', id ='1668728037', onmouseover='highlight(1668727141)', title='message.Message.get&v :: ?'>v</a> in <a href='#message.Message.get@self', id ='1668728011', onmouseover='highlight(1668750172)', title='message.Message.get@self :: {MaildirMessage | MMDFMessage | Message}'>self</a>.<a href='#message.Message._headers', id ='1668728006', onmouseover='highlight("1716335303","1667651786","1668784581")', title='message.Message._headers :: {[(?, ?)] | [?]}'>_headers</a>:
<span class='lineno'>362</span>             if <a href='#message.Message.get&k', id ='1668727918', onmouseover='highlight(1668728040)', title='message.Message.get&k :: ?'>k</a>.lower() == <a href='#message.Message.get&name', id ='1668727884', onmouseover='highlight(1668728135)', title='message.Message.get&name :: ?'>name</a>:
<span class='lineno'>363</span>                 return <a href='#message.Message.get&v', id ='1668727141', onmouseover='highlight(1668728037)', title='message.Message.get&v :: ?'>v</a>
<span class='lineno'>364</span>         return <a href='#message.Message.get@failobj', id ='1668727082', onmouseover='highlight(1668750139)', title='message.Message.get@failobj :: {object | str}'>failobj</a>
<span class='lineno'>365</span> 
<span class='lineno'>366</span>     #
<span class='lineno'>367</span>     # Additional useful stuff
<span class='lineno'>368</span>     #
<span class='lineno'>369</span> 
<span class='lineno'>370</span>     def <a name='message.Message.get_all', id ='1668726896', onmouseover='highlight(323401646)', title='message.Message.get_all :: (MaildirMessage, ?, ?) -> [?] | (Message, ?, ?) -> [?]'><span class='function'>get_all</span></a>(<span class='parameter'><a name='message.Message.get_all@self', id ='1668726888', onmouseover='highlight(1668722241)', title='message.Message.get_all@self :: {Message | MaildirMessage}'>self</a></span>, <span class='parameter'><a name='message.Message.get_all@name', id ='1668726210', onmouseover='highlight("1668722337","1668722114")', title='message.Message.get_all@name :: ?'>name</span></a>, <span class='parameter'><a name='message.Message.get_all@failobj', id ='1668726183', onmouseover='highlight(1668721193)', title='message.Message.get_all@failobj :: ?'>failobj</a></span>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1668726175', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a>):
<span class='lineno'>371</span>         <span class='doc-string'>&quot;&quot;&quot;Return a list of all the values for the named field.
<span class='lineno'>372</span> 
<span class='lineno'>373</span>         These will be sorted in the order they appeared in the original
<span class='lineno'>374</span>         message, and may contain duplicates.  Any fields deleted and
<span class='lineno'>375</span>         re-inserted are always appended to the header list.
<span class='lineno'>376</span> 
<span class='lineno'>377</span>         If no such fields exist, failobj is returned (defaults to None).
<span class='lineno'>378</span>         &quot;&quot;&quot;</span>
<span class='lineno'>379</span>         <span class='identifier'><a name='message.Message.get_all&values', id ='1668723078', onmouseover='highlight("1668721283","1668721128","1668721378")', title='message.Message.get_all&values :: [?]'>values</span></a> = []
<span class='lineno'>380</span>         <a name='message.Message.get_all@name', id ='1668722365', onmouseover='highlight("1668722337","1668722114")', title='message.Message.get_all@name :: ?'>name</a> = <a href='#message.Message.get_all@name', id ='1668722337', onmouseover='highlight("1668726210","1668722365")', title='message.Message.get_all@name :: ?'>name</a>.lower()
<span class='lineno'>381</span>         for <a name='message.Message.get_all&k', id ='1668722270', onmouseover='highlight(1668722148)', title='message.Message.get_all&k :: ?'>k</a>, <a name='message.Message.get_all&v', id ='1668722246', onmouseover='highlight(1668721343)', title='message.Message.get_all&v :: ?'>v</a> in <a href='#message.Message.get_all@self', id ='1668722241', onmouseover='highlight(1668726888)', title='message.Message.get_all@self :: {Message | MaildirMessage}'>self</a>.<a href='#message.Message._headers', id ='1668722215', onmouseover='highlight("1716335303","1667651786","1668784581")', title='message.Message._headers :: {[(?, ?)] | [?]}'>_headers</a>:
<span class='lineno'>382</span>             if <a href='#message.Message.get_all&k', id ='1668722148', onmouseover='highlight(1668722270)', title='message.Message.get_all&k :: ?'>k</a>.lower() == <a href='#message.Message.get_all@name', id ='1668722114', onmouseover='highlight("1668726210","1668722365")', title='message.Message.get_all@name :: ?'>name</a>:
<span class='lineno'>383</span>                 <a href='#message.Message.get_all&values', id ='1668721378', onmouseover='highlight(1668723078)', title='message.Message.get_all&values :: [?]'>values</a>.<a href='http://docs.python.org/library/stdtypes.html', id ='1668721371', onmouseover='highlight(592677897)', title='__builtin__.list.append :: ? -> None'>append</a>(<a href='#message.Message.get_all&v', id ='1668721343', onmouseover='highlight(1668722246)', title='message.Message.get_all&v :: ?'>v</a>)
<span class='lineno'>384</span>         if not <a href='#message.Message.get_all&values', id ='1668721283', onmouseover='highlight(1668723078)', title='message.Message.get_all&values :: [?]'>values</a>:
<span class='lineno'>385</span>             return <a href='#message.Message.get_all@failobj', id ='1668721193', onmouseover='highlight(1668726183)', title='message.Message.get_all@failobj :: ?'>failobj</a>
<span class='lineno'>386</span>         return <a href='#message.Message.get_all&values', id ='1668721128', onmouseover='highlight(1668723078)', title='message.Message.get_all&values :: [?]'>values</a>
<span class='lineno'>387</span> 
<span class='lineno'>388</span>     def <span class='function'><a name='message.Message.add_header', id ='1668720440', onmouseover='highlight("1716159530","1716160460","1668817474","1939491714","1939489948")', title='message.Message.add_header :: (MMDFMessage, str, str) -> None | (Message, str, str) -> None'>add_header</span></a>(<a name='message.Message.add_header@self', id ='1668720387', onmouseover='highlight(1668690657)', title='message.Message.add_header@self :: {MMDFMessage | Message}'><span class='parameter'>self</span></a>, <a name='message.Message.add_header@_name', id ='1668720381', onmouseover='highlight(1668690593)', title='message.Message.add_header@_name :: str'><span class='parameter'>_name</a></span>, <a name='message.Message.add_header@_value', id ='1668720353', onmouseover='highlight("1668691366","1668691519")', title='message.Message.add_header@_value :: str'><span class='parameter'>_value</span></a>, **_params):
<span class='lineno'>389</span>         <span class='doc-string'>&quot;&quot;&quot;Extended header setting.
<span class='lineno'>390</span> 
<span class='lineno'>391</span>         name is the header field to add.  keyword arguments can be used to set
<span class='lineno'>392</span>         additional parameters for the header field, with underscores converted
<span class='lineno'>393</span>         to dashes.  Normally the parameter will be added as key=&quot;value&quot; unless
<span class='lineno'>394</span>         value is None, in which case only the key will be added.  If a
<span class='lineno'>395</span>         parameter value contains non-ASCII characters it must be specified as a
<span class='lineno'>396</span>         three-tuple of (charset, language, value), in which case it will be
<span class='lineno'>397</span>         encoded according to RFC2231 rules.
<span class='lineno'>398</span> 
<span class='lineno'>399</span>         Example:
<span class='lineno'>400</span> 
<span class='lineno'>401</span>         msg.add_header(&#39;content-disposition&#39;, &#39;attachment&#39;, filename=&#39;bud.gif&#39;)
<span class='lineno'>402</span>         &quot;&quot;&quot;</span>
<span class='lineno'>403</span>         <span class='identifier'><a name='message.Message.add_header&parts', id ='1668693503', onmouseover='highlight("1668692573","1668692358","1668691424","1668690529")', title='message.Message.add_header&parts :: [?]'>parts</span></a> = []
<span class='lineno'>404</span>         for <a name='message.Message.add_header&k', id ='1668693417', onmouseover='highlight("1668691618","1668692518")', title='message.Message.add_header&k :: ?'>k</a>, <a name='message.Message.add_header&v', id ='1668693414', onmouseover='highlight("1668691555","1668693293")', title='message.Message.add_header&v :: ?'>v</a> in <a href='#message.Message.add_header@_params', id ='1668693409', onmouseover='highlight(1123572645)', title='message.Message.add_header@_params :: ?'>_params</a>.items():
<span class='lineno'>405</span>             if <a href='#message.Message.add_header&v', id ='1668693293', onmouseover='highlight(1668693414)', title='message.Message.add_header&v :: ?'>v</a> is <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1668693288', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a></span>:
<span class='lineno'>406</span>                 <a href='#message.Message.add_header&parts', id ='1668692573', onmouseover='highlight(1668693503)', title='message.Message.add_header&parts :: [?]'>parts</a>.<a href='http://docs.python.org/library/stdtypes.html', id ='1668692546', onmouseover='highlight(592677897)', title='__builtin__.list.append :: ? -> None'>append</a>(<a href='#message.Message.add_header&k', id ='1668692518', onmouseover='highlight(1668693417)', title='message.Message.add_header&k :: ?'>k</a>.replace(&#39;_&#39;, &#39;-&#39;))
<span class='lineno'>407</span>             else:
<span class='lineno'>408</span>                 <a href='#message.Message.add_header&parts', id ='1668692358', onmouseover='highlight(1668693503)', title='message.Message.add_header&parts :: [?]'>parts</a>.<a href='http://docs.python.org/library/stdtypes.html', id ='1668692331', onmouseover='highlight(592677897)', title='__builtin__.list.append :: ? -> None'>append</a>(<a href='#message._formatparam', id ='1668692324', onmouseover='highlight(471001829)', title='message._formatparam :: (str, (?, str, ?), ?) -> str'>_formatparam</a>(<a href='#message.Message.add_header&k', id ='1668691618', onmouseover='highlight(1668693417)', title='message.Message.add_header&k :: ?'>k</a>.replace(&#39;_&#39;, &#39;-&#39;), <a href='#message.Message.add_header&v', id ='1668691555', onmouseover='highlight(1668693414)', title='message.Message.add_header&v :: ?'>v</a>))
<span class='lineno'>409</span>         if <a href='#message.Message.add_header@_value', id ='1668691519', onmouseover='highlight(1668720353)', title='message.Message.add_header@_value :: str'>_value</a> is not <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1668691463', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</span></a>:
<span class='lineno'>410</span>             <a href='#message.Message.add_header&parts', id ='1668691424', onmouseover='highlight(1668693503)', title='message.Message.add_header&parts :: [?]'>parts</a>.<a href='http://docs.python.org/library/stdtypes.html', id ='1668691397', onmouseover='highlight(592677897)', title='__builtin__.list.insert :: ? -> None'>insert</a>(<span class='number'>0</span>, <a href='#message.Message.add_header@_value', id ='1668691366', onmouseover='highlight(1668720353)', title='message.Message.add_header@_value :: str'>_value</a>)
<span class='lineno'>411</span>         <a href='#message.Message.add_header@self', id ='1668690657', onmouseover='highlight(1668720387)', title='message.Message.add_header@self :: {MMDFMessage | Message}'>self</a>.<a href='#message.Message._headers', id ='1668690652', onmouseover='highlight("1716335303","1667651786","1668784581")', title='message.Message._headers :: {[(?, ?)] | [?]}'>_headers</a>.<a href='http://docs.python.org/library/stdtypes.html', id ='1668690622', onmouseover='highlight(592677897)', title='__builtin__.list.append :: ? -> None'>append</a>((<a href='#message.Message.add_header@_name', id ='1668690593', onmouseover='highlight(1668720381)', title='message.Message.add_header@_name :: str'>_name</a>, <a href='#message.SEMISPACE', id ='1668690565', onmouseover='highlight(471007623)', title='message.SEMISPACE :: str'>SEMISPACE</a>.<a href='http://docs.python.org/library/stdtypes.html#str.join', id ='1668690534', onmouseover='highlight(760704539)', title='__builtin__.str.join :: ? -> str'>join</a>(<a href='#message.Message.add_header&parts', id ='1668690529', onmouseover='highlight(1668693503)', title='message.Message.add_header&parts :: [?]'>parts</a>)))
<span class='lineno'>412</span> 
<span class='lineno'>413</span>     def <span class='function'><a name='message.Message.replace_header', id ='1668690469', onmouseover='highlight("1939490790","1939489048","1939676289")', title='message.Message.replace_header :: (Message, ?, ?) -> None | (MMDFMessage, str, str) -> None | (Message, ?, ?) -> None'>replace_header</a></span>(<span class='parameter'><a name='message.Message.replace_header@self', id ='1668690433', onmouseover='highlight("1668667346","1668666443","1668667308")', title='message.Message.replace_header@self :: {Message | MMDFMessage | Message}'>self</a></span>, <a name='message.Message.replace_header@_name', id ='1668690406', onmouseover='highlight("1668667525","1668665509","1668666508")', title='message.Message.replace_header@_name :: str'><span class='parameter'>_name</span></a>, <a name='message.Message.replace_header@_value', id ='1668690378', onmouseover='highlight(1668666378)', title='message.Message.replace_header@_value :: str'><span class='parameter'>_value</a></span>):
<span class='lineno'>414</span>         <span class='doc-string'>&quot;&quot;&quot;Replace a header.
<span class='lineno'>415</span> 
<span class='lineno'>416</span>         Replace the first matching header found in the message, retaining
<span class='lineno'>417</span>         header order and case.  If no matching header was found, a KeyError is
<span class='lineno'>418</span>         raised.
<span class='lineno'>419</span>         &quot;&quot;&quot;</span>
<span class='lineno'>420</span>         <span class='identifier'><a name='message.Message.replace_header@_name', id ='1668667554', onmouseover='highlight("1668667525","1668665509","1668666508")', title='message.Message.replace_header@_name :: str'><a name='message.Message.replace_header&_name', id ='1668667554', onmouseover='highlight("1668665509","1668666508")', title='message.Message.replace_header&_name :: ?'>_name</span></a></a> = <a href='#message.Message.replace_header@_name', id ='1668667525', onmouseover='highlight("1668690406","1668667554")', title='message.Message.replace_header@_name :: str'>_name</a>.<a href='http://docs.python.org/library/stdtypes.html#str.lower', id ='1668667498', onmouseover='highlight(400228296)', title='__builtin__.str.lower :: ? -> str'>lower</a>()
<span class='lineno'>421</span>         for <a name='message.Message.replace_header&i', id ='1668667436', onmouseover='highlight(1668666408)', title='message.Message.replace_header&i :: ?'>i</a>, (<a name='message.Message.replace_header&k', id ='1668667432', onmouseover='highlight("1668666563","1668666381")', title='message.Message.replace_header&k :: ?'>k</a>, <a name='message.Message.replace_header&v', id ='1668667408', title='message.Message.replace_header&v :: ?'>v</a>) in <a href='http://docs.python.org/library/functions.html#zip', id ='1668667402', onmouseover='highlight(147642160)', title='__builtin__.zip :: ? -> [?]'>zip</a>(<a href='http://docs.python.org/library/functions.html#range', id ='1668667377', onmouseover='highlight(1410999180)', title='__builtin__.range :: ? -> [int]'>range</a>(<a href='http://docs.python.org/library/functions.html#len', id ='1668667371', onmouseover='highlight(134591780)', title='__builtin__.len :: ? -> int'>len</a>(<a href='#message.Message.replace_header@self', id ='1668667346', onmouseover='highlight(1668690433)', title='message.Message.replace_header@self :: {Message | MMDFMessage | Message}'>self</a>.<a href='#message.Message._headers', id ='1668667341', onmouseover='highlight("1716335303","1667651786","1668784581")', title='message.Message._headers :: {[(?, ?)] | [?]}'>_headers</a>)), <a href='#message.Message.replace_header@self', id ='1668667308', onmouseover='highlight(1668690433)', title='message.Message.replace_header@self :: {Message | MMDFMessage | Message}'>self</a>.<a href='#message.Message._headers', id ='1668666631', onmouseover='highlight("1716335303","1667651786","1668784581")', title='message.Message._headers :: {[(?, ?)] | [?]}'>_headers</a>):
<span class='lineno'>422</span>             if <a href='#message.Message.replace_header&k', id ='1668666563', onmouseover='highlight(1668667432)', title='message.Message.replace_header&k :: ?'>k</a>.lower() == <a href='#message.Message.replace_header@_name', id ='1668666508', onmouseover='highlight("1668690406","1668667554","1668667554")', title='{message.Message.replace_header@_name :: str | message.Message.replace_header&_name :: ?}'>_name</a>:
<span class='lineno'>423</span>                 <a href='#message.Message.replace_header@self', id ='1668666443', onmouseover='highlight(1668690433)', title='message.Message.replace_header@self :: {Message | MMDFMessage | Message}'>self</a>.<a href='#message.Message._headers', id ='1668666438', onmouseover='highlight("1716335303","1667651786","1668784581")', title='message.Message._headers :: {[(?, ?)] | [?]}'>_headers</a>[<a href='#message.Message.replace_header&i', id ='1668666408', onmouseover='highlight(1668667436)', title='message.Message.replace_header&i :: ?'>i</a>] = (<a href='#message.Message.replace_header&k', id ='1668666381', onmouseover='highlight(1668667432)', title='message.Message.replace_header&k :: ?'>k</a>, <a href='#message.Message.replace_header@_value', id ='1668666378', onmouseover='highlight(1668690378)', title='message.Message.replace_header@_value :: str'>_value</a>)
<span class='lineno'>424</span>                 break
<span class='lineno'>425</span>         else:
<span class='lineno'>426</span>             raise <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1668665539', onmouseover='highlight(2016665419)', title='__builtin__.KeyError :: <KeyError>'>KeyError</a>(<a href='#message.Message.replace_header@_name', id ='1668665509', onmouseover='highlight("1668690406","1668667554","1668667554")', title='{message.Message.replace_header@_name :: str | message.Message.replace_header&_name :: ?}'>_name</a>)
<span class='lineno'>427</span> 
<span class='lineno'>428</span>     #
<span class='lineno'>429</span>     # Use these three methods instead of the three above.
<span class='lineno'>430</span>     #
<span class='lineno'>431</span> 
<span class='lineno'>432</span>     def <a name='message.Message.get_content_type', id ='1668664582', onmouseover='highlight("1668632842","1668630079")', title='message.Message.get_content_type :: Message -> str'><span class='function'>get_content_type</a></span>(<span class='parameter'><a name='message.Message.get_content_type@self', id ='1668664523', onmouseover='highlight("1668638509","1668636807")', title='message.Message.get_content_type@self :: Message'>self</span></a>):
<span class='lineno'>433</span>         <span class='doc-string'>&quot;&quot;&quot;Return the message&#39;s content type.
<span class='lineno'>434</span> 
<span class='lineno'>435</span>         The returned string is coerced to lower case of the form
<span class='lineno'>436</span>         `maintype/subtype&#39;.  If there was no Content-Type header in the
<span class='lineno'>437</span>         message, the default type as given by get_default_type() will be
<span class='lineno'>438</span>         returned.  Since according to RFC 2045, messages always have a default
<span class='lineno'>439</span>         type this will always return a value.
<span class='lineno'>440</span> 
<span class='lineno'>441</span>         RFC 2045 defines a message&#39;s default type to be text/plain unless it
<span class='lineno'>442</span>         appears inside a multipart/digest container, in which case it would be
<span class='lineno'>443</span>         message/rfc822.
<span class='lineno'>444</span>         &quot;&quot;&quot;</span>
<span class='lineno'>445</span>         <span class='identifier'><a name='message.Message.get_content_type&missing', id ='1668638607', onmouseover='highlight("1668637678","1668637770")', title='message.Message.get_content_type&missing :: object'>missing</a></span> = <a href='http://docs.python.org/library/functions.html#object', id ='1668638576', onmouseover='highlight(628986520)', title='__builtin__.object :: <object>'>object</a>()
<span class='lineno'>446</span>         <a name='message.Message.get_content_type&value', id ='1668638538', onmouseover='highlight("1668636650","1668637708")', title='message.Message.get_content_type&value :: object'><span class='identifier'>value</a></span> = <a href='#message.Message.get_content_type@self', id ='1668638509', onmouseover='highlight(1668664523)', title='message.Message.get_content_type@self :: Message'>self</a>.<a href='#message.Message.get', id ='1668638483', onmouseover='highlight(1668750176)', title='message.Message.get :: (MMDFMessage, str, str) -> str | (MaildirMessage, str, str) -> str | (Message, str, object) -> object'>get</a>(&#39;content-type&#39;, <a href='#message.Message.get_content_type&missing', id ='1668637770', onmouseover='highlight(1668638607)', title='message.Message.get_content_type&missing :: object'>missing</a>)
<span class='lineno'>447</span>         if <a href='#message.Message.get_content_type&value', id ='1668637708', onmouseover='highlight(1668638538)', title='message.Message.get_content_type&value :: object'>value</a> is <a href='#message.Message.get_content_type&missing', id ='1668637678', onmouseover='highlight(1668638607)', title='message.Message.get_content_type&missing :: object'>missing</a>:
<span class='lineno'>448</span>             # This should have no parameters
<span class='lineno'>449</span>             return <a href='#message.Message.get_content_type@self', id ='1668636807', onmouseover='highlight(1668664523)', title='message.Message.get_content_type@self :: Message'>self</a>.<a href='#message.Message.get_default_type', id ='1668636802', onmouseover='highlight(1668629890)', title='message.Message.get_default_type :: Message -> str'>get_default_type</a>()
<span class='lineno'>450</span>         <a name='message.Message.get_content_type&ctype', id ='1668636712', onmouseover='highlight("1668635692","1668634824")', title='message.Message.get_content_type&ctype :: ?'><span class='identifier'>ctype</span></a> = <a href='#message._splitparam', id ='1668636683', onmouseover='highlight(471004959)', title='message._splitparam :: object -> (?, ?)'>_splitparam</a>(<a href='#message.Message.get_content_type&value', id ='1668636650', onmouseover='highlight(1668638538)', title='message.Message.get_content_type&value :: object'>value</a>)[<span class='number'>0</span>].lower()
<span class='lineno'>451</span>         # RFC 2045, section 5.2 says if its invalid, use text/plain
<span class='lineno'>452</span>         if <a href='#message.Message.get_content_type&ctype', id ='1668635692', onmouseover='highlight(1668636712)', title='message.Message.get_content_type&ctype :: ?'>ctype</a>.count(&#39;/&#39;) != <span class='number'>1</span>:
<span class='lineno'>453</span>             return &#39;text/plain&#39;
<span class='lineno'>454</span>         return <a href='#message.Message.get_content_type&ctype', id ='1668634824', onmouseover='highlight(1668636712)', title='message.Message.get_content_type&ctype :: ?'>ctype</a>
<span class='lineno'>455</span> 
<span class='lineno'>456</span>     def <a name='message.Message.get_content_maintype', id ='1668634788', title='message.Message.get_content_maintype :: Message -> ?'><span class='function'>get_content_maintype</span></a>(<a name='message.Message.get_content_maintype@self', id ='1668634725', onmouseover='highlight(1668632868)', title='message.Message.get_content_maintype@self :: Message'><span class='parameter'>self</a></span>):
<span class='lineno'>457</span>         <span class='doc-string'>&quot;&quot;&quot;Return the message&#39;s main content type.
<span class='lineno'>458</span> 
<span class='lineno'>459</span>         This is the `maintype&#39; part of the string returned by
<span class='lineno'>460</span>         get_content_type().
<span class='lineno'>461</span>         &quot;&quot;&quot;</span>
<span class='lineno'>462</span>         <a name='message.Message.get_content_maintype&ctype', id ='1668632897', onmouseover='highlight(1668632745)', title='message.Message.get_content_maintype&ctype :: str'><span class='identifier'>ctype</a></span> = <a href='#message.Message.get_content_maintype@self', id ='1668632868', onmouseover='highlight(1668634725)', title='message.Message.get_content_maintype@self :: Message'>self</a>.<a href='#message.Message.get_content_type', id ='1668632842', onmouseover='highlight(1668664582)', title='message.Message.get_content_type :: Message -> str'>get_content_type</a>()
<span class='lineno'>463</span>         return <a href='#message.Message.get_content_maintype&ctype', id ='1668632745', onmouseover='highlight(1668632897)', title='message.Message.get_content_maintype&ctype :: str'>ctype</a>.<a href='http://docs.python.org/library/stdtypes.html#str.split', id ='1668632718', onmouseover='highlight(1535921681)', title='__builtin__.str.split :: ? -> [str]'>split</a>(&#39;/&#39;)[<span class='number'>0</span>]
<span class='lineno'>464</span> 
<span class='lineno'>465</span>     def <span class='function'><a name='message.Message.get_content_subtype', id ='1668632002', title='message.Message.get_content_subtype :: Message -> ?'>get_content_subtype</span></a>(<a name='message.Message.get_content_subtype@self', id ='1668631940', onmouseover='highlight(1668630084)', title='message.Message.get_content_subtype@self :: Message'><span class='parameter'>self</span></a>):
<span class='lineno'>466</span>         <span class='doc-string'>&quot;&quot;&quot;Returns the message&#39;s sub-content type.
<span class='lineno'>467</span> 
<span class='lineno'>468</span>         This is the `subtype&#39; part of the string returned by
<span class='lineno'>469</span>         get_content_type().
<span class='lineno'>470</span>         &quot;&quot;&quot;</span>
<span class='lineno'>471</span>         <span class='identifier'><a name='message.Message.get_content_subtype&ctype', id ='1668630113', onmouseover='highlight(1668629982)', title='message.Message.get_content_subtype&ctype :: str'>ctype</a></span> = <a href='#message.Message.get_content_subtype@self', id ='1668630084', onmouseover='highlight(1668631940)', title='message.Message.get_content_subtype@self :: Message'>self</a>.<a href='#message.Message.get_content_type', id ='1668630079', onmouseover='highlight(1668664582)', title='message.Message.get_content_type :: Message -> str'>get_content_type</a>()
<span class='lineno'>472</span>         return <a href='#message.Message.get_content_subtype&ctype', id ='1668629982', onmouseover='highlight(1668630113)', title='message.Message.get_content_subtype&ctype :: str'>ctype</a>.<a href='http://docs.python.org/library/stdtypes.html#str.split', id ='1668629955', onmouseover='highlight(1535921681)', title='__builtin__.str.split :: ? -> [str]'>split</a>(&#39;/&#39;)[<span class='number'>1</span>]
<span class='lineno'>473</span> 
<span class='lineno'>474</span>     def <span class='function'><a name='message.Message.get_default_type', id ='1668629890', onmouseover='highlight(1668636802)', title='message.Message.get_default_type :: Message -> str'>get_default_type</span></a>(<a name='message.Message.get_default_type@self', id ='1668629831', onmouseover='highlight(1668606794)', title='message.Message.get_default_type@self :: Message'><span class='parameter'>self</a></span>):
<span class='lineno'>475</span>         <span class='doc-string'>&quot;&quot;&quot;Return the `default&#39; content type.
<span class='lineno'>476</span> 
<span class='lineno'>477</span>         Most messages have a default content type of text/plain, except for
<span class='lineno'>478</span>         messages that are subparts of multipart/digest containers.  Such
<span class='lineno'>479</span>         subparts have a default content type of message/rfc822.
<span class='lineno'>480</span>         &quot;&quot;&quot;</span>
<span class='lineno'>481</span>         return <a href='#message.Message.get_default_type@self', id ='1668606794', onmouseover='highlight(1668629831)', title='message.Message.get_default_type@self :: Message'>self</a>.<a href='#message.Message._default_type', id ='1668606768', onmouseover='highlight("1668603882","1716332545")', title='message.Message._default_type :: str'>_default_type</a>
<span class='lineno'>482</span> 
<span class='lineno'>483</span>     def <a name='message.Message.set_default_type', id ='1668606052', title='message.Message.set_default_type :: (Message, ?) -> None'><span class='function'>set_default_type</span></a>(<a name='message.Message.set_default_type@self', id ='1668605993', onmouseover='highlight(1668603887)', title='message.Message.set_default_type@self :: Message'><span class='parameter'>self</a></span>, <span class='parameter'><a name='message.Message.set_default_type@ctype', id ='1668605966', onmouseover='highlight(1668603173)', title='message.Message.set_default_type@ctype :: ?'>ctype</span></a>):
<span class='lineno'>484</span>         <span class='doc-string'>&quot;&quot;&quot;Set the `default&#39; content type.
<span class='lineno'>485</span> 
<span class='lineno'>486</span>         ctype should be either &quot;text/plain&quot; or &quot;message/rfc822&quot;, although this
<span class='lineno'>487</span>         is not enforced.  The default content type is not stored in the
<span class='lineno'>488</span>         Content-Type header.
<span class='lineno'>489</span>         &quot;&quot;&quot;</span>
<span class='lineno'>490</span>         <a href='#message.Message.set_default_type@self', id ='1668603887', onmouseover='highlight(1668605993)', title='message.Message.set_default_type@self :: Message'>self</a>.<a name='message.Message._default_type', id ='1668603882', onmouseover='highlight(1668606768)', title='message.Message._default_type :: str'>_default_type</a> = <a href='#message.Message.set_default_type@ctype', id ='1668603173', onmouseover='highlight(1668605966)', title='message.Message.set_default_type@ctype :: ?'>ctype</a>
<span class='lineno'>491</span> 
<span class='lineno'>492</span>     def <a name='message.Message._get_params_preserve', id ='1668603137', onmouseover='highlight("1667887101","1667685228","1668548362")', title='message.Message._get_params_preserve :: (Message, object, str) -> object'><span class='function'>_get_params_preserve</span></a>(<span class='parameter'><a name='message.Message._get_params_preserve@self', id ='1668603074', onmouseover='highlight(1668601159)', title='message.Message._get_params_preserve@self :: Message'>self</span></a>, <a name='message.Message._get_params_preserve@failobj', id ='1668603047', onmouseover='highlight(1668600287)', title='message.Message._get_params_preserve@failobj :: object'><span class='parameter'>failobj</a></span>, <a name='message.Message._get_params_preserve@header', id ='1668603017', onmouseover='highlight(1668601129)', title='message.Message._get_params_preserve@header :: str'><span class='parameter'>header</span></a>):
<span class='lineno'>493</span>         # Like get_params() but preserves the quoting of values.  BAW:
<span class='lineno'>494</span>         # should this be part of the public interface?
<span class='lineno'>495</span>         <span class='identifier'><a name='message.Message._get_params_preserve&missing', id ='1668601278', onmouseover='highlight("1668601121","1668601029")', title='message.Message._get_params_preserve&missing :: object'>missing</span></a> = <a href='http://docs.python.org/library/functions.html#object', id ='1668601247', onmouseover='highlight(628986520)', title='__builtin__.object :: <object>'>object</a>()
<span class='lineno'>496</span>         <a name='message.Message._get_params_preserve&value', id ='1668601188', onmouseover='highlight("1668600098","1668601059")', title='message.Message._get_params_preserve&value :: object'><span class='identifier'>value</span></a> = <a href='#message.Message._get_params_preserve@self', id ='1668601159', onmouseover='highlight(1668603074)', title='message.Message._get_params_preserve@self :: Message'>self</a>.<a href='#message.Message.get', id ='1668601154', onmouseover='highlight(1668750176)', title='message.Message.get :: (MMDFMessage, str, str) -> str | (MaildirMessage, str, str) -> str | (Message, str, object) -> object'>get</a>(<a href='#message.Message._get_params_preserve@header', id ='1668601129', onmouseover='highlight(1668603017)', title='message.Message._get_params_preserve@header :: str'>header</a>, <a href='#message.Message._get_params_preserve&missing', id ='1668601121', onmouseover='highlight(1668601278)', title='message.Message._get_params_preserve&missing :: object'>missing</a>)
<span class='lineno'>497</span>         if <a href='#message.Message._get_params_preserve&value', id ='1668601059', onmouseover='highlight(1668601188)', title='message.Message._get_params_preserve&value :: object'>value</a> is <a href='#message.Message._get_params_preserve&missing', id ='1668601029', onmouseover='highlight(1668601278)', title='message.Message._get_params_preserve&missing :: object'>missing</a>:
<span class='lineno'>498</span>             return <a href='#message.Message._get_params_preserve@failobj', id ='1668600287', onmouseover='highlight(1668603047)', title='message.Message._get_params_preserve@failobj :: object'>failobj</a>
<span class='lineno'>499</span>         <a name='message.Message._get_params_preserve&params', id ='1668600229', onmouseover='highlight("1668577065","1668576203")', title='message.Message._get_params_preserve&params :: [?]'><span class='identifier'>params</a></span> = []
<span class='lineno'>500</span>         for <a name='message.Message._get_params_preserve&p', id ='1668600163', onmouseover='highlight("1668579087","1668577196")', title='message.Message._get_params_preserve&p :: ?'>p</a> in <a href='#message._parseparam', id ='1668600137', onmouseover='highlight(1716391912)', title='message._parseparam :: str -> [?]'>_parseparam</a>(&#39;;&#39; + <a href='#message.Message._get_params_preserve&value', id ='1668600098', onmouseover='highlight(1668601188)', title='message.Message._get_params_preserve&value :: object'>value</a>):
<span class='lineno'>501</span>             try:
<span class='lineno'>502</span>                 <span class='identifier'><a name='message.Message._get_params_preserve&name', id ='1668579120', onmouseover='highlight("1668577008","1668578964")', title='message.Message._get_params_preserve&name :: ?'><span class='identifier'><span class='identifier'><a name='message.Message._get_params_preserve&name', id ='1668579120', onmouseover='highlight("1668577008","1668578964")', title='message.Message._get_params_preserve&name :: ?'><a name='message.Message._get_params_preserve&name', id ='1668579120', onmouseover='highlight("1668577008","1668578964")', title='message.Message._get_params_preserve&name :: ?'>name</span></a></a></a></span></span>, <a name='message.Message._get_params_preserve&val', id ='1668579114', onmouseover='highlight("1668576981","1668578215")', title='message.Message._get_params_preserve&val :: ?'><a name='message.Message._get_params_preserve&val', id ='1668579114', onmouseover='highlight("1668576981","1668578215")', title='message.Message._get_params_preserve&val :: ?'><a name='message.Message._get_params_preserve&val', id ='1668579114', onmouseover='highlight("1668576981","1668578215")', title='message.Message._get_params_preserve&val :: ?'>val</a></a></a> = <a href='#message.Message._get_params_preserve&p', id ='1668579087', onmouseover='highlight(1668600163)', title='message.Message._get_params_preserve&p :: ?'>p</a>.split(&#39;=&#39;, <span class='number'>1</span>)
<span class='lineno'>503</span>                 <a name='message.Message._get_params_preserve&name', id ='1668578992', onmouseover='highlight("1668577008","1668578964")', title='message.Message._get_params_preserve&name :: ?'><a name='message.Message._get_params_preserve&name', id ='1668578992', onmouseover='highlight("1668577008","1668578964")', title='message.Message._get_params_preserve&name :: ?'><a name='message.Message._get_params_preserve&name', id ='1668578992', onmouseover='highlight("1668577008","1668578964")', title='message.Message._get_params_preserve&name :: ?'>name</a></a></a> = <a href='#message.Message._get_params_preserve&name', id ='1668578964', onmouseover='highlight("1668579120","1668578992","1668577224","1668579120","1668578992","1668577224","1668579120","1668578992","1668577224")', title='{message.Message._get_params_preserve&name :: ? | message.Message._get_params_preserve&name :: ? | message.Message._get_params_preserve&name :: ?}'>name</a>.strip()
<span class='lineno'>504</span>                 <span class='identifier'><a name='message.Message._get_params_preserve&val', id ='1668578221', onmouseover='highlight("1668576981","1668578215")', title='message.Message._get_params_preserve&val :: ?'><span class='identifier'><a name='message.Message._get_params_preserve&val', id ='1668578221', onmouseover='highlight("1668576981","1668578215")', title='message.Message._get_params_preserve&val :: ?'><span class='identifier'><a name='message.Message._get_params_preserve&val', id ='1668578221', onmouseover='highlight("1668576981","1668578215")', title='message.Message._get_params_preserve&val :: ?'>val</a></span></span></a></span></a> = <a href='#message.Message._get_params_preserve&val', id ='1668578215', onmouseover='highlight("1668578221","1668579114","1668578221","1668579114","1668578221","1668579114")', title='{message.Message._get_params_preserve&val :: ? | message.Message._get_params_preserve&val :: ? | message.Message._get_params_preserve&val :: ?}'>val</a>.strip()
<span class='lineno'>505</span>             except <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1668578121', onmouseover='highlight(2016665419)', title='__builtin__.ValueError :: <ValueError>'>ValueError</a>:
<span class='lineno'>506</span>                 # Must have been a bare attribute
<span class='lineno'>507</span>                 <a name='message.Message._get_params_preserve&name', id ='1668577224', onmouseover='highlight("1668577008","1668578964")', title='message.Message._get_params_preserve&name :: ?'><a name='message.Message._get_params_preserve&name', id ='1668577224', onmouseover='highlight("1668577008","1668578964")', title='message.Message._get_params_preserve&name :: ?'><a name='message.Message._get_params_preserve&name', id ='1668577224', onmouseover='highlight("1668577008","1668578964")', title='message.Message._get_params_preserve&name :: ?'>name</a></a></a> = <a href='#message.Message._get_params_preserve&p', id ='1668577196', onmouseover='highlight(1668600163)', title='message.Message._get_params_preserve&p :: ?'>p</a>.strip()
<span class='lineno'>508</span>                 <span class='identifier'><a name='message.Message._get_params_preserve&val', id ='1668577128', title='message.Message._get_params_preserve&val :: str'>val</a></span> = &#39;&#39;
<span class='lineno'>509</span>             <a href='#message.Message._get_params_preserve&params', id ='1668577065', onmouseover='highlight(1668600229)', title='message.Message._get_params_preserve&params :: [?]'>params</a>.<a href='http://docs.python.org/library/stdtypes.html', id ='1668577037', onmouseover='highlight(592677897)', title='__builtin__.list.append :: ? -> None'>append</a>((<a href='#message.Message._get_params_preserve&name', id ='1668577008', onmouseover='highlight("1668579120","1668578992","1668577224")', title='message.Message._get_params_preserve&name :: ?'>name</a>, <a href='#message.Message._get_params_preserve&val', id ='1668576981', onmouseover='highlight("1668578221","1668579114")', title='message.Message._get_params_preserve&val :: ?'>val</a>))
<span class='lineno'>510</span>         <span class='identifier'><a name='message.Message._get_params_preserve&params', id ='1668576295', onmouseover='highlight(1668576138)', title='message.Message._get_params_preserve&params :: ?'>params</a></span> = utils.decode_params(<a href='#message.Message._get_params_preserve&params', id ='1668576203', onmouseover='highlight(1668600229)', title='message.Message._get_params_preserve&params :: [?]'>params</a>)
<span class='lineno'>511</span>         return <a href='#message.Message._get_params_preserve&params', id ='1668576138', onmouseover='highlight(1668576295)', title='message.Message._get_params_preserve&params :: ?'>params</a>
<span class='lineno'>512</span> 
<span class='lineno'>513</span>     def <span class='function'><a name='message.Message.get_params', id ='1668576080', onmouseover='highlight("1667744786","1667799586","1667830401")', title='message.Message.get_params :: (Message, ?, str, ?) -> {[(?, (?, ?, ?))] | object}'>get_params</a></span>(<a name='message.Message.get_params@self', id ='1668576048', onmouseover='highlight(1668548367)', title='message.Message.get_params@self :: Message'><span class='parameter'>self</a></span>, <span class='parameter'><a name='message.Message.get_params@failobj', id ='1668576042', onmouseover='highlight(1668547435)', title='message.Message.get_params@failobj :: ?'>failobj</a></span>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1668576013', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a>, <span class='parameter'><a name='message.Message.get_params@header', id ='1668575335', onmouseover='highlight(1668548269)', title='message.Message.get_params@header :: str'>header</a></span>=&#39;content-type&#39;, <a name='message.Message.get_params@unquote', id ='1668575270', onmouseover='highlight(1668547374)', title='message.Message.get_params@unquote :: ?'><span class='parameter'>unquote</span></a>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1668575241', onmouseover='highlight(2016665419)', title='__builtin__.True :: ?'>True</a>):
<span class='lineno'>514</span>         <span class='doc-string'>&quot;&quot;&quot;Return the message&#39;s Content-Type parameters, as a list.
<span class='lineno'>515</span> 
<span class='lineno'>516</span>         The elements of the returned list are 2-tuples of key/value pairs, as
<span class='lineno'>517</span>         split on the `=&#39; sign.  The left hand side of the `=&#39; is the key,
<span class='lineno'>518</span>         while the right hand side is the value.  If there is no `=&#39; sign in
<span class='lineno'>519</span>         the parameter the value is the empty string.  The value is as
<span class='lineno'>520</span>         described in the get_param() method.
<span class='lineno'>521</span> 
<span class='lineno'>522</span>         Optional failobj is the object to return if there is no Content-Type
<span class='lineno'>523</span>         header.  Optional header is the header to search instead of
<span class='lineno'>524</span>         Content-Type.  If unquote is True, the value is unquoted.
<span class='lineno'>525</span>         &quot;&quot;&quot;</span>
<span class='lineno'>526</span>         <span class='identifier'><a name='message.Message.get_params&missing', id ='1668549138', onmouseover='highlight("1668548177","1668548299")', title='message.Message.get_params&missing :: object'>missing</a></span> = <a href='http://docs.python.org/library/functions.html#object', id ='1668549107', onmouseover='highlight(628986520)', title='__builtin__.object :: <object>'>object</a>()
<span class='lineno'>527</span>         <span class='identifier'><a name='message.Message.get_params&params', id ='1668548397', onmouseover='highlight("1668547185","1668548208","1668546409")', title='message.Message.get_params&params :: object'>params</a></span> = <a href='#message.Message.get_params@self', id ='1668548367', onmouseover='highlight(1668576048)', title='message.Message.get_params@self :: Message'>self</a>.<a href='#message.Message._get_params_preserve', id ='1668548362', onmouseover='highlight(1668603137)', title='message.Message._get_params_preserve :: (Message, object, str) -> object'>_get_params_preserve</a>(<a href='#message.Message.get_params&missing', id ='1668548299', onmouseover='highlight(1668549138)', title='message.Message.get_params&missing :: object'>missing</a>, <a href='#message.Message.get_params@header', id ='1668548269', onmouseover='highlight(1668575335)', title='message.Message.get_params@header :: str'>header</a>)
<span class='lineno'>528</span>         if <a href='#message.Message.get_params&params', id ='1668548208', onmouseover='highlight(1668548397)', title='message.Message.get_params&params :: object'>params</a> is <a href='#message.Message.get_params&missing', id ='1668548177', onmouseover='highlight(1668549138)', title='message.Message.get_params&missing :: object'>missing</a>:
<span class='lineno'>529</span>             return <a href='#message.Message.get_params@failobj', id ='1668547435', onmouseover='highlight(1668576042)', title='message.Message.get_params@failobj :: ?'>failobj</a>
<span class='lineno'>530</span>         if <a href='#message.Message.get_params@unquote', id ='1668547374', onmouseover='highlight(1668575270)', title='message.Message.get_params@unquote :: ?'>unquote</a>:
<span class='lineno'>531</span>             return [(<a href='#message.Message.get_params&k', id ='1668547281', onmouseover='highlight(1668547214)', title='message.Message.get_params&k :: ?'>k</a>, <a href='#message._unquotevalue', id ='1668547278', onmouseover='highlight(1716367020)', title='message._unquotevalue :: ? -> (?, ?, ?)'>_unquotevalue</a>(<a href='#message.Message.get_params&v', id ='1668547243', onmouseover='highlight(1668547190)', title='message.Message.get_params&v :: ?'>v</a>)) for <a href='#message.Message.get_params&k', id ='1668547214', onmouseover='highlight(1668547214)', title='message.Message.get_params&k :: ?'><a name='message.Message.get_params&k', id ='1668547214', onmouseover='highlight("1668547281","1668547214")', title='message.Message.get_params&k :: ?'>k</a></a>, <a name='message.Message.get_params&v', id ='1668547190', onmouseover='highlight("1668547243","1668547190")', title='message.Message.get_params&v :: ?'><a href='#message.Message.get_params&v', id ='1668547190', onmouseover='highlight(1668547190)', title='message.Message.get_params&v :: ?'>v</a></a> in <a href='#message.Message.get_params&params', id ='1668547185', onmouseover='highlight(1668548397)', title='message.Message.get_params&params :: object'>params</a>]
<span class='lineno'>532</span>         else:
<span class='lineno'>533</span>             return <a href='#message.Message.get_params&params', id ='1668546409', onmouseover='highlight(1668548397)', title='message.Message.get_params&params :: object'>params</a>
<span class='lineno'>534</span> 
<span class='lineno'>535</span>     def <a name='message.Message.get_param', id ='1668546351', onmouseover='highlight("1667712351","1667737189","1667833351","1667738206","1667648653")', title='message.Message.get_param :: (Message, str, object, str, ?) -> object'><span class='function'>get_param</span></a>(<span class='parameter'><a name='message.Message.get_param@self', id ='1668546320', onmouseover='highlight("1667887106","1667887936")', title='message.Message.get_param@self :: Message'>self</a></span>, <a name='message.Message.get_param@param', id ='1668546314', onmouseover='highlight(1667886236)', title='message.Message.get_param@param :: str'><span class='parameter'>param</a></span>, <span class='parameter'><a name='message.Message.get_param@failobj', id ='1668546286', onmouseover='highlight("1667887197","1667887038","1667885117")', title='message.Message.get_param@failobj :: object'>failobj</span></a>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1668546257', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a>, <a name='message.Message.get_param@header', id ='1668546251', onmouseover='highlight("1667887008","1667887971")', title='message.Message.get_param@header :: str'><span class='parameter'>header</span></a>=&#39;content-type&#39;,
<span class='lineno'>536</span>                   <a name='message.Message.get_param@unquote', id ='1668545454', onmouseover='highlight(1667886139)', title='message.Message.get_param@unquote :: ?'><span class='parameter'>unquote</span></a>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1668545446', onmouseover='highlight(2016665419)', title='__builtin__.True :: ?'>True</a>):
<span class='lineno'>537</span>         <span class='doc-string'>&quot;&quot;&quot;Return the parameter value if found in the Content-Type header.
<span class='lineno'>538</span> 
<span class='lineno'>539</span>         Optional failobj is the object to return if there is no Content-Type
<span class='lineno'>540</span>         header, or the Content-Type header has no such parameter.  Optional
<span class='lineno'>541</span>         header is the header to search instead of Content-Type.
<span class='lineno'>542</span> 
<span class='lineno'>543</span>         Parameter keys are always compared case insensitively.  The return
<span class='lineno'>544</span>         value can either be a string, or a 3-tuple if the parameter was RFC
<span class='lineno'>545</span>         2231 encoded.  When it&#39;s a 3-tuple, the elements of the value are of
<span class='lineno'>546</span>         the form (CHARSET, LANGUAGE, VALUE).  Note that both CHARSET and
<span class='lineno'>547</span>         LANGUAGE can be None, in which case you should consider VALUE to be
<span class='lineno'>548</span>         encoded in the us-ascii charset.  You can usually ignore LANGUAGE.
<span class='lineno'>549</span> 
<span class='lineno'>550</span>         Your application should be prepared to deal with 3-tuple return
<span class='lineno'>551</span>         values, and can convert the parameter to a Unicode string like so:
<span class='lineno'>552</span> 
<span class='lineno'>553</span>             param = msg.get_param(&#39;foo&#39;)
<span class='lineno'>554</span>             if isinstance(param, tuple):
<span class='lineno'>555</span>                 param = unicode(param[2], param[0] or &#39;us-ascii&#39;)
<span class='lineno'>556</span> 
<span class='lineno'>557</span>         In any case, the parameter value (either the returned string, or the
<span class='lineno'>558</span>         VALUE item in the 3-tuple) is always unquoted, unless unquote is set
<span class='lineno'>559</span>         to False.
<span class='lineno'>560</span>         &quot;&quot;&quot;</span>
<span class='lineno'>561</span>         if <a href='#message.Message.get_param@header', id ='1667887971', onmouseover='highlight(1668546251)', title='message.Message.get_param@header :: str'>header</a> not in <a href='#message.Message.get_param@self', id ='1667887936', onmouseover='highlight(1668546320)', title='message.Message.get_param@self :: Message'>self</a>:
<span class='lineno'>562</span>             return <a href='#message.Message.get_param@failobj', id ='1667887197', onmouseover='highlight(1668546286)', title='message.Message.get_param@failobj :: object'>failobj</a>
<span class='lineno'>563</span>         for <a name='message.Message.get_param&k', id ='1667887135', onmouseover='highlight(1667886270)', title='message.Message.get_param&k :: ?'>k</a>, <a name='message.Message.get_param&v', id ='1667887132', onmouseover='highlight("1667885176","1667885333")', title='message.Message.get_param&v :: ?'>v</a> in <a href='#message.Message.get_param@self', id ='1667887106', onmouseover='highlight(1668546320)', title='message.Message.get_param@self :: Message'>self</a>.<a href='#message.Message._get_params_preserve', id ='1667887101', onmouseover='highlight(1668603137)', title='message.Message._get_params_preserve :: (Message, object, str) -> object'>_get_params_preserve</a>(<a href='#message.Message.get_param@failobj', id ='1667887038', onmouseover='highlight(1668546286)', title='message.Message.get_param@failobj :: object'>failobj</a>, <a href='#message.Message.get_param@header', id ='1667887008', onmouseover='highlight(1668546251)', title='message.Message.get_param@header :: str'>header</a>):
<span class='lineno'>564</span>             if <a href='#message.Message.get_param&k', id ='1667886270', onmouseover='highlight(1667887135)', title='message.Message.get_param&k :: ?'>k</a>.lower() == <a href='#message.Message.get_param@param', id ='1667886236', onmouseover='highlight(1668546314)', title='message.Message.get_param@param :: str'>param</a>.<a href='http://docs.python.org/library/stdtypes.html#str.lower', id ='1667886230', onmouseover='highlight(400228296)', title='__builtin__.str.lower :: ? -> str'>lower</a>():
<span class='lineno'>565</span>                 if <a href='#message.Message.get_param@unquote', id ='1667886139', onmouseover='highlight(1668545454)', title='message.Message.get_param@unquote :: ?'>unquote</a>:
<span class='lineno'>566</span>                     return <a href='#message._unquotevalue', id ='1667886019', onmouseover='highlight(1716367020)', title='message._unquotevalue :: ? -> (?, ?, ?)'>_unquotevalue</a>(<a href='#message.Message.get_param&v', id ='1667885333', onmouseover='highlight(1667887132)', title='message.Message.get_param&v :: ?'>v</a>)
<span class='lineno'>567</span>                 else:
<span class='lineno'>568</span>                     return <a href='#message.Message.get_param&v', id ='1667885176', onmouseover='highlight(1667887132)', title='message.Message.get_param&v :: ?'>v</a>
<span class='lineno'>569</span>         return <a href='#message.Message.get_param@failobj', id ='1667885117', onmouseover='highlight(1668546286)', title='message.Message.get_param@failobj :: object'>failobj</a>
<span class='lineno'>570</span> 
<span class='lineno'>571</span>     def <span class='function'><a name='message.Message.set_param', id ='1667885058', onmouseover='highlight("1716158447","1667742889")', title='message.Message.set_param :: (Message, str, ?, str, ?, ?, str) -> None | (Message, ?, (?, ?, ?), str, ?, ?, str) -> None'>set_param</a></span>(<a name='message.Message.set_param@self', id ='1667864195', onmouseover='highlight("1667834123","1667830406","1667804522","1667833377","1667825472","1667855296","1667804455")', title='message.Message.set_param@self :: Message'><span class='parameter'>self</a></span>, <span class='parameter'><a name='message.Message.set_param@param', id ='1667864189', onmouseover='highlight("1667833320","1667828358","1667828547","1667831369","1667832415")', title='message.Message.set_param@param :: str'>param</span></a>, <a name='message.Message.set_param@value', id ='1667864161', onmouseover='highlight("1667832387","1667831362","1667856257","1667855392","1667827679")', title='message.Message.set_param@value :: (?, str, ?)'><a name='message.Message.set_param@value', id ='1667864161', onmouseover='highlight("1667832387","1667831362","1667856257","1667855392","1667827679")', title='message.Message.set_param@value :: {(?, ?, ?) | (?, str, (?, ?, ?))}'><a name='message.Message.set_param@value', id ='1667864161', onmouseover='highlight("1667832387","1667831362","1667856257","1667855392","1667827679")', title='message.Message.set_param@value :: (?, str, ?)'>value</a></a></a>, <span class='parameter'><a name='message.Message.set_param@header', id ='1667864133', onmouseover='highlight("1667833442","1667804517","1667855266","1667855331","1667804429","1667804610")', title='message.Message.set_param@header :: str'>header</span></a>=&#39;Content-Type&#39;, <a name='message.Message.set_param@requote', id ='1667864068', onmouseover='highlight("1667831334","1667826710","1667827672","1667832359")', title='message.Message.set_param@requote :: ?'><span class='parameter'>requote</a></span>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1667864039', onmouseover='highlight(2016665419)', title='__builtin__.True :: ?'>True</a>,
<span class='lineno'>572</span>                   <span class='parameter'><a name='message.Message.set_param@charset', id ='1667863973', onmouseover='highlight("1667855453","1667855546")', title='message.Message.set_param@charset :: ?'>charset</span></a>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1667863944', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a>, <a name='message.Message.set_param@language', id ='1667863917', onmouseover='highlight(1667855423)', title='message.Message.set_param@language :: str'><span class='parameter'>language</a></span>=&#39;&#39;):
<span class='lineno'>573</span>         <span class='doc-string'>&quot;&quot;&quot;Set a parameter in the Content-Type header.
<span class='lineno'>574</span> 
<span class='lineno'>575</span>         If the parameter already exists in the header, its value will be
<span class='lineno'>576</span>         replaced with the new value.
<span class='lineno'>577</span> 
<span class='lineno'>578</span>         If header is Content-Type and has not yet been defined for this
<span class='lineno'>579</span>         message, it will be set to &quot;text/plain&quot; and the new parameter and
<span class='lineno'>580</span>         value will be appended as per RFC 2045.
<span class='lineno'>581</span> 
<span class='lineno'>582</span>         An alternate header can specified in the header argument, and all
<span class='lineno'>583</span>         parameters will be quoted as necessary unless requote is False.
<span class='lineno'>584</span> 
<span class='lineno'>585</span>         If charset is specified, the parameter will be encoded according to RFC
<span class='lineno'>586</span>         2231.  Optional language specifies the RFC 2231 language, defaulting
<span class='lineno'>587</span>         to the empty string.  Both charset and language should be strings.
<span class='lineno'>588</span>         &quot;&quot;&quot;</span>
<span class='lineno'>589</span>         if not <a href='http://docs.python.org/library/functions.html#isinstance', id ='1667856289', onmouseover='highlight(37741720)', title='__builtin__.isinstance :: ? -> int'>isinstance</a>(<a href='#message.Message.set_param@value', id ='1667856257', onmouseover='highlight("1667855483","1667864161","1667855483","1667864161","1667855483","1667864161")', title='{message.Message.set_param@value :: (?, str, ?) | message.Message.set_param@value :: {(?, ?, ?) | (?, str, (?, ?, ?))} | message.Message.set_param@value :: (?, str, ?)}'>value</a>, <a href='http://docs.python.org/library/functions.html#tuple', id ='1667856229', onmouseover='highlight(534381737)', title='__builtin__.tuple :: <tuple>'>tuple</a>) and <a href='#message.Message.set_param@charset', id ='1667855546', onmouseover='highlight(1667863973)', title='message.Message.set_param@charset :: ?'>charset</a>:
<span class='lineno'>590</span>             <span class='parameter'><a name='message.Message.set_param@value', id ='1667855483', onmouseover='highlight("1667832387","1667831362","1667856257","1667855392","1667827679")', title='message.Message.set_param@value :: (?, str, ?)'><span class='parameter'><span class='parameter'><a name='message.Message.set_param@value', id ='1667855483', onmouseover='highlight("1667832387","1667831362","1667856257","1667855392","1667827679")', title='message.Message.set_param@value :: (?, str, ?)'><a name='message.Message.set_param@value', id ='1667855483', onmouseover='highlight("1667832387","1667831362","1667856257","1667855392","1667827679")', title='message.Message.set_param@value :: {(?, ?, ?) | (?, str, (?, ?, ?))}'>value</span></a></span></a></span></a> = (<a href='#message.Message.set_param@charset', id ='1667855453', onmouseover='highlight(1667863973)', title='message.Message.set_param@charset :: ?'>charset</a>, <a href='#message.Message.set_param@language', id ='1667855423', onmouseover='highlight(1667863917)', title='message.Message.set_param@language :: str'>language</a>, <a href='#message.Message.set_param@value', id ='1667855392', onmouseover='highlight("1667855483","1667864161","1667855483","1667864161","1667855483","1667864161")', title='{message.Message.set_param@value :: (?, str, ?) | message.Message.set_param@value :: {(?, ?, ?) | (?, str, (?, ?, ?))} | message.Message.set_param@value :: (?, str, ?)}'>value</a>)
<span class='lineno'>591</span> 
<span class='lineno'>592</span>         if <a href='#message.Message.set_param@header', id ='1667855331', onmouseover='highlight(1667864133)', title='message.Message.set_param@header :: str'>header</a> not in <a href='#message.Message.set_param@self', id ='1667855296', onmouseover='highlight(1667864195)', title='message.Message.set_param@self :: Message'>self</a> and <a href='#message.Message.set_param@header', id ='1667855266', onmouseover='highlight(1667864133)', title='message.Message.set_param@header :: str'>header</a>.<a href='http://docs.python.org/library/stdtypes.html#str.lower', id ='1667834406', onmouseover='highlight(400228296)', title='__builtin__.str.lower :: ? -> str'>lower</a>() == &#39;content-type&#39;:
<span class='lineno'>593</span>             <a name='message.Message.set_param&ctype', id ='1667834283', onmouseover='highlight("1667831431","1667825502","1667804398","1667825598","1667833194","1667826594")', title='message.Message.set_param&ctype :: str'><a name='message.Message.set_param&ctype', id ='1667834283', onmouseover='highlight("1667831431","1667825502","1667804398","1667825598","1667833194","1667826594")', title='message.Message.set_param&ctype :: str'><a name='message.Message.set_param&ctype', id ='1667834283', onmouseover='highlight("1667831431","1667825502","1667804398","1667825598","1667833194","1667826594")', title='message.Message.set_param&ctype :: str'>ctype</a></a></a> = &#39;text/plain&#39;
<span class='lineno'>594</span>         else:
<span class='lineno'>595</span>             <a name='message.Message.set_param&ctype', id ='1667834152', onmouseover='highlight("1667831431","1667825502","1667804398","1667825598","1667833194","1667826594")', title='message.Message.set_param&ctype :: str'><a name='message.Message.set_param&ctype', id ='1667834152', onmouseover='highlight("1667831431","1667825502","1667804398","1667825598","1667833194","1667826594")', title='message.Message.set_param&ctype :: str'><a name='message.Message.set_param&ctype', id ='1667834152', onmouseover='highlight("1667831431","1667825502","1667804398","1667825598","1667833194","1667826594")', title='message.Message.set_param&ctype :: str'>ctype</a></a></a> = <a href='#message.Message.set_param@self', id ='1667834123', onmouseover='highlight(1667864195)', title='message.Message.set_param@self :: Message'>self</a>.<a href='#message.Message.get', id ='1667833446', onmouseover='highlight(1668750176)', title='message.Message.get :: (MMDFMessage, str, str) -> str | (MaildirMessage, str, str) -> str | (Message, str, object) -> object'>get</a>(<a href='#message.Message.set_param@header', id ='1667833442', onmouseover='highlight(1667864133)', title='message.Message.set_param@header :: str'>header</a>)
<span class='lineno'>596</span>         if not <a href='#message.Message.set_param@self', id ='1667833377', onmouseover='highlight(1667864195)', title='message.Message.set_param@self :: Message'>self</a>.<a href='#message.Message.get_param', id ='1667833351', onmouseover='highlight(1668546351)', title='message.Message.get_param :: (Message, str, object, str, ?) -> object'>get_param</a>(<a href='#message.Message.set_param@param', id ='1667833320', onmouseover='highlight(1667864189)', title='message.Message.set_param@param :: str'>param</a>, header=header):
<span class='lineno'>597</span>             if not <a href='#message.Message.set_param&ctype', id ='1667833194', onmouseover='highlight("1667832478","1667825664","1667834283","1667830562","1667834152","1667832232","1667826525","1667832478","1667825664","1667834283","1667830562","1667834152","1667832232","1667826525","1667832478","1667825664","1667834283","1667830562","1667834152","1667832232","1667826525")', title='{message.Message.set_param&ctype :: str | message.Message.set_param&ctype :: str | message.Message.set_param&ctype :: str}'>ctype</a>:
<span class='lineno'>598</span>                 <span class='identifier'><a name='message.Message.set_param&ctype', id ='1667832478', onmouseover='highlight("1667831431","1667825502","1667804398","1667825598","1667833194","1667826594")', title='message.Message.set_param&ctype :: str'><a name='message.Message.set_param&ctype', id ='1667832478', onmouseover='highlight("1667831431","1667825502","1667804398","1667825598","1667833194","1667826594")', title='message.Message.set_param&ctype :: str'><span class='identifier'><a name='message.Message.set_param&ctype', id ='1667832478', onmouseover='highlight("1667831431","1667825502","1667804398","1667825598","1667833194","1667826594")', title='message.Message.set_param&ctype :: str'><span class='identifier'>ctype</a></span></a></a></span></span> = <a href='#message._formatparam', id ='1667832449', onmouseover='highlight(471001829)', title='message._formatparam :: (str, (?, str, ?), ?) -> str'>_formatparam</a>(<a href='#message.Message.set_param@param', id ='1667832415', onmouseover='highlight(1667864189)', title='message.Message.set_param@param :: str'>param</a>, <a href='#message.Message.set_param@value', id ='1667832387', onmouseover='highlight("1667855483","1667864161")', title='message.Message.set_param@value :: (?, str, ?)'>value</a>, <a href='#message.Message.set_param@requote', id ='1667832359', onmouseover='highlight(1667864068)', title='message.Message.set_param@requote :: ?'>requote</a>)
<span class='lineno'>599</span>             else:
<span class='lineno'>600</span>                 <a name='message.Message.set_param&ctype', id ='1667832232', onmouseover='highlight("1667831431","1667825502","1667804398","1667825598","1667833194","1667826594")', title='message.Message.set_param&ctype :: str'><a name='message.Message.set_param&ctype', id ='1667832232', onmouseover='highlight("1667831431","1667825502","1667804398","1667825598","1667833194","1667826594")', title='message.Message.set_param&ctype :: str'><a name='message.Message.set_param&ctype', id ='1667832232', onmouseover='highlight("1667831431","1667825502","1667804398","1667825598","1667833194","1667826594")', title='message.Message.set_param&ctype :: str'>ctype</a></a></a> = <a href='#message.SEMISPACE', id ='1667832203', onmouseover='highlight(471007623)', title='message.SEMISPACE :: str'>SEMISPACE</a>.<a href='http://docs.python.org/library/stdtypes.html#str.join', id ='1667831521', onmouseover='highlight(760704539)', title='__builtin__.str.join :: ? -> str'>join</a>(
<span class='lineno'>601</span>                     [<a href='#message.Message.set_param&ctype', id ='1667831431', onmouseover='highlight("1667832478","1667825664","1667834283","1667830562","1667834152","1667832232","1667826525")', title='message.Message.set_param&ctype :: str'>ctype</a>, <a href='#message._formatparam', id ='1667831424', onmouseover='highlight(471001829)', title='message._formatparam :: (str, (?, str, ?), ?) -> str'>_formatparam</a>(<a href='#message.Message.set_param@param', id ='1667831369', onmouseover='highlight(1667864189)', title='message.Message.set_param@param :: str'>param</a>, <a href='#message.Message.set_param@value', id ='1667831362', onmouseover='highlight("1667855483","1667864161")', title='message.Message.set_param@value :: (?, str, ?)'>value</a>, <a href='#message.Message.set_param@requote', id ='1667831334', onmouseover='highlight(1667864068)', title='message.Message.set_param@requote :: ?'>requote</a>)])
<span class='lineno'>602</span>         else:
<span class='lineno'>603</span>             <a name='message.Message.set_param&ctype', id ='1667830562', onmouseover='highlight("1667831431","1667825502","1667804398","1667825598","1667833194","1667826594")', title='message.Message.set_param&ctype :: str'><a name='message.Message.set_param&ctype', id ='1667830562', onmouseover='highlight("1667831431","1667825502","1667804398","1667825598","1667833194","1667826594")', title='message.Message.set_param&ctype :: str'><a name='message.Message.set_param&ctype', id ='1667830562', onmouseover='highlight("1667831431","1667825502","1667804398","1667825598","1667833194","1667826594")', title='message.Message.set_param&ctype :: str'>ctype</a></a></a> = &#39;&#39;
<span class='lineno'>604</span>             for <a name='message.Message.set_param&old_param', id ='1667830493', onmouseover='highlight("1667828610","1667827425")', title='message.Message.set_param&old_param :: ?'>old_param</a>, <a name='message.Message.set_param&old_value', id ='1667830461', onmouseover='highlight(1667827393)', title='message.Message.set_param&old_value :: ?'>old_value</a> in <a href='#message.Message.set_param@self', id ='1667830406', onmouseover='highlight(1667864195)', title='message.Message.set_param@self :: Message'>self</a>.<a href='#message.Message.get_params', id ='1667830401', onmouseover='highlight(1668576080)', title='message.Message.get_params :: (Message, ?, str, ?) -> {[(?, (?, ?, ?))] | object}'>get_params</a>(header=header,
<span class='lineno'>605</span>                                                         unquote=requote):
<span class='lineno'>606</span>                 <a name='message.Message.set_param&append_param', id ='1667829382', onmouseover='highlight("1667825570","1667826496")', title='message.Message.set_param&append_param :: str'><a name='message.Message.set_param&append_param', id ='1667829382', onmouseover='highlight("1667825570","1667826496")', title='message.Message.set_param&append_param :: str'><a name='message.Message.set_param&append_param', id ='1667829382', onmouseover='highlight("1667825570","1667826496")', title='message.Message.set_param&append_param :: str'>append_param</a></a></a> = &#39;&#39;
<span class='lineno'>607</span>                 if <a href='#message.Message.set_param&old_param', id ='1667828610', onmouseover='highlight(1667830493)', title='message.Message.set_param&old_param :: ?'>old_param</a>.lower() == <a href='#message.Message.set_param@param', id ='1667828547', onmouseover='highlight(1667864189)', title='message.Message.set_param@param :: str'>param</a>.<a href='http://docs.python.org/library/stdtypes.html#str.lower', id ='1667828541', onmouseover='highlight(400228296)', title='__builtin__.str.lower :: ? -> str'>lower</a>():
<span class='lineno'>608</span>                     <a name='message.Message.set_param&append_param', id ='1667828449', onmouseover='highlight("1667825570","1667826496")', title='message.Message.set_param&append_param :: str'><a name='message.Message.set_param&append_param', id ='1667828449', onmouseover='highlight("1667825570","1667826496")', title='message.Message.set_param&append_param :: str'><a name='message.Message.set_param&append_param', id ='1667828449', onmouseover='highlight("1667825570","1667826496")', title='message.Message.set_param&append_param :: str'>append_param</a></a></a> = <a href='#message._formatparam', id ='1667828392', onmouseover='highlight(471001829)', title='message._formatparam :: (str, (?, str, ?), ?) -> str'>_formatparam</a>(<a href='#message.Message.set_param@param', id ='1667828358', onmouseover='highlight(1667864189)', title='message.Message.set_param@param :: str'>param</a>, <a href='#message.Message.set_param@value', id ='1667827679', onmouseover='highlight("1667855483","1667864161")', title='message.Message.set_param@value :: (?, str, ?)'>value</a>, <a href='#message.Message.set_param@requote', id ='1667827672', onmouseover='highlight(1667864068)', title='message.Message.set_param@requote :: ?'>requote</a>)
<span class='lineno'>609</span>                 else:
<span class='lineno'>610</span>                     <span class='identifier'><a name='message.Message.set_param&append_param', id ='1667827516', onmouseover='highlight("1667825570","1667826496")', title='message.Message.set_param&append_param :: str'><span class='identifier'><span class='identifier'><a name='message.Message.set_param&append_param', id ='1667827516', onmouseover='highlight("1667825570","1667826496")', title='message.Message.set_param&append_param :: str'><a name='message.Message.set_param&append_param', id ='1667827516', onmouseover='highlight("1667825570","1667826496")', title='message.Message.set_param&append_param :: str'>append_param</a></span></span></span></a></a> = <a href='#message._formatparam', id ='1667827459', onmouseover='highlight(471001829)', title='message._formatparam :: (str, (?, str, ?), ?) -> str'>_formatparam</a>(<a href='#message.Message.set_param&old_param', id ='1667827425', onmouseover='highlight(1667830493)', title='message.Message.set_param&old_param :: ?'>old_param</a>, <a href='#message.Message.set_param&old_value', id ='1667827393', onmouseover='highlight(1667830461)', title='message.Message.set_param&old_value :: ?'>old_value</a>, <a href='#message.Message.set_param@requote', id ='1667826710', onmouseover='highlight(1667864068)', title='message.Message.set_param@requote :: ?'>requote</a>)
<span class='lineno'>611</span>                 if not <a href='#message.Message.set_param&ctype', id ='1667826594', onmouseover='highlight("1667832478","1667825664","1667834283","1667830562","1667834152","1667832232","1667826525")', title='message.Message.set_param&ctype :: str'>ctype</a>:
<span class='lineno'>612</span>                     <a name='message.Message.set_param&ctype', id ='1667826525', onmouseover='highlight("1667831431","1667825502","1667804398","1667825598","1667833194","1667826594")', title='message.Message.set_param&ctype :: str'><a name='message.Message.set_param&ctype', id ='1667826525', onmouseover='highlight("1667831431","1667825502","1667804398","1667825598","1667833194","1667826594")', title='message.Message.set_param&ctype :: str'><a name='message.Message.set_param&ctype', id ='1667826525', onmouseover='highlight("1667831431","1667825502","1667804398","1667825598","1667833194","1667826594")', title='message.Message.set_param&ctype :: str'>ctype</a></a></a> = <a href='#message.Message.set_param&append_param', id ='1667826496', onmouseover='highlight("1667827516","1667828449","1667829382")', title='message.Message.set_param&append_param :: str'>append_param</a>
<span class='lineno'>613</span>                 else:
<span class='lineno'>614</span>                     <a name='message.Message.set_param&ctype', id ='1667825664', onmouseover='highlight("1667831431","1667825502","1667804398","1667825598","1667833194","1667826594")', title='message.Message.set_param&ctype :: str'><a name='message.Message.set_param&ctype', id ='1667825664', onmouseover='highlight("1667831431","1667825502","1667804398","1667825598","1667833194","1667826594")', title='message.Message.set_param&ctype :: str'><a name='message.Message.set_param&ctype', id ='1667825664', onmouseover='highlight("1667831431","1667825502","1667804398","1667825598","1667833194","1667826594")', title='message.Message.set_param&ctype :: str'>ctype</a></a></a> = <a href='#message.SEMISPACE', id ='1667825656', onmouseover='highlight(471007623)', title='message.SEMISPACE :: str'>SEMISPACE</a>.<a href='http://docs.python.org/library/stdtypes.html#str.join', id ='1667825625', onmouseover='highlight(760704539)', title='__builtin__.str.join :: ? -> str'>join</a>([<a href='#message.Message.set_param&ctype', id ='1667825598', onmouseover='highlight("1667832478","1667825664","1667834283","1667830562","1667834152","1667832232","1667826525")', title='message.Message.set_param&ctype :: str'>ctype</a>, <a href='#message.Message.set_param&append_param', id ='1667825570', onmouseover='highlight("1667827516","1667828449","1667829382")', title='message.Message.set_param&append_param :: str'>append_param</a>])
<span class='lineno'>615</span>         if <a href='#message.Message.set_param&ctype', id ='1667825502', onmouseover='highlight("1667832478","1667825664","1667834283","1667830562","1667834152","1667832232","1667826525")', title='message.Message.set_param&ctype :: str'>ctype</a> != <a href='#message.Message.set_param@self', id ='1667825472', onmouseover='highlight(1667864195)', title='message.Message.set_param@self :: Message'>self</a>.<a href='#message.Message.get', id ='1667804614', onmouseover='highlight(1668750176)', title='message.Message.get :: (MMDFMessage, str, str) -> str | (MaildirMessage, str, str) -> str | (Message, str, object) -> object'>get</a>(<a href='#message.Message.set_param@header', id ='1667804610', onmouseover='highlight(1667864133)', title='message.Message.set_param@header :: str'>header</a>):
<span class='lineno'>616</span>             del <a href='#message.Message.set_param@self', id ='1667804522', onmouseover='highlight(1667864195)', title='message.Message.set_param@self :: Message'>self</a>[<a href='#message.Message.set_param@header', id ='1667804517', onmouseover='highlight(1667864133)', title='message.Message.set_param@header :: str'>header</a>]
<span class='lineno'>617</span>             <a href='#message.Message.set_param@self', id ='1667804455', onmouseover='highlight(1667864195)', title='message.Message.set_param@self :: Message'>self</a>[<a href='#message.Message.set_param@header', id ='1667804429', onmouseover='highlight(1667864133)', title='message.Message.set_param@header :: str'>header</a>] = <a href='#message.Message.set_param&ctype', id ='1667804398', onmouseover='highlight("1667832478","1667825664","1667834283","1667830562","1667834152","1667832232","1667826525")', title='message.Message.set_param&ctype :: str'>ctype</a>
<span class='lineno'>618</span> 
<span class='lineno'>619</span>     def <span class='function'><a name='message.Message.del_param', id ='1667804362', onmouseover='highlight(1716185322)', title='message.Message.del_param :: (Message, str, str, ?) -> None'>del_param</span></a>(<a name='message.Message.del_param@self', id ='1667804331', onmouseover='highlight("1667799591","1667774824","1667795744","1667795841","1667799806")', title='message.Message.del_param@self :: Message'><span class='parameter'>self</span></a>, <a name='message.Message.del_param@param', id ='1667803653', onmouseover='highlight(1667798695)', title='message.Message.del_param@param :: str'><span class='parameter'>param</a></span>, <span class='parameter'><a name='message.Message.del_param@header', id ='1667803646', onmouseover='highlight("1667795718","1667800492","1667795811","1667774819")', title='message.Message.del_param@header :: str'>header</a></span>=&#39;content-type&#39;, <a name='message.Message.del_param@requote', id ='1667803560', onmouseover='highlight("1667795960","1667797734")', title='message.Message.del_param@requote :: ?'><span class='parameter'>requote</a></span>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1667803531', onmouseover='highlight(2016665419)', title='__builtin__.True :: ?'>True</a>):
<span class='lineno'>620</span>         <span class='doc-string'>&quot;&quot;&quot;Remove the given parameter completely from the Content-Type header.
<span class='lineno'>621</span> 
<span class='lineno'>622</span>         The header will be re-written in place without the parameter or its
<span class='lineno'>623</span>         value. All values will be quoted as necessary unless requote is
<span class='lineno'>624</span>         False.  Optional header specifies an alternative to the Content-Type
<span class='lineno'>625</span>         header.
<span class='lineno'>626</span>         &quot;&quot;&quot;</span>
<span class='lineno'>627</span>         if <a href='#message.Message.del_param@header', id ='1667800492', onmouseover='highlight(1667803646)', title='message.Message.del_param@header :: str'>header</a> not in <a href='#message.Message.del_param@self', id ='1667799806', onmouseover='highlight(1667804331)', title='message.Message.del_param@self :: Message'>self</a>:
<span class='lineno'>628</span>             return
<span class='lineno'>629</span>         <a name='message.Message.del_param&new_ctype', id ='1667799710', onmouseover='highlight("1667795896","1667774788","1667796857","1667798594")', title='message.Message.del_param&new_ctype :: str'><a name='message.Message.del_param&new_ctype', id ='1667799710', onmouseover='highlight("1667795896","1667774788","1667796857","1667798594")', title='message.Message.del_param&new_ctype :: str'>new_ctype</a></a> = &#39;&#39;
<span class='lineno'>630</span>         for <a name='message.Message.del_param&p', id ='1667799620', onmouseover='highlight("1667797761","1667795966","1667798750")', title='message.Message.del_param&p :: ?'>p</a>, <a name='message.Message.del_param&v', id ='1667799617', onmouseover='highlight("1667795963","1667797758")', title='message.Message.del_param&v :: ?'>v</a> in <a href='#message.Message.del_param@self', id ='1667799591', onmouseover='highlight(1667804331)', title='message.Message.del_param@self :: Message'>self</a>.<a href='#message.Message.get_params', id ='1667799586', onmouseover='highlight(1668576080)', title='message.Message.get_params :: (Message, ?, str, ?) -> {[(?, (?, ?, ?))] | object}'>get_params</a>(header=header, unquote=requote):
<span class='lineno'>631</span>             if <a href='#message.Message.del_param&p', id ='1667798750', onmouseover='highlight(1667799620)', title='message.Message.del_param&p :: ?'>p</a>.lower() != <a href='#message.Message.del_param@param', id ='1667798695', onmouseover='highlight(1667803653)', title='message.Message.del_param@param :: str'>param</a>.<a href='http://docs.python.org/library/stdtypes.html#str.lower', id ='1667798689', onmouseover='highlight(400228296)', title='__builtin__.str.lower :: ? -> str'>lower</a>():
<span class='lineno'>632</span>                 if not <a href='#message.Message.del_param&new_ctype', id ='1667798594', onmouseover='highlight("1667796927","1667797849","1667799710","1667796927","1667797849","1667799710")', title='{message.Message.del_param&new_ctype :: str | message.Message.del_param&new_ctype :: str}'>new_ctype</a>:
<span class='lineno'>633</span>                     <a name='message.Message.del_param&new_ctype', id ='1667797849', onmouseover='highlight("1667795896","1667774788","1667796857","1667798594")', title='message.Message.del_param&new_ctype :: str'><a name='message.Message.del_param&new_ctype', id ='1667797849', onmouseover='highlight("1667795896","1667774788","1667796857","1667798594")', title='message.Message.del_param&new_ctype :: str'>new_ctype</a></a> = <a href='#message._formatparam', id ='1667797795', onmouseover='highlight(471001829)', title='message._formatparam :: (str, (?, str, ?), ?) -> str'>_formatparam</a>(<a href='#message.Message.del_param&p', id ='1667797761', onmouseover='highlight(1667799620)', title='message.Message.del_param&p :: ?'>p</a>, <a href='#message.Message.del_param&v', id ='1667797758', onmouseover='highlight(1667799617)', title='message.Message.del_param&v :: ?'>v</a>, <a href='#message.Message.del_param@requote', id ='1667797734', onmouseover='highlight(1667803560)', title='message.Message.del_param@requote :: ?'>requote</a>)
<span class='lineno'>634</span>                 else:
<span class='lineno'>635</span>                     <a name='message.Message.del_param&new_ctype', id ='1667796927', onmouseover='highlight("1667795896","1667774788","1667796857","1667798594")', title='message.Message.del_param&new_ctype :: str'><a name='message.Message.del_param&new_ctype', id ='1667796927', onmouseover='highlight("1667795896","1667774788","1667796857","1667798594")', title='message.Message.del_param&new_ctype :: str'><span class='identifier'><span class='identifier'>new_ctype</a></span></span></a> = <a href='#message.SEMISPACE', id ='1667796894', onmouseover='highlight(471007623)', title='message.SEMISPACE :: str'>SEMISPACE</a>.<a href='http://docs.python.org/library/stdtypes.html#str.join', id ='1667796863', onmouseover='highlight(760704539)', title='__builtin__.str.join :: ? -> str'>join</a>([<a href='#message.Message.del_param&new_ctype', id ='1667796857', onmouseover='highlight("1667796927","1667797849","1667799710","1667796927","1667797849","1667799710")', title='{message.Message.del_param&new_ctype :: str | message.Message.del_param&new_ctype :: str}'>new_ctype</a>,
<span class='lineno'>636</span>                                                 <a href='#message._formatparam', id ='1667796672', onmouseover='highlight(471001829)', title='message._formatparam :: (str, (?, str, ?), ?) -> str'>_formatparam</a>(<a href='#message.Message.del_param&p', id ='1667795966', onmouseover='highlight(1667799620)', title='message.Message.del_param&p :: ?'>p</a>, <a href='#message.Message.del_param&v', id ='1667795963', onmouseover='highlight(1667799617)', title='message.Message.del_param&v :: ?'>v</a>, <a href='#message.Message.del_param@requote', id ='1667795960', onmouseover='highlight(1667803560)', title='message.Message.del_param@requote :: ?'>requote</a>)])
<span class='lineno'>637</span>         if <a href='#message.Message.del_param&new_ctype', id ='1667795896', onmouseover='highlight("1667796927","1667797849","1667799710")', title='message.Message.del_param&new_ctype :: str'>new_ctype</a> != <a href='#message.Message.del_param@self', id ='1667795841', onmouseover='highlight(1667804331)', title='message.Message.del_param@self :: Message'>self</a>.<a href='#message.Message.get', id ='1667795836', onmouseover='highlight(1668750176)', title='message.Message.get :: (MMDFMessage, str, str) -> str | (MaildirMessage, str, str) -> str | (Message, str, object) -> object'>get</a>(<a href='#message.Message.del_param@header', id ='1667795811', onmouseover='highlight(1667803646)', title='message.Message.del_param@header :: str'>header</a>):
<span class='lineno'>638</span>             del <a href='#message.Message.del_param@self', id ='1667795744', onmouseover='highlight(1667804331)', title='message.Message.del_param@self :: Message'>self</a>[<a href='#message.Message.del_param@header', id ='1667795718', onmouseover='highlight(1667803646)', title='message.Message.del_param@header :: str'>header</a>]
<span class='lineno'>639</span>             <a href='#message.Message.del_param@self', id ='1667774824', onmouseover='highlight(1667804331)', title='message.Message.del_param@self :: Message'>self</a>[<a href='#message.Message.del_param@header', id ='1667774819', onmouseover='highlight(1667803646)', title='message.Message.del_param@header :: str'>header</a>] = <a href='#message.Message.del_param&new_ctype', id ='1667774788', onmouseover='highlight("1667796927","1667797849","1667799710")', title='message.Message.del_param&new_ctype :: str'>new_ctype</a>
<span class='lineno'>640</span> 
<span class='lineno'>641</span>     def <a name='message.Message.set_type', id ='1667774727', title='message.Message.set_type :: (Message, ?, str, ?) -> None'><span class='function'>set_type</a></span>(<span class='parameter'><a name='message.Message.set_type@self', id ='1667774697', onmouseover='highlight("1667744812","1667766045","1667745033","1667766141","1667744994","1667742894","1667743975","1667743912")', title='message.Message.set_type@self :: Message'>self</span></a>, <a name='message.Message.set_type@type', id ='1667774670', onmouseover='highlight("1667744937","1667767967","1667743855")', title='message.Message.set_type@type :: ?'><span class='parameter'>type</a></span>, <span class='parameter'><a name='message.Message.set_type@header', id ='1667774664', onmouseover='highlight("1667743949","1667744968","1667743886","1667765921","1667742831","1667766947")', title='message.Message.set_type@header :: str'>header</a></span>=&#39;Content-Type&#39;, <span class='parameter'><a name='message.Message.set_type@requote', id ='1667774599', onmouseover='highlight(1667742151)', title='message.Message.set_type@requote :: ?'>requote</span></a>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1667774570', onmouseover='highlight(2016665419)', title='__builtin__.True :: ?'>True</a>):
<span class='lineno'>642</span>         <span class='doc-string'>&quot;&quot;&quot;Set the main type and subtype for the Content-Type header.
<span class='lineno'>643</span> 
<span class='lineno'>644</span>         type must be a string in the form &quot;maintype/subtype&quot;, otherwise a
<span class='lineno'>645</span>         ValueError is raised.
<span class='lineno'>646</span> 
<span class='lineno'>647</span>         This method replaces the Content-Type header, keeping all the
<span class='lineno'>648</span>         parameters in place.  If requote is False, this leaves the existing
<span class='lineno'>649</span>         header&#39;s quoting as is.  Otherwise, the parameters will be quoted (the
<span class='lineno'>650</span>         default).
<span class='lineno'>651</span> 
<span class='lineno'>652</span>         An alternative header can be specified in the header argument.  When
<span class='lineno'>653</span>         the Content-Type header is set, we&#39;ll always also add a MIME-Version
<span class='lineno'>654</span>         header.
<span class='lineno'>655</span>         &quot;&quot;&quot;</span>
<span class='lineno'>656</span>         # BAW: should we be strict?
<span class='lineno'>657</span>         if not <a href='#message.Message.set_type@type', id ='1667767967', onmouseover='highlight(1667774670)', title='message.Message.set_type@type :: ?'>type</a>.count(&#39;/&#39;) == <span class='number'>1</span>:
<span class='lineno'>658</span>             raise <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1667767843', onmouseover='highlight(2016665419)', title='__builtin__.ValueError :: <ValueError>'>ValueError</a>
<span class='lineno'>659</span>         # Set the Content-Type, you get a MIME-Version
<span class='lineno'>660</span>         if <a href='#message.Message.set_type@header', id ='1667766947', onmouseover='highlight(1667774664)', title='message.Message.set_type@header :: str'>header</a>.<a href='http://docs.python.org/library/stdtypes.html#str.lower', id ='1667766919', onmouseover='highlight(400228296)', title='__builtin__.str.lower :: ? -> str'>lower</a>() == &#39;content-type&#39;:
<span class='lineno'>661</span>             del <a href='#message.Message.set_type@self', id ='1667766141', onmouseover='highlight(1667774697)', title='message.Message.set_type@self :: Message'>self</a>[&#39;mime-version&#39;]
<span class='lineno'>662</span>             <a href='#message.Message.set_type@self', id ='1667766045', onmouseover='highlight(1667774697)', title='message.Message.set_type@self :: Message'>self</a>[&#39;MIME-Version&#39;] = &#39;1.0&#39;
<span class='lineno'>663</span>         if <a href='#message.Message.set_type@header', id ='1667765921', onmouseover='highlight(1667774664)', title='message.Message.set_type@header :: str'>header</a> not in <a href='#message.Message.set_type@self', id ='1667745033', onmouseover='highlight(1667774697)', title='message.Message.set_type@self :: Message'>self</a>:
<span class='lineno'>664</span>             <a href='#message.Message.set_type@self', id ='1667744994', onmouseover='highlight(1667774697)', title='message.Message.set_type@self :: Message'>self</a>[<a href='#message.Message.set_type@header', id ='1667744968', onmouseover='highlight(1667774664)', title='message.Message.set_type@header :: str'>header</a>] = <a href='#message.Message.set_type@type', id ='1667744937', onmouseover='highlight(1667774670)', title='message.Message.set_type@type :: ?'>type</a>
<span class='lineno'>665</span>             return
<span class='lineno'>666</span>         <a name='message.Message.set_type&params', id ='1667744842', onmouseover='highlight(1667742981)', title='message.Message.set_type&params :: {[(?, (?, ?, ?))] | object}'><span class='identifier'>params</a></span> = <a href='#message.Message.set_type@self', id ='1667744812', onmouseover='highlight(1667774697)', title='message.Message.set_type@self :: Message'>self</a>.<a href='#message.Message.get_params', id ='1667744786', onmouseover='highlight(1668576080)', title='message.Message.get_params :: (Message, ?, str, ?) -> {[(?, (?, ?, ?))] | object}'>get_params</a>(header=header, unquote=requote)
<span class='lineno'>667</span>         del <a href='#message.Message.set_type@self', id ='1667743975', onmouseover='highlight(1667774697)', title='message.Message.set_type@self :: Message'>self</a>[<a href='#message.Message.set_type@header', id ='1667743949', onmouseover='highlight(1667774664)', title='message.Message.set_type@header :: str'>header</a>]
<span class='lineno'>668</span>         <a href='#message.Message.set_type@self', id ='1667743912', onmouseover='highlight(1667774697)', title='message.Message.set_type@self :: Message'>self</a>[<a href='#message.Message.set_type@header', id ='1667743886', onmouseover='highlight(1667774664)', title='message.Message.set_type@header :: str'>header</a>] = <a href='#message.Message.set_type@type', id ='1667743855', onmouseover='highlight(1667774670)', title='message.Message.set_type@type :: ?'>type</a>
<span class='lineno'>669</span>         # Skip the first param; it&#39;s the old type.
<span class='lineno'>670</span>         for <a name='message.Message.set_type&p', id ='1667743010', onmouseover='highlight(1667742858)', title='message.Message.set_type&p :: ?'>p</a>, <a name='message.Message.set_type&v', id ='1667742986', onmouseover='highlight(1667742855)', title='message.Message.set_type&v :: (?, ?, ?)'>v</a> in <a href='#message.Message.set_type&params', id ='1667742981', onmouseover='highlight(1667744842)', title='message.Message.set_type&params :: {[(?, (?, ?, ?))] | object}'>params</a>[<span class='number'>1</span>:]:
<span class='lineno'>671</span>             <a href='#message.Message.set_type@self', id ='1667742894', onmouseover='highlight(1667774697)', title='message.Message.set_type@self :: Message'>self</a>.<a href='#message.Message.set_param', id ='1667742889', onmouseover='highlight(1667885058)', title='message.Message.set_param :: (Message, str, ?, str, ?, ?, str) -> None | (Message, ?, (?, ?, ?), str, ?, ?, str) -> None'>set_param</a>(<a href='#message.Message.set_type&p', id ='1667742858', onmouseover='highlight(1667743010)', title='message.Message.set_type&p :: ?'>p</a>, <a href='#message.Message.set_type&v', id ='1667742855', onmouseover='highlight(1667742986)', title='message.Message.set_type&v :: (?, ?, ?)'>v</a>, <a href='#message.Message.set_type@header', id ='1667742831', onmouseover='highlight(1667774664)', title='message.Message.set_type@header :: str'>header</a>, <a href='#message.Message.set_type@requote', id ='1667742151', onmouseover='highlight(1667774599)', title='message.Message.set_type@requote :: ?'>requote</a>)
<span class='lineno'>672</span> 
<span class='lineno'>673</span>     def <a name='message.Message.get_filename', id ='1667742112', title='message.Message.get_filename :: (Message, ?) -> ?'><span class='function'>get_filename</span></a>(<a name='message.Message.get_filename@self', id ='1667742057', onmouseover='highlight("1667737215","1667738211")', title='message.Message.get_filename@self :: Message'><span class='parameter'>self</a></span>, <a name='message.Message.get_filename@failobj', id ='1667742051', onmouseover='highlight(1667736255)', title='message.Message.get_filename@failobj :: ?'><span class='parameter'>failobj</span></a>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1667742022', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a>):
<span class='lineno'>674</span>         <span class='doc-string'>&quot;&quot;&quot;Return the filename associated with the payload if present.
<span class='lineno'>675</span> 
<span class='lineno'>676</span>         The filename is extracted from the Content-Disposition header&#39;s
<span class='lineno'>677</span>         `filename&#39; parameter, and it is unquoted.  If that header is missing
<span class='lineno'>678</span>         the `filename&#39; parameter, this method falls back to looking for the
<span class='lineno'>679</span>         `name&#39; parameter.
<span class='lineno'>680</span>         &quot;&quot;&quot;</span>
<span class='lineno'>681</span>         <span class='identifier'><a name='message.Message.get_filename&missing', id ='1667738984', onmouseover='highlight("1667736346","1667737129","1667737310","1667738121")', title='message.Message.get_filename&missing :: object'>missing</a></span> = <a href='http://docs.python.org/library/functions.html#object', id ='1667738302', onmouseover='highlight(628986520)', title='__builtin__.object :: <object>'>object</a>()
<span class='lineno'>682</span>         <span class='identifier'><a name='message.Message.get_filename&filename', id ='1667738243', onmouseover='highlight("1667736098","1667736379","1667737343")', title='message.Message.get_filename&filename :: object'>filename</span></a> = <a href='#message.Message.get_filename@self', id ='1667738211', onmouseover='highlight(1667742057)', title='message.Message.get_filename@self :: Message'>self</a>.<a href='#message.Message.get_param', id ='1667738206', onmouseover='highlight(1668546351)', title='message.Message.get_param :: (Message, str, object, str, ?) -> object'>get_param</a>(&#39;filename&#39;, <a href='#message.Message.get_filename&missing', id ='1667738121', onmouseover='highlight(1667738984)', title='message.Message.get_filename&missing :: object'>missing</a>, &#39;content-disposition&#39;)
<span class='lineno'>683</span>         if <a href='#message.Message.get_filename&filename', id ='1667737343', onmouseover='highlight("1667738243","1667737247")', title='message.Message.get_filename&filename :: object'>filename</a> is <a href='#message.Message.get_filename&missing', id ='1667737310', onmouseover='highlight(1667738984)', title='message.Message.get_filename&missing :: object'>missing</a>:
<span class='lineno'>684</span>             <a name='message.Message.get_filename&filename', id ='1667737247', onmouseover='highlight("1667736098","1667736379","1667737343")', title='message.Message.get_filename&filename :: object'>filename</a> = <a href='#message.Message.get_filename@self', id ='1667737215', onmouseover='highlight(1667742057)', title='message.Message.get_filename@self :: Message'>self</a>.<a href='#message.Message.get_param', id ='1667737189', onmouseover='highlight(1668546351)', title='message.Message.get_param :: (Message, str, object, str, ?) -> object'>get_param</a>(&#39;name&#39;, <a href='#message.Message.get_filename&missing', id ='1667737129', onmouseover='highlight(1667738984)', title='message.Message.get_filename&missing :: object'>missing</a>, &#39;content-type&#39;)
<span class='lineno'>685</span>         if <a href='#message.Message.get_filename&filename', id ='1667736379', onmouseover='highlight("1667738243","1667737247")', title='message.Message.get_filename&filename :: object'>filename</a> is <a href='#message.Message.get_filename&missing', id ='1667736346', onmouseover='highlight(1667738984)', title='message.Message.get_filename&missing :: object'>missing</a>:
<span class='lineno'>686</span>             return <a href='#message.Message.get_filename@failobj', id ='1667736255', onmouseover='highlight(1667742051)', title='message.Message.get_filename@failobj :: ?'>failobj</a>
<span class='lineno'>687</span>         return utils.collapse_rfc2231_value(<a href='#message.Message.get_filename&filename', id ='1667736098', onmouseover='highlight("1667738243","1667737247")', title='message.Message.get_filename&filename :: object'>filename</a>).strip()
<span class='lineno'>688</span> 
<span class='lineno'>689</span>     def <span class='function'><a name='message.Message.get_boundary', id ='1667715176', title='message.Message.get_boundary :: (Message, ?) -> ?'>get_boundary</span></a>(<a name='message.Message.get_boundary@self', id ='1667715142', onmouseover='highlight(1667712356)', title='message.Message.get_boundary@self :: Message'><span class='parameter'>self</span></a>, <span class='parameter'><a name='message.Message.get_boundary@failobj', id ='1667715115', onmouseover='highlight(1667712080)', title='message.Message.get_boundary@failobj :: ?'>failobj</span></a>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1667715086', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a>):
<span class='lineno'>690</span>         <span class='doc-string'>&quot;&quot;&quot;Return the boundary associated with the payload if present.
<span class='lineno'>691</span> 
<span class='lineno'>692</span>         The boundary is extracted from the Content-Type header&#39;s `boundary&#39;
<span class='lineno'>693</span>         parameter, and it is unquoted.
<span class='lineno'>694</span>         &quot;&quot;&quot;</span>
<span class='lineno'>695</span>         <span class='identifier'><a name='message.Message.get_boundary&missing', id ='1667713129', onmouseover='highlight("1667712171","1667712266")', title='message.Message.get_boundary&missing :: object'>missing</span></a> = <a href='http://docs.python.org/library/functions.html#object', id ='1667713098', onmouseover='highlight(628986520)', title='__builtin__.object :: <object>'>object</a>()
<span class='lineno'>696</span>         <span class='identifier'><a name='message.Message.get_boundary&boundary', id ='1667713039', onmouseover='highlight("1667710405","1667712204")', title='message.Message.get_boundary&boundary :: object'>boundary</a></span> = <a href='#message.Message.get_boundary@self', id ='1667712356', onmouseover='highlight(1667715142)', title='message.Message.get_boundary@self :: Message'>self</a>.<a href='#message.Message.get_param', id ='1667712351', onmouseover='highlight(1668546351)', title='message.Message.get_param :: (Message, str, object, str, ?) -> object'>get_param</a>(&#39;boundary&#39;, <a href='#message.Message.get_boundary&missing', id ='1667712266', onmouseover='highlight(1667713129)', title='message.Message.get_boundary&missing :: object'>missing</a>)
<span class='lineno'>697</span>         if <a href='#message.Message.get_boundary&boundary', id ='1667712204', onmouseover='highlight(1667713039)', title='message.Message.get_boundary&boundary :: object'>boundary</a> is <a href='#message.Message.get_boundary&missing', id ='1667712171', onmouseover='highlight(1667713129)', title='message.Message.get_boundary&missing :: object'>missing</a>:
<span class='lineno'>698</span>             return <a href='#message.Message.get_boundary@failobj', id ='1667712080', onmouseover='highlight(1667715115)', title='message.Message.get_boundary@failobj :: ?'>failobj</a>
<span class='lineno'>699</span>         # RFC 2046 says that boundaries may begin but not end in w/s
<span class='lineno'>700</span>         return utils.collapse_rfc2231_value(<a href='#message.Message.get_boundary&boundary', id ='1667710405', onmouseover='highlight(1667713039)', title='message.Message.get_boundary&boundary :: object'>boundary</a>).rstrip()
<span class='lineno'>701</span> 
<span class='lineno'>702</span>     def <a name='message.Message.set_boundary', id ='1667710314', title='message.Message.set_boundary :: (Message, ?) -> None'><span class='function'>set_boundary</span></a>(<span class='parameter'><a name='message.Message.set_boundary@self', id ='1667710280', onmouseover='highlight("1667676518","1667685233","1667651812")', title='message.Message.set_boundary@self :: Message'>self</a></span>, <span class='parameter'><a name='message.Message.set_boundary@boundary', id ='1667710274', onmouseover='highlight("1667677546","1667680579")', title='message.Message.set_boundary@boundary :: ?'>boundary</a></span>):
<span class='lineno'>703</span>         <span class='doc-string'>&quot;&quot;&quot;Set the boundary parameter in Content-Type to &#39;boundary&#39;.
<span class='lineno'>704</span> 
<span class='lineno'>705</span>         This is subtly different than deleting the Content-Type header and
<span class='lineno'>706</span>         adding a new one with a new boundary parameter via add_header().  The
<span class='lineno'>707</span>         main difference is that using the set_boundary() method preserves the
<span class='lineno'>708</span>         order of the Content-Type header in the original message.
<span class='lineno'>709</span> 
<span class='lineno'>710</span>         HeaderParseError is raised if the message has no Content-Type header.
<span class='lineno'>711</span>         &quot;&quot;&quot;</span>
<span class='lineno'>712</span>         <a name='message.Message.set_boundary&missing', id ='1667685353', onmouseover='highlight("1667684363","1667685165")', title='message.Message.set_boundary&missing :: object'><span class='identifier'>missing</span></a> = <a href='http://docs.python.org/library/functions.html#object', id ='1667685322', onmouseover='highlight(628986520)', title='__builtin__.object :: <object>'>object</a>()
<span class='lineno'>713</span>         <a name='message.Message.set_boundary&params', id ='1667685263', onmouseover='highlight("1667684394","1667681544")', title='message.Message.set_boundary&params :: object'><span class='identifier'>params</span></a> = <a href='#message.Message.set_boundary@self', id ='1667685233', onmouseover='highlight(1667710280)', title='message.Message.set_boundary@self :: Message'>self</a>.<a href='#message.Message._get_params_preserve', id ='1667685228', onmouseover='highlight(1668603137)', title='message.Message._get_params_preserve :: (Message, object, str) -> object'>_get_params_preserve</a>(<a href='#message.Message.set_boundary&missing', id ='1667685165', onmouseover='highlight(1667685353)', title='message.Message.set_boundary&missing :: object'>missing</a>, &#39;content-type&#39;)
<span class='lineno'>714</span>         if <a href='#message.Message.set_boundary&params', id ='1667684394', onmouseover='highlight(1667685263)', title='message.Message.set_boundary&params :: object'>params</a> is <a href='#message.Message.set_boundary&missing', id ='1667684363', onmouseover='highlight(1667685353)', title='message.Message.set_boundary&missing :: object'>missing</a>:
<span class='lineno'>715</span>             # There was no Content-Type header, and we don&#39;t know what type
<span class='lineno'>716</span>             # to set it to, so raise an exception.
<span class='lineno'>717</span>             raise errors.HeaderParseError(&#39;No Content-Type header found&#39;)
<span class='lineno'>718</span>         <span class='identifier'><a name='message.Message.set_boundary&newparams', id ='1667682381', onmouseover='highlight("1667679685","1667681353","1667654669","1667677669")', title='message.Message.set_boundary&newparams :: [?]'>newparams</span></a> = []
<span class='lineno'>719</span>         <a name='message.Message.set_boundary&foundp', id ='1667682316', onmouseover='highlight(1667679559)', title='message.Message.set_boundary&foundp :: ?'><span class='identifier'>foundp</span></a> = <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1667682286', onmouseover='highlight(2016665419)', title='__builtin__.False :: ?'><span class='builtin'>False</span></a>
<span class='lineno'>720</span>         for <a name='message.Message.set_boundary&pk', id ='1667681575', onmouseover='highlight("1667679646","1667681479")', title='message.Message.set_boundary&pk :: ?'>pk</a>, <a name='message.Message.set_boundary&pv', id ='1667681571', onmouseover='highlight(1667679621)', title='message.Message.set_boundary&pv :: ?'>pv</a> in <a href='#message.Message.set_boundary&params', id ='1667681544', onmouseover='highlight(1667685263)', title='message.Message.set_boundary&params :: object'>params</a>:
<span class='lineno'>721</span>             if <a href='#message.Message.set_boundary&pk', id ='1667681479', onmouseover='highlight(1667681575)', title='message.Message.set_boundary&pk :: ?'>pk</a>.lower() == &#39;boundary&#39;:
<span class='lineno'>722</span>                 <a href='#message.Message.set_boundary&newparams', id ='1667681353', onmouseover='highlight(1667682381)', title='message.Message.set_boundary&newparams :: [?]'>newparams</a>.<a href='http://docs.python.org/library/stdtypes.html', id ='1667681322', onmouseover='highlight(592677897)', title='__builtin__.list.append :: ? -> None'>append</a>((&#39;boundary&#39;, &#39;&quot;%s&quot;&#39; % <a href='#message.Message.set_boundary@boundary', id ='1667680579', onmouseover='highlight(1667710274)', title='message.Message.set_boundary@boundary :: ?'>boundary</a>))
<span class='lineno'>723</span>                 <a name='message.Message.set_boundary&foundp', id ='1667680489', onmouseover='highlight(1667679559)', title='message.Message.set_boundary&foundp :: ?'>foundp</a> = <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1667680459', onmouseover='highlight(2016665419)', title='__builtin__.True :: ?'><span class='builtin'>True</span></a>
<span class='lineno'>724</span>             else:
<span class='lineno'>725</span>                 <a href='#message.Message.set_boundary&newparams', id ='1667679685', onmouseover='highlight(1667682381)', title='message.Message.set_boundary&newparams :: [?]'>newparams</a>.<a href='http://docs.python.org/library/stdtypes.html', id ='1667679654', onmouseover='highlight(592677897)', title='__builtin__.list.append :: ? -> None'>append</a>((<a href='#message.Message.set_boundary&pk', id ='1667679646', onmouseover='highlight(1667681575)', title='message.Message.set_boundary&pk :: ?'>pk</a>, <a href='#message.Message.set_boundary&pv', id ='1667679621', onmouseover='highlight(1667681571)', title='message.Message.set_boundary&pv :: ?'>pv</a>))
<span class='lineno'>726</span>         if not <a href='#message.Message.set_boundary&foundp', id ='1667679559', onmouseover='highlight("1667682316","1667680489")', title='message.Message.set_boundary&foundp :: ?'>foundp</a>:
<span class='lineno'>727</span>             # The original Content-Type header had no boundary attribute.
<span class='lineno'>728</span>             # Tack one on the end.  BAW: should we raise an exception
<span class='lineno'>729</span>             # instead???
<span class='lineno'>730</span>             <a href='#message.Message.set_boundary&newparams', id ='1667677669', onmouseover='highlight(1667682381)', title='message.Message.set_boundary&newparams :: [?]'>newparams</a>.<a href='http://docs.python.org/library/stdtypes.html', id ='1667677638', onmouseover='highlight(592677897)', title='__builtin__.list.append :: ? -> None'>append</a>((&#39;boundary&#39;, &#39;&quot;%s&quot;&#39; % <a href='#message.Message.set_boundary@boundary', id ='1667677546', onmouseover='highlight(1667710274)', title='message.Message.set_boundary@boundary :: ?'>boundary</a>))
<span class='lineno'>731</span>         # Replace the existing Content-Type header with the new value
<span class='lineno'>732</span>         <a name='message.Message.set_boundary&newheaders', id ='1667676617', onmouseover='highlight("1667653460","1667652560","1667651754")', title='message.Message.set_boundary&newheaders :: [(?, ?)]'><span class='identifier'>newheaders</a></span> = []
<span class='lineno'>733</span>         for <a name='message.Message.set_boundary&h', id ='1667676547', onmouseover='highlight("1667652499","1667652769","1667655593")', title='message.Message.set_boundary&h :: ?'>h</a>, <a name='message.Message.set_boundary&v', id ='1667676523', onmouseover='highlight("1667653522","1667654572","1667652496")', title='message.Message.set_boundary&v :: ?'>v</a> in <a href='#message.Message.set_boundary@self', id ='1667676518', onmouseover='highlight(1667710280)', title='message.Message.set_boundary@self :: Message'>self</a>.<a href='#message.Message._headers', id ='1667655660', onmouseover='highlight("1716335303","1667651786","1668784581")', title='message.Message._headers :: {[(?, ?)] | [?]}'>_headers</a>:
<span class='lineno'>734</span>             if <a href='#message.Message.set_boundary&h', id ='1667655593', onmouseover='highlight(1667676547)', title='message.Message.set_boundary&h :: ?'>h</a>.lower() == &#39;content-type&#39;:
<span class='lineno'>735</span>                 <span class='identifier'><a name='message.Message.set_boundary&parts', id ='1667655443', onmouseover='highlight("1667652709","1667654476","1667653612")', title='message.Message.set_boundary&parts :: [?]'>parts</a></span> = []
<span class='lineno'>736</span>                 for <a name='message.Message.set_boundary&k', id ='1667654698', onmouseover='highlight("1667653546","1667654421")', title='message.Message.set_boundary&k :: ?'>k</a>, <a name='message.Message.set_boundary&v', id ='1667654695', onmouseover='highlight("1667653522","1667654572","1667652496")', title='message.Message.set_boundary&v :: ?'>v</a> in <a href='#message.Message.set_boundary&newparams', id ='1667654669', onmouseover='highlight(1667682381)', title='message.Message.set_boundary&newparams :: [?]'>newparams</a>:
<span class='lineno'>737</span>                     if <a href='#message.Message.set_boundary&v', id ='1667654572', onmouseover='highlight("1667654695","1667676523")', title='message.Message.set_boundary&v :: ?'>v</a> == &#39;&#39;:
<span class='lineno'>738</span>                         <a href='#message.Message.set_boundary&parts', id ='1667654476', onmouseover='highlight(1667655443)', title='message.Message.set_boundary&parts :: [?]'>parts</a>.<a href='http://docs.python.org/library/stdtypes.html', id ='1667654449', onmouseover='highlight(592677897)', title='__builtin__.list.append :: ? -> None'>append</a>(<a href='#message.Message.set_boundary&k', id ='1667654421', onmouseover='highlight(1667654698)', title='message.Message.set_boundary&k :: ?'>k</a>)
<span class='lineno'>739</span>                     else:
<span class='lineno'>740</span>                         <a href='#message.Message.set_boundary&parts', id ='1667653612', onmouseover='highlight(1667655443)', title='message.Message.set_boundary&parts :: [?]'>parts</a>.<a href='http://docs.python.org/library/stdtypes.html', id ='1667653606', onmouseover='highlight(592677897)', title='__builtin__.list.append :: ? -> None'>append</a>(&#39;%s=%s&#39; % (<a href='#message.Message.set_boundary&k', id ='1667653546', onmouseover='highlight(1667654698)', title='message.Message.set_boundary&k :: ?'>k</a>, <a href='#message.Message.set_boundary&v', id ='1667653522', onmouseover='highlight("1667654695","1667676523")', title='message.Message.set_boundary&v :: ?'>v</a>))
<span class='lineno'>741</span>                 <a href='#message.Message.set_boundary&newheaders', id ='1667653460', onmouseover='highlight(1667676617)', title='message.Message.set_boundary&newheaders :: [(?, ?)]'>newheaders</a>.<a href='http://docs.python.org/library/stdtypes.html', id ='1667652777', onmouseover='highlight(592677897)', title='__builtin__.list.append :: ? -> None'>append</a>((<a href='#message.Message.set_boundary&h', id ='1667652769', onmouseover='highlight(1667676547)', title='message.Message.set_boundary&h :: ?'>h</a>, <a href='#message.SEMISPACE', id ='1667652745', onmouseover='highlight(471007623)', title='message.SEMISPACE :: str'>SEMISPACE</a>.<a href='http://docs.python.org/library/stdtypes.html#str.join', id ='1667652714', onmouseover='highlight(760704539)', title='__builtin__.str.join :: ? -> str'>join</a>(<a href='#message.Message.set_boundary&parts', id ='1667652709', onmouseover='highlight(1667655443)', title='message.Message.set_boundary&parts :: [?]'>parts</a>)))
<span class='lineno'>742</span> 
<span class='lineno'>743</span>             else:
<span class='lineno'>744</span>                 <a href='#message.Message.set_boundary&newheaders', id ='1667652560', onmouseover='highlight(1667676617)', title='message.Message.set_boundary&newheaders :: [(?, ?)]'>newheaders</a>.<a href='http://docs.python.org/library/stdtypes.html', id ='1667652528', onmouseover='highlight(592677897)', title='__builtin__.list.append :: ? -> None'>append</a>((<a href='#message.Message.set_boundary&h', id ='1667652499', onmouseover='highlight(1667676547)', title='message.Message.set_boundary&h :: ?'>h</a>, <a href='#message.Message.set_boundary&v', id ='1667652496', onmouseover='highlight("1667654695","1667676523")', title='message.Message.set_boundary&v :: ?'>v</a>))
<span class='lineno'>745</span>         <a href='#message.Message.set_boundary@self', id ='1667651812', onmouseover='highlight(1667710280)', title='message.Message.set_boundary@self :: Message'>self</a>.<a name='message.Message._headers', id ='1667651786', onmouseover='highlight("1668787684","1668753982","1668666438","1668757764","1668722215","1668690652","1667655660","1668728006","1668785541","1668782911","1668666631","1668667341","1668814407","1668750239")', title='message.Message._headers :: {[(?, ?)] | [?]}'>_headers</a> = <a href='#message.Message.set_boundary&newheaders', id ='1667651754', onmouseover='highlight(1667676617)', title='message.Message.set_boundary&newheaders :: [(?, ?)]'>newheaders</a>
<span class='lineno'>746</span> 
<span class='lineno'>747</span>     def <span class='function'><a name='message.Message.get_content_charset', id ='1667651692', title='message.Message.get_content_charset :: (Message, ?) -> ?'>get_content_charset</a></span>(<span class='parameter'><a name='message.Message.get_content_charset@self', id ='1667651630', onmouseover='highlight(1667648679)', title='message.Message.get_content_charset@self :: Message'>self</a></span>, <span class='parameter'><a name='message.Message.get_content_charset@failobj', id ='1667651624', onmouseover='highlight("1667619825","1667647754")', title='message.Message.get_content_charset@failobj :: ?'>failobj</span></a>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1667651595', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a>):
<span class='lineno'>748</span>         <span class='doc-string'>&quot;&quot;&quot;Return the charset parameter of the Content-Type header.
<span class='lineno'>749</span> 
<span class='lineno'>750</span>         The returned string is always coerced to lower case.  If there is no
<span class='lineno'>751</span>         Content-Type header, or if that header has no charset parameter,
<span class='lineno'>752</span>         failobj is returned.
<span class='lineno'>753</span>         &quot;&quot;&quot;</span>
<span class='lineno'>754</span>         <a name='message.Message.get_content_charset&missing', id ='1667648779', onmouseover='highlight("1667647845","1667647939")', title='message.Message.get_content_charset&missing :: object'><span class='identifier'>missing</a></span> = <a href='http://docs.python.org/library/functions.html#object', id ='1667648748', onmouseover='highlight(628986520)', title='__builtin__.object :: <object>'>object</a>()
<span class='lineno'>755</span>         <a name='message.Message.get_content_charset&charset', id ='1667648710', onmouseover='highlight("1667622983","1667625830","1667620068","1667647877","1667647010","1667620846","1667621986","1667621000")', title='message.Message.get_content_charset&charset :: object'>charset</a> = <a href='#message.Message.get_content_charset@self', id ='1667648679', onmouseover='highlight(1667651630)', title='message.Message.get_content_charset@self :: Message'>self</a>.<a href='#message.Message.get_param', id ='1667648653', onmouseover='highlight(1668546351)', title='message.Message.get_param :: (Message, str, object, str, ?) -> object'>get_param</a>(&#39;charset&#39;, <a href='#message.Message.get_content_charset&missing', id ='1667647939', onmouseover='highlight(1667648779)', title='message.Message.get_content_charset&missing :: object'>missing</a>)
<span class='lineno'>756</span>         if <a href='#message.Message.get_content_charset&charset', id ='1667647877', onmouseover='highlight("1667622017","1667648710","1667620906","1667623694")', title='message.Message.get_content_charset&charset :: object'>charset</a> is <a href='#message.Message.get_content_charset&missing', id ='1667647845', onmouseover='highlight(1667648779)', title='message.Message.get_content_charset&missing :: object'>missing</a>:
<span class='lineno'>757</span>             return <a href='#message.Message.get_content_charset@failobj', id ='1667647754', onmouseover='highlight(1667651624)', title='message.Message.get_content_charset@failobj :: ?'>failobj</a>
<span class='lineno'>758</span>         if <a href='http://docs.python.org/library/functions.html#isinstance', id ='1667647693', onmouseover='highlight(37741720)', title='__builtin__.isinstance :: ? -> int'>isinstance</a>(<a href='#message.Message.get_content_charset&charset', id ='1667647010', onmouseover='highlight("1667622017","1667648710","1667620906","1667623694")', title='message.Message.get_content_charset&charset :: object'>charset</a>, <a href='http://docs.python.org/library/functions.html#tuple', id ='1667646980', onmouseover='highlight(534381737)', title='__builtin__.tuple :: <tuple>'>tuple</a>):
<span class='lineno'>759</span>             # RFC 2231 encoded, so decode it, and it better end up as ascii.
<span class='lineno'>760</span>             <span class='identifier'><a name='message.Message.get_content_charset&pcharset', id ='1667625862', onmouseover='highlight(1667622950)', title='message.Message.get_content_charset&pcharset :: str'>pcharset</a></span> = <a href='#message.Message.get_content_charset&charset', id ='1667625830', onmouseover='highlight("1667622017","1667648710","1667620906","1667623694")', title='message.Message.get_content_charset&charset :: object'>charset</a>[<span class='number'>0</span>] or &#39;us-ascii&#39;
<span class='lineno'>761</span>             try:
<span class='lineno'>762</span>                 # LookupError will be raised if the charset isn&#39;t known to
<span class='lineno'>763</span>                 # Python.  UnicodeError will be raised if the encoded text
<span class='lineno'>764</span>                 # contains a character not in the charset.
<span class='lineno'>765</span>                 <a name='message.Message.get_content_charset&charset', id ='1667623694', onmouseover='highlight("1667622983","1667625830","1667620068","1667647877","1667647010","1667620846","1667621986","1667621000")', title='message.Message.get_content_charset&charset :: object'>charset</a> = <a href='http://docs.python.org/library/functions.html#unicode', id ='1667623663', onmouseover='highlight(1431294356)', title='__builtin__.unicode :: ? -> ?'>unicode</a>(<a href='#message.Message.get_content_charset&charset', id ='1667622983', onmouseover='highlight("1667622017","1667648710","1667620906","1667623694")', title='message.Message.get_content_charset&charset :: object'>charset</a>[<span class='number'>2</span>], <a href='#message.Message.get_content_charset&pcharset', id ='1667622950', onmouseover='highlight(1667625862)', title='message.Message.get_content_charset&pcharset :: str'>pcharset</a>).encode(&#39;us-ascii&#39;)
<span class='lineno'>766</span>             except (<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1667622796', onmouseover='highlight(2016665419)', title='__builtin__.LookupError :: <LookupError>'>LookupError</a>, <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1667622762', onmouseover='highlight(2016665419)', title='__builtin__.UnicodeError :: <UnicodeError>'>UnicodeError</a>):
<span class='lineno'>767</span>                 <span class='identifier'><a name='message.Message.get_content_charset&charset', id ='1667622017', onmouseover='highlight("1667622983","1667625830","1667620068","1667647877","1667647010","1667620846","1667621986","1667621000")', title='message.Message.get_content_charset&charset :: object'>charset</a></span> = <a href='#message.Message.get_content_charset&charset', id ='1667621986', onmouseover='highlight("1667622017","1667648710","1667620906","1667623694")', title='message.Message.get_content_charset&charset :: object'>charset</a>[<span class='number'>2</span>]
<span class='lineno'>768</span>         # charset character must be in us-ascii range
<span class='lineno'>769</span>         try:
<span class='lineno'>770</span>             if <a href='http://docs.python.org/library/functions.html#isinstance', id ='1667621032', onmouseover='highlight(37741720)', title='__builtin__.isinstance :: ? -> int'>isinstance</a>(<a href='#message.Message.get_content_charset&charset', id ='1667621000', onmouseover='highlight("1667622017","1667648710","1667620906","1667623694")', title='message.Message.get_content_charset&charset :: object'>charset</a>, <a href='http://docs.python.org/library/functions.html#str', id ='1667620970', onmouseover='highlight(141507136)', title='__builtin__.str :: str'>str</a>):
<span class='lineno'>771</span>                 <a name='message.Message.get_content_charset&charset', id ='1667620906', onmouseover='highlight("1667622983","1667625830","1667620068","1667647877","1667647010","1667620846","1667621986","1667621000")', title='message.Message.get_content_charset&charset :: object'>charset</a> = <a href='http://docs.python.org/library/functions.html#unicode', id ='1667620875', onmouseover='highlight(1431294356)', title='__builtin__.unicode :: ? -> ?'>unicode</a>(<a href='#message.Message.get_content_charset&charset', id ='1667620846', onmouseover='highlight("1667622017","1667648710","1667620906","1667623694")', title='message.Message.get_content_charset&charset :: object'>charset</a>, &#39;us-ascii&#39;)
<span class='lineno'>772</span>             <a name='message.Message.get_content_charset&charset', id ='1667620099', onmouseover='highlight(1667618919)', title='message.Message.get_content_charset&charset :: ?'><span class='identifier'>charset</span></a> = <a href='#message.Message.get_content_charset&charset', id ='1667620068', onmouseover='highlight("1667622017","1667648710","1667620906","1667623694")', title='message.Message.get_content_charset&charset :: object'>charset</a>.encode(&#39;us-ascii&#39;)
<span class='lineno'>773</span>         except <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1667619942', onmouseover='highlight(2016665419)', title='__builtin__.UnicodeError :: <UnicodeError>'>UnicodeError</a>:
<span class='lineno'>774</span>             return <a href='#message.Message.get_content_charset@failobj', id ='1667619825', onmouseover='highlight(1667651624)', title='message.Message.get_content_charset@failobj :: ?'>failobj</a>
<span class='lineno'>775</span>         # RFC 2046, $4.1.2 says charsets are not case sensitive
<span class='lineno'>776</span>         return <a href='#message.Message.get_content_charset&charset', id ='1667618919', onmouseover='highlight(1667620099)', title='message.Message.get_content_charset&charset :: ?'>charset</a>.lower()
<span class='lineno'>777</span> 
<span class='lineno'>778</span>     def <a name='message.Message.get_charsets', id ='1667618180', title='message.Message.get_charsets :: (Message, ?) -> [?]'><span class='function'>get_charsets</a></span>(<span class='parameter'><a name='message.Message.get_charsets@self', id ='1667618146', onmouseover='highlight(1666964601)', title='message.Message.get_charsets@self :: Message'>self</a></span>, <a name='message.Message.get_charsets@failobj', id ='1667618119', onmouseover='highlight(1666964664)', title='message.Message.get_charsets@failobj :: ?'><span class='parameter'>failobj</a></span>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1667618111', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a>):
<span class='lineno'>779</span>         <span class='doc-string'>&quot;&quot;&quot;Return a list containing the charset(s) used in this message.
<span class='lineno'>780</span> 
<span class='lineno'>781</span>         The returned list of items describes the Content-Type headers&#39;
<span class='lineno'>782</span>         charset parameter for this message and all the subparts in its
<span class='lineno'>783</span>         payload.
<span class='lineno'>784</span> 
<span class='lineno'>785</span>         Each item will either be a string (the value of the charset parameter
<span class='lineno'>786</span>         in the Content-Type header of that part) or the value of the
<span class='lineno'>787</span>         &#39;failobj&#39; parameter (defaults to None), if the part does not have a
<span class='lineno'>788</span>         main MIME type of &quot;text&quot;, or the charset is not defined.
<span class='lineno'>789</span> 
<span class='lineno'>790</span>         The list will contain one string for each part of the message, plus
<span class='lineno'>791</span>         one for the container message (i.e. self), so that a non-multipart
<span class='lineno'>792</span>         message will still return a list of length 1.
<span class='lineno'>793</span>         &quot;&quot;&quot;</span>
<span class='lineno'>794</span>         return [<a href='#message.Message.get_charsets&part', id ='1666965382', onmouseover='highlight(1666964609)', title='message.Message.get_charsets&part :: ?'>part</a>.get_content_charset(<a href='#message.Message.get_charsets@failobj', id ='1666964664', onmouseover='highlight(1667618119)', title='message.Message.get_charsets@failobj :: ?'>failobj</a>) for <a name='message.Message.get_charsets&part', id ='1666964609', onmouseover='highlight("1666965382","1666964609")', title='message.Message.get_charsets&part :: ?'><a href='#message.Message.get_charsets&part', id ='1666964609', onmouseover='highlight(1666964609)', title='message.Message.get_charsets&part :: ?'>part</a></a> in <a href='#message.Message.get_charsets@self', id ='1666964601', onmouseover='highlight(1667618146)', title='message.Message.get_charsets@self :: Message'>self</a>.walk()]
<span class='lineno'>795</span> 
<span class='lineno'>796</span>     # I.e. def walk(self): ...
<span class='lineno'>797</span>     from email.iterators import walk
</pre></td></tr></table></body></html>