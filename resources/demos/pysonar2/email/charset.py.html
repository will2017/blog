<html><head title="/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/email/charset.py"><style type='text/css'>
body { color: #666666; } 
a {text-decoration: none; color: #5A82F7}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #aaaaaa;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px dotted orange;}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted = new Array();
function highlight()
{
    // clear existing highlights
    for (var i = 0; i < highlighted.length; i++) {
        var elm = document.getElementById(highlighted[i]);
        if (elm != null) {
            elm.style.backgroundColor = 'white';
        }
    }
    highlighted = new Array();
    for (var i = 0; i < arguments.length; i++) {
        var elm = document.getElementById(arguments[i]);
        if (elm != null) {
            elm.style.backgroundColor='gold';
        }
        highlighted.push(arguments[i]);
    }
} </script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#codecs', onmouseover='highlight("codecs")'>codecs</a></li><li><a href='#charset.__all__', onmouseover='highlight("charset___all__")'><span class='identifier'>__all__</span></a></li><li><a href='#charset.QP', onmouseover='highlight("charset_QP")'><span class='identifier'>QP</span></a></li><li><a href='#charset.BASE64', onmouseover='highlight("charset_BASE64")'><span class='identifier'>BASE64</span></a></li><li><a href='#charset.SHORTEST', onmouseover='highlight("charset_SHORTEST")'><span class='identifier'>SHORTEST</span></a></li><li><a href='#charset.MISC_LEN', onmouseover='highlight("charset_MISC_LEN")'><span class='identifier'>MISC_LEN</span></a></li><li><a href='#charset.DEFAULT_CHARSET', onmouseover='highlight("charset_DEFAULT_CHARSET")'><span class='identifier'>DEFAULT_CHARSET</span></a></li><li><a href='#charset.CHARSETS', onmouseover='highlight("charset_CHARSETS")'><span class='identifier'>CHARSETS</span></a></li><li><a href='#charset.ALIASES', onmouseover='highlight("charset_ALIASES")'><span class='identifier'>ALIASES</span></a></li><li><a href='#charset.CODEC_MAP', onmouseover='highlight("charset_CODEC_MAP")'><span class='identifier'>CODEC_MAP</span></a></li><li><a href='#charset.add_charset', onmouseover='highlight("charset_add_charset")'><span class='function'>add_charset</span></a></li><li><a href='#charset.add_alias', onmouseover='highlight("charset_add_alias")'><span class='function'>add_alias</span></a></li><li><a href='#charset.add_codec', onmouseover='highlight("charset_add_codec")'><span class='function'>add_codec</span></a></li><li><a href='#charset.Charset', onmouseover='highlight("charset_Charset")'><span class='type-name'>Charset</span></a><ul>
<li><a href='#charset.Charset.__init__', onmouseover='highlight("charset_Charset___init__")'><span class='function'>__init__</span></a></li><li><a href='#charset.Charset.__str__', onmouseover='highlight("charset_Charset___str__")'><span class='function'>__str__</span></a></li><li><a href='#charset.Charset.__repr__', onmouseover='highlight("charset_Charset___repr__")'><span class='identifier'>__repr__</span></a></li><li><a href='#charset.Charset.__eq__', onmouseover='highlight("charset_Charset___eq__")'><span class='function'>__eq__</span></a></li><li><a href='#charset.Charset.__ne__', onmouseover='highlight("charset_Charset___ne__")'><span class='function'>__ne__</span></a></li><li><a href='#charset.Charset.get_body_encoding', onmouseover='highlight("charset_Charset_get_body_encoding")'><span class='function'>get_body_encoding</span></a></li><li><a href='#charset.Charset.convert', onmouseover='highlight("charset_Charset_convert")'><span class='function'>convert</span></a></li><li><a href='#charset.Charset.to_splittable', onmouseover='highlight("charset_Charset_to_splittable")'><span class='function'>to_splittable</span></a></li><li><a href='#charset.Charset.from_splittable', onmouseover='highlight("charset_Charset_from_splittable")'><span class='function'>from_splittable</span></a></li><li><a href='#charset.Charset.get_output_charset', onmouseover='highlight("charset_Charset_get_output_charset")'><span class='function'>get_output_charset</span></a></li><li><a href='#charset.Charset.encoded_header_len', onmouseover='highlight("charset_Charset_encoded_header_len")'><span class='function'>encoded_header_len</span></a></li><li><a href='#charset.Charset.header_encode', onmouseover='highlight("charset_Charset_header_encode")'><span class='function'>header_encode</span></a></li><li><a href='#charset.Charset.body_encode', onmouseover='highlight("charset_Charset_body_encode")'><span class='function'>body_encode</span></a></li></ul>
</li></ul>
</td><td><pre><span class='lineno'>1</span> # Copyr<a name='__init__.py', id ='2020317851', onmouseover='highlight("841782908","841816607","841815558","841847394","841817414","841814597","841783940","841784768","841838527","841846464","2020317851","841781891","841838776")', title='__init__.py :: email'><a href='../codecs.py.html#codecs', id ='2020317851', onmouseover='highlight("2020317851","2020317851")', title='{codecs :: codecs | __init__.py :: email}'><a name='codecs', id ='2020317851', onmouseover='highlight("1912297934","2020317851")', title='codecs :: codecs'>ight</a> </a>(<a name='base64mime', id ='1794655924', onmouseover='highlight("841838554","841781918","841783967","1794655924","314215013","841816613","841846491","1312977149","841814624")', title='base64mime :: base64mime'><a name='quoprimime', id ='1794655924', onmouseover='highlight("841815585","841782914","1312920233","841838803","841784774","1312954083","1794655924","314215013","841847421","841817420")', title='quoprimime :: quoprimime'><a href='base64mime.py.html#base64mime', id ='1794655924', onmouseover='highlight("314215013","1794655924")', title='base64mime :: base64mime'></a>C) 2001-2</a></a>0</a>06 Python Software Foundation
<span class='lineno'>2</span> # Author: Ben Gertzfield, Barry Warsaw
<span class='lineno'>3</span> # Contact: email-sig@python.org
<span class='lineno'>4</span> 
<span class='lineno'>5</span> <a name='charset.__all__', id ='200241182', title='charset.__all__ :: [str]'>__all__</a> = [
<span class='lineno'>6</span>     &#39;Charset&#39;,
<span class='lineno'>7</span>     &#39;add_alias&#39;,
<span class='lineno'>8</span>     &#39;add_charset&#39;,
<span class='lineno'>9</span>     &#39;add_codec&#39;,
<span class='lineno'>10</span>     ]
<span class='lineno'>11</span> 
<span class='lineno'>12</span> import codecs
<span class='lineno'>13</span> import email.base64mime
<span class='lineno'>14</span> import email.quoprimime
<span class='lineno'>15</span> 
<span class='lineno'>16</span> from email import errors
<span class='lineno'>17</span> from email.encoders import encode_7or8bit
<span class='lineno'>18</span> 
<span class='lineno'>19</span> 
<span class='lineno'>20</span> 
<span class='lineno'>21</span> # Flags for types of header encodings
<span class='lineno'>22</span> <a name='charset.QP', id ='200239075', onmouseover='highlight("841847329","1912510286","1912510166","1912507465","1912507313","200234484","1912506499","200234300","200235386","1912509202","200235234","1912508268","1912508399","841815493","841782822","1912510318","1912510134","1912507433","200234332","1912507281","200234452","1912509170","200235266","1912506531","841694622","1912508236","1912508367","200235418")', title='charset.QP :: int'><span class='constant'>QP</a></span>          = <span class='number'>1</span> # Quoted-Printable
<span class='lineno'>23</span> <span class='constant'><a name='charset.BASE64', id ='200238326', onmouseover='highlight("1912504642","1912503648","841814528","1912503496","1912503464","1912293972","841781150","1912481485","1912505392","1912504460","1912505544","1912505576","1912502661","841695497","841846374","1912505445")', title='charset.BASE64 :: int'>BASE64</a></span>      = <span class='number'>2</span> # Base64
<span class='lineno'>24</span> <span class='constant'><a name='charset.SHORTEST', id ='200238238', onmouseover='highlight("1912417135","841816513","841694496","1912502693","841783846","1912294003")', title='charset.SHORTEST :: int'>SHORTEST</a></span>    = <span class='number'>3</span> # the shorter of QP and base64, but only for headers
<span class='lineno'>25</span> 
<span class='lineno'>26</span> # In &quot;=?charset?q?hello_world?=&quot;, the =?, ?q?, and ?= add up to 7
<span class='lineno'>27</span> <span class='constant'><a name='charset.MISC_LEN', id ='200237157', onmouseover='highlight("841783065","841782041","841785698")', title='charset.MISC_LEN :: int'>MISC_LEN</a></span> = <span class='number'>7</span>
<span class='lineno'>28</span> 
<span class='lineno'>29</span> <span class='constant'><a name='charset.DEFAULT_CHARSET', id ='200237122', onmouseover='highlight(1912326611)', title='charset.DEFAULT_CHARSET :: str'>DEFAULT_CHARSET</span></a> = &#39;us-ascii&#39;
<span class='lineno'>30</span> 
<span class='lineno'>31</span> 
<span class='lineno'>32</span> 
<span class='lineno'>33</span> # Defaults
<span class='lineno'>34</span> <span class='constant'><a name='charset.CHARSETS', id ='200236343', onmouseover='highlight("1912416912","1912294896","1912298771")', title='charset.CHARSETS :: {str:{(?, int, str) | (?, ?, ?) | (int, int, ?) | (int, ?, str) | (int, ?, ?) | (int, int, str)}}'>CHARSETS</span></a> = {
<span class='lineno'>35</span>     # input        header enc  body enc output conv
<span class='lineno'>36</span>     &#39;iso-8859-1&#39;:  (<a href='#charset.QP', id ='200235418', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,        <a href='#charset.QP', id ='200235386', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,      <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='200235356', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a></span>),
<span class='lineno'>37</span>     &#39;iso-8859-2&#39;:  (<a href='#charset.QP', id ='200235266', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,        <a href='#charset.QP', id ='200235234', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,      <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='200235204', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'><span class='builtin'>None</a></span>),
<span class='lineno'>38</span>     &#39;iso-8859-3&#39;:  (<a href='#charset.QP', id ='200234484', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,        <a href='#charset.QP', id ='200234452', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,      <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='200234422', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</span></a>),
<span class='lineno'>39</span>     &#39;iso-8859-4&#39;:  (<a href='#charset.QP', id ='200234332', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,        <a href='#charset.QP', id ='200234300', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,      <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='200234270', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a></span>),
<span class='lineno'>40</span>     # iso-8859-5 is Cyrillic, and not especially used
<span class='lineno'>41</span>     # iso-8859-6 is Arabic, also not particularly used
<span class='lineno'>42</span>     # iso-8859-7 is Greek, QP will not make it readable
<span class='lineno'>43</span>     # iso-8859-8 is Hebrew, QP will not make it readable
<span class='lineno'>44</span>     &#39;iso-8859-9&#39;:  (<a href='#charset.QP', id ='1912510318', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,        <a href='#charset.QP', id ='1912510286', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,      <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912510256', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a></span>),
<span class='lineno'>45</span>     &#39;iso-8859-10&#39;: (<a href='#charset.QP', id ='1912510166', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,        <a href='#charset.QP', id ='1912510134', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,      <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912509453', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a></span>),
<span class='lineno'>46</span>     # iso-8859-11 is Thai, QP will not make it readable
<span class='lineno'>47</span>     &#39;iso-8859-13&#39;: (<a href='#charset.QP', id ='1912509202', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,        <a href='#charset.QP', id ='1912509170', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,      <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912508489', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a></span>),
<span class='lineno'>48</span>     &#39;iso-8859-14&#39;: (<a href='#charset.QP', id ='1912508399', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,        <a href='#charset.QP', id ='1912508367', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,      <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912508337', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'><span class='builtin'>None</span></a>),
<span class='lineno'>49</span>     &#39;iso-8859-15&#39;: (<a href='#charset.QP', id ='1912508268', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,        <a href='#charset.QP', id ='1912508236', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,      <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912508206', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a></span>),
<span class='lineno'>50</span>     &#39;iso-8859-16&#39;: (<a href='#charset.QP', id ='1912507465', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,        <a href='#charset.QP', id ='1912507433', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,      <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912507403', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'><span class='builtin'>None</span></a>),
<span class='lineno'>51</span>     &#39;windows-1252&#39;:(<a href='#charset.QP', id ='1912507313', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,        <a href='#charset.QP', id ='1912507281', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,      <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912507251', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a></span>),
<span class='lineno'>52</span>     &#39;viscii&#39;:      (<a href='#charset.QP', id ='1912506531', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,        <a href='#charset.QP', id ='1912506499', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>,      <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912506469', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'><span class='builtin'>None</a></span>),
<span class='lineno'>53</span>     &#39;us-ascii&#39;:    (<span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912506379', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a></span>,      <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912506347', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a></span>,    <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912506317', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</span></a>),
<span class='lineno'>54</span>     &#39;big5&#39;:        (<a href='#charset.BASE64', id ='1912505576', onmouseover='highlight(200238326)', title='charset.BASE64 :: int'>BASE64</a>,    <a href='#charset.BASE64', id ='1912505544', onmouseover='highlight(200238326)', title='charset.BASE64 :: int'>BASE64</a>,  <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912505514', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'><span class='builtin'>None</span></a>),
<span class='lineno'>55</span>     &#39;gb2312&#39;:      (<a href='#charset.BASE64', id ='1912505445', onmouseover='highlight(200238326)', title='charset.BASE64 :: int'>BASE64</a>,    <a href='#charset.BASE64', id ='1912505392', onmouseover='highlight(200238326)', title='charset.BASE64 :: int'>BASE64</a>,  <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912505383', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</span></a>),
<span class='lineno'>56</span>     &#39;euc-jp&#39;:      (<a href='#charset.BASE64', id ='1912504642', onmouseover='highlight(200238326)', title='charset.BASE64 :: int'>BASE64</a>,    <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912504610', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'><span class='builtin'>None</a></span>,    &#39;iso-2022-jp&#39;),
<span class='lineno'>57</span>     &#39;shift_jis&#39;:   (<a href='#charset.BASE64', id ='1912504460', onmouseover='highlight(200238326)', title='charset.BASE64 :: int'>BASE64</a>,    <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912504428', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</span></a>,    &#39;iso-2022-jp&#39;),
<span class='lineno'>58</span>     &#39;iso-2022-jp&#39;: (<a href='#charset.BASE64', id ='1912503648', onmouseover='highlight(200238326)', title='charset.BASE64 :: int'>BASE64</a>,    <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912503616', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</span></a>,    <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912503586', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a></span>),
<span class='lineno'>59</span>     &#39;koi8-r&#39;:      (<a href='#charset.BASE64', id ='1912503496', onmouseover='highlight(200238326)', title='charset.BASE64 :: int'>BASE64</a>,    <a href='#charset.BASE64', id ='1912503464', onmouseover='highlight(200238326)', title='charset.BASE64 :: int'>BASE64</a>,  <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912503434', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'><span class='builtin'>None</a></span>),
<span class='lineno'>60</span>     &#39;utf-8&#39;:       (<a href='#charset.SHORTEST', id ='1912502693', onmouseover='highlight(200238238)', title='charset.SHORTEST :: int'>SHORTEST</a>,  <a href='#charset.BASE64', id ='1912502661', onmouseover='highlight(200238326)', title='charset.BASE64 :: int'>BASE64</a>, &#39;utf-8&#39;),
<span class='lineno'>61</span>     # We&#39;re making this one up to represent raw unencoded 8-bit
<span class='lineno'>62</span>     &#39;8bit&#39;:        (<span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912481517', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a></span>,      <a href='#charset.BASE64', id ='1912481485', onmouseover='highlight(200238326)', title='charset.BASE64 :: int'>BASE64</a>, &#39;utf-8&#39;),
<span class='lineno'>63</span>     }
<span class='lineno'>64</span> 
<span class='lineno'>65</span> # Aliases for other commonly-used names for character sets.  Map
<span class='lineno'>66</span> # them to the real ones used in email.
<span class='lineno'>67</span> <span class='constant'><a name='charset.ALIASES', id ='1912480432', onmouseover='highlight("1912414182","1912271061","1912296915","1912298862")', title='charset.ALIASES :: {str:str}'>ALIASES</a></span> = {
<span class='lineno'>68</span>     &#39;latin_1&#39;: &#39;iso-8859-1&#39;,
<span class='lineno'>69</span>     &#39;latin-1&#39;: &#39;iso-8859-1&#39;,
<span class='lineno'>70</span>     &#39;latin_2&#39;: &#39;iso-8859-2&#39;,
<span class='lineno'>71</span>     &#39;latin-2&#39;: &#39;iso-8859-2&#39;,
<span class='lineno'>72</span>     &#39;latin_3&#39;: &#39;iso-8859-3&#39;,
<span class='lineno'>73</span>     &#39;latin-3&#39;: &#39;iso-8859-3&#39;,
<span class='lineno'>74</span>     &#39;latin_4&#39;: &#39;iso-8859-4&#39;,
<span class='lineno'>75</span>     &#39;latin-4&#39;: &#39;iso-8859-4&#39;,
<span class='lineno'>76</span>     &#39;latin_5&#39;: &#39;iso-8859-9&#39;,
<span class='lineno'>77</span>     &#39;latin-5&#39;: &#39;iso-8859-9&#39;,
<span class='lineno'>78</span>     &#39;latin_6&#39;: &#39;iso-8859-10&#39;,
<span class='lineno'>79</span>     &#39;latin-6&#39;: &#39;iso-8859-10&#39;,
<span class='lineno'>80</span>     &#39;latin_7&#39;: &#39;iso-8859-13&#39;,
<span class='lineno'>81</span>     &#39;latin-7&#39;: &#39;iso-8859-13&#39;,
<span class='lineno'>82</span>     &#39;latin_8&#39;: &#39;iso-8859-14&#39;,
<span class='lineno'>83</span>     &#39;latin-8&#39;: &#39;iso-8859-14&#39;,
<span class='lineno'>84</span>     &#39;latin_9&#39;: &#39;iso-8859-15&#39;,
<span class='lineno'>85</span>     &#39;latin-9&#39;: &#39;iso-8859-15&#39;,
<span class='lineno'>86</span>     &#39;latin_10&#39;:&#39;iso-8859-16&#39;,
<span class='lineno'>87</span>     &#39;latin-10&#39;:&#39;iso-8859-16&#39;,
<span class='lineno'>88</span>     &#39;cp949&#39;:   &#39;ks_c_5601-1987&#39;,
<span class='lineno'>89</span>     &#39;euc_jp&#39;:  &#39;euc-jp&#39;,
<span class='lineno'>90</span>     &#39;euc_kr&#39;:  &#39;euc-kr&#39;,
<span class='lineno'>91</span>     &#39;ascii&#39;:   &#39;us-ascii&#39;,
<span class='lineno'>92</span>     }
<span class='lineno'>93</span> 
<span class='lineno'>94</span> 
<span class='lineno'>95</span> # Map charsets to their Unicode codec strings.
<span class='lineno'>96</span> <a name='charset.CODEC_MAP', id ='1912472840', onmouseover='highlight("1912268116","1912390249","1912269163")', title='charset.CODEC_MAP :: {str:str}'><span class='constant'>CODEC_MAP</span></a> = {
<span class='lineno'>97</span>     &#39;gb2312&#39;:      &#39;eucgb2312_cn&#39;,
<span class='lineno'>98</span>     &#39;big5&#39;:        &#39;big5_tw&#39;,
<span class='lineno'>99</span>     # Hack: We don&#39;t want *any* conversion for stuff marked us-ascii, as all
<span class='lineno'>100</span>     # sorts of garbage might be sent to us in the guise of 7-bit us-ascii.
<span class='lineno'>101</span>     # Let that stuff pass through without conversion to/from Unicode.
<span class='lineno'>102</span>     &#39;us-ascii&#39;:    <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912449714', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</span></a>,
<span class='lineno'>103</span>     }
<span class='lineno'>104</span> 
<span class='lineno'>105</span> 
<span class='lineno'>106</span> 
<span class='lineno'>107</span> # Convenience functions for extending the above mappings
<span class='lineno'>108</span> def <span class='function'><a name='charset.add_charset', id ='1912448839', title='charset.add_charset :: (?, ?, ?, ?) -> None'>add_charset</a></span>(<a name='charset.add_charset@charset', id ='1912448785', onmouseover='highlight(1912416231)', title='charset.add_charset@charset :: ?'><span class='parameter'>charset</span></a>, <a name='charset.add_charset@header_enc', id ='1912448755', onmouseover='highlight(1912416198)', title='charset.add_charset@header_enc :: ?'><span class='parameter'>header_enc</span></a>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912448723', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a>, <span class='parameter'><a name='charset.add_charset@body_enc', id ='1912448717', onmouseover='highlight("1912416165","1912417189")', title='charset.add_charset@body_enc :: ?'>body_enc</a></span>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912448687', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a>, <a name='charset.add_charset@output_charset', id ='1912448660', onmouseover='highlight(1912416134)', title='charset.add_charset@output_charset :: ?'><span class='parameter'>output_charset</span></a>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912448624', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a>):
<span class='lineno'>109</span>     <span class='doc-string'>&quot;&quot;&quot;Add character set properties to the global registry.
<span class='lineno'>110</span> 
<span class='lineno'>111</span>     charset is the input character set, and must be the canonical name of a
<span class='lineno'>112</span>     character set.
<span class='lineno'>113</span> 
<span class='lineno'>114</span>     Optional header_enc and body_enc is either Charset.QP for
<span class='lineno'>115</span>     quoted-printable, Charset.BASE64 for base64 encoding, Charset.SHORTEST for
<span class='lineno'>116</span>     the shortest of qp or base64 encoding, or None for no encoding.  SHORTEST
<span class='lineno'>117</span>     is only valid for header_enc.  It describes how message headers and
<span class='lineno'>118</span>     message bodies in the input charset are to be encoded.  Default is no
<span class='lineno'>119</span>     encoding.
<span class='lineno'>120</span> 
<span class='lineno'>121</span>     Optional output_charset is the character set that the output should be
<span class='lineno'>122</span>     in.  Conversions will proceed from input charset, to Unicode, to the
<span class='lineno'>123</span>     output charset when the method Charset.convert() is called.  The default
<span class='lineno'>124</span>     is to output in the same character set as the input.
<span class='lineno'>125</span> 
<span class='lineno'>126</span>     Both input_charset and output_charset must have Unicode codec entries in
<span class='lineno'>127</span>     the module&#39;s charset-to-codec mapping; use add_codec(charset, codecname)
<span class='lineno'>128</span>     to add codecs the module does not know about.  See the codecs module&#39;s
<span class='lineno'>129</span>     documentation for more information.
<span class='lineno'>130</span>     &quot;&quot;&quot;</span>
<span class='lineno'>131</span>     if <a href='#charset.add_charset@body_enc', id ='1912417189', onmouseover='highlight(1912448717)', title='charset.add_charset@body_enc :: ?'>body_enc</a> == <a href='#charset.SHORTEST', id ='1912417135', onmouseover='highlight(200238238)', title='charset.SHORTEST :: int'>SHORTEST</a>:
<span class='lineno'>132</span>         raise <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912417069', onmouseover='highlight(2016665419)', title='__builtin__.ValueError :: <ValueError>'>ValueError</a>(&#39;SHORTEST not allowed for body_enc&#39;)
<span class='lineno'>133</span>     <a href='#charset.CHARSETS', id ='1912416912', onmouseover='highlight(200236343)', title='charset.CHARSETS :: {str:{(?, int, str) | (?, ?, ?) | (int, int, ?) | (int, ?, str) | (int, ?, ?) | (int, int, str)}}'>CHARSETS</a>[<a href='#charset.add_charset@charset', id ='1912416231', onmouseover='highlight(1912448785)', title='charset.add_charset@charset :: ?'>charset</a>] = (<a href='#charset.add_charset@header_enc', id ='1912416198', onmouseover='highlight(1912448755)', title='charset.add_charset@header_enc :: ?'>header_enc</a>, <a href='#charset.add_charset@body_enc', id ='1912416165', onmouseover='highlight(1912448717)', title='charset.add_charset@body_enc :: ?'>body_enc</a>, <a href='#charset.add_charset@output_charset', id ='1912416134', onmouseover='highlight(1912448660)', title='charset.add_charset@output_charset :: ?'>output_charset</a>)
<span class='lineno'>134</span> 
<span class='lineno'>135</span> 
<span class='lineno'>136</span> def <span class='function'><a name='charset.add_alias', id ='1912416049', title='charset.add_alias :: (?, ?) -> None'>add_alias</span></a>(<a name='charset.add_alias@alias', id ='1912416018', onmouseover='highlight(1912414153)', title='charset.add_alias@alias :: ?'><span class='parameter'>alias</a></span>, <span class='parameter'><a name='charset.add_alias@canonical', id ='1912416011', onmouseover='highlight(1912414123)', title='charset.add_alias@canonical :: ?'>canonical</span></a>):
<span class='lineno'>137</span>     <span class='doc-string'>&quot;&quot;&quot;Add a character set alias.
<span class='lineno'>138</span> 
<span class='lineno'>139</span>     alias is the alias name, e.g. latin-1
<span class='lineno'>140</span>     canonical is the character set&#39;s canonical name, e.g. iso-8859-1
<span class='lineno'>141</span>     &quot;&quot;&quot;</span>
<span class='lineno'>142</span>     <a href='#charset.ALIASES', id ='1912414182', onmouseover='highlight(1912480432)', title='charset.ALIASES :: {str:str}'>ALIASES</a>[<a href='#charset.add_alias@alias', id ='1912414153', onmouseover='highlight(1912416018)', title='charset.add_alias@alias :: ?'>alias</a>] = <a href='#charset.add_alias@canonical', id ='1912414123', onmouseover='highlight(1912416011)', title='charset.add_alias@canonical :: ?'>canonical</a>
<span class='lineno'>143</span> 
<span class='lineno'>144</span> 
<span class='lineno'>145</span> def <span class='function'><a name='charset.add_codec', id ='1912414065', title='charset.add_codec :: (?, ?) -> None'>add_codec</a></span>(<a name='charset.add_codec@charset', id ='1912414034', onmouseover='highlight(1912390218)', title='charset.add_codec@charset :: ?'><span class='parameter'>charset</span></a>, <a name='charset.add_codec@codecname', id ='1912413353', onmouseover='highlight(1912390165)', title='charset.add_codec@codecname :: ?'><span class='parameter'>codecname</span></a>):
<span class='lineno'>146</span>     <span class='doc-string'>&quot;&quot;&quot;Add a codec that map characters in the given charset to/from Unicode.
<span class='lineno'>147</span> 
<span class='lineno'>148</span>     charset is the canonical name of a character set.  codecname is the name
<span class='lineno'>149</span>     of a Python codec, as appropriate for the second argument to the unicode()
<span class='lineno'>150</span>     built-in, or to the encode() method of a Unicode string.
<span class='lineno'>151</span>     &quot;&quot;&quot;</span>
<span class='lineno'>152</span>     <a href='#charset.CODEC_MAP', id ='1912390249', onmouseover='highlight(1912472840)', title='charset.CODEC_MAP :: {str:str}'>CODEC_MAP</a>[<a href='#charset.add_codec@charset', id ='1912390218', onmouseover='highlight(1912414034)', title='charset.add_codec@charset :: ?'>charset</a>] = <a href='#charset.add_codec@codecname', id ='1912390165', onmouseover='highlight(1912413353)', title='charset.add_codec@codecname :: ?'>codecname</a>
<span class='lineno'>153</span> 
<span class='lineno'>154</span> 
<span class='lineno'>155</span> 
<span class='lineno'>156</span> class <a name='charset.Charset', id ='1912390103', onmouseover='highlight("1716183339","1716183531")', title='charset.Charset :: <Charset>'><span class='type-name'>Charset</a></span>:
<span class='lineno'>157</span>     <span class='doc-string'>&quot;&quot;&quot;Map character sets to their email properties.
<span class='lineno'>158</span> 
<span class='lineno'>159</span>     This class provides information about the requirements imposed on email
<span class='lineno'>160</span>     for a specific character set.  It also provides convenience routines for
<span class='lineno'>161</span>     converting between character sets, given the availability of the
<span class='lineno'>162</span>     applicable codecs.  Given a character set, it will do its best to provide
<span class='lineno'>163</span>     information on how to use that character set in an email in an
<span class='lineno'>164</span>     RFC-compliant way.
<span class='lineno'>165</span> 
<span class='lineno'>166</span>     Certain character sets must be encoded with quoted-printable or base64
<span class='lineno'>167</span>     when used in email headers or bodies.  Certain character sets must be
<span class='lineno'>168</span>     converted outright, and are not allowed in email.  Instances of this
<span class='lineno'>169</span>     module expose the following information about a character set:
<span class='lineno'>170</span> 
<span class='lineno'>171</span>     input_charset: The initial character set specified.  Common aliases
<span class='lineno'>172</span>                    are converted to their `official&#39; email names (e.g. latin_1
<span class='lineno'>173</span>                    is converted to iso-8859-1).  Defaults to 7-bit us-ascii.
<span class='lineno'>174</span> 
<span class='lineno'>175</span>     header_encoding: If the character set must be encoded before it can be
<span class='lineno'>176</span>                      used in an email header, this attribute will be set to
<span class='lineno'>177</span>                      Charset.QP (for quoted-printable), Charset.BASE64 (for
<span class='lineno'>178</span>                      base64 encoding), or Charset.SHORTEST for the shortest of
<span class='lineno'>179</span>                      QP or BASE64 encoding.  Otherwise, it will be None.
<span class='lineno'>180</span> 
<span class='lineno'>181</span>     body_encoding: Same as header_encoding, but describes the encoding for the
<span class='lineno'>182</span>                    mail message&#39;s body, which indeed may be different than the
<span class='lineno'>183</span>                    header encoding.  Charset.SHORTEST is not allowed for
<span class='lineno'>184</span>                    body_encoding.
<span class='lineno'>185</span> 
<span class='lineno'>186</span>     output_charset: Some character sets must be converted before the can be
<span class='lineno'>187</span>                     used in email headers or bodies.  If the input_charset is
<span class='lineno'>188</span>                     one of them, this attribute will contain the name of the
<span class='lineno'>189</span>                     charset output will be converted to.  Otherwise, it will
<span class='lineno'>190</span>                     be None.
<span class='lineno'>191</span> 
<span class='lineno'>192</span>     input_codec: The name of the Python codec used to convert the
<span class='lineno'>193</span>                  input_charset to Unicode.  If no conversion codec is
<span class='lineno'>194</span>                  necessary, this attribute will be None.
<span class='lineno'>195</span> 
<span class='lineno'>196</span>     output_codec: The name of the Python codec used to convert Unicode
<span class='lineno'>197</span>                   to the output_charset.  If no conversion codec is necessary,
<span class='lineno'>198</span>                   this attribute will have the same value as the input_codec.
<span class='lineno'>199</span>     &quot;&quot;&quot;</span>
<span class='lineno'>200</span>     def <a name='charset.Charset.__init__', id ='1912326703', title='charset.Charset.__init__ :: (Charset, str) -> None'><span class='function'>__init__</span></a>(<a name='charset.Charset.__init__@self', id ='1912326673', onmouseover='highlight("1912267241","1912296978","1912271993","1912271125","1912272980","1912268920","1912294862","1912268178","1912269107","1912271894","1912269203","1912268081")', title='charset.Charset.__init__@self :: Charset'><span class='parameter'>self</a></span>, <a name='charset.Charset.__init__@input_charset', id ='1912326646', title='charset.Charset.__init__@input_charset :: str'><a name='charset.Charset.__init__@input_charset', id ='1912326646', onmouseover='highlight("1912302614","1912300755","1912300632","1912301686","1912302739")', title='charset.Charset.__init__@input_charset :: str'><a name='charset.Charset.__init__@input_charset', id ='1912326646', onmouseover='highlight("1912296846","1912297878","1912302614","1912300632","1912300755","1912298830","1912296882","1912302739","1912301686","1912298900")', title='charset.Charset.__init__@input_charset :: ?'><span class='parameter'>input_charset</a></a></a></span>=<a href='#charset.DEFAULT_CHARSET', id ='1912326611', onmouseover='highlight(200237122)', title='charset.DEFAULT_CHARSET :: str'>DEFAULT_CHARSET</a>):
<span class='lineno'>201</span>         # RFC 2046, $4.1.2 says charsets are not case sensitive.  We coerce to
<span class='lineno'>202</span>         # unicode because its .lower() is locale insensitive.  If the argument
<span class='lineno'>203</span>         # is already a unicode, we leave it at that, but ensure that the
<span class='lineno'>204</span>         # charset is ASCII, as the standard (RFC XXX) requires.
<span class='lineno'>205</span>         try:
<span class='lineno'>206</span>             if <a href='http://docs.python.org/library/functions.html#isinstance', id ='1912302771', onmouseover='highlight(37741720)', title='__builtin__.isinstance :: ? -> int'>isinstance</a>(<a href='#charset.Charset.__init__@input_charset', id ='1912302739', onmouseover='highlight("1912297971","1912301752","1912300690","1912326646","1912301752","1912326646")', title='{charset.Charset.__init__@input_charset :: ? | charset.Charset.__init__@input_charset :: str}'>input_charset</a>, <a href='http://docs.python.org/library/functions.html#unicode', id ='1912302682', onmouseover='highlight(1431294356)', title='__builtin__.unicode :: ? -> ?'>unicode</a>):
<span class='lineno'>207</span>                 <a href='#charset.Charset.__init__@input_charset', id ='1912302614', onmouseover='highlight("1912297971","1912301752","1912300690","1912326646","1912301752","1912326646")', title='{charset.Charset.__init__@input_charset :: ? | charset.Charset.__init__@input_charset :: str}'>input_charset</a>.<a href='http://docs.python.org/library/stdtypes.html#str.encode', id ='1912302558', onmouseover='highlight(288160569)', title='__builtin__.str.encode :: ? -> str'>encode</a>(&#39;ascii&#39;)
<span class='lineno'>208</span>             else:
<span class='lineno'>209</span>                 <a name='charset.Charset.__init__@input_charset', id ='1912301752', onmouseover='highlight("1912302614","1912300755","1912300632","1912301686","1912302739")', title='charset.Charset.__init__@input_charset :: str'><a name='charset.Charset.__init__@input_charset', id ='1912301752', onmouseover='highlight("1912296846","1912297878","1912302614","1912300632","1912300755","1912298830","1912296882","1912302739","1912301686","1912298900")', title='charset.Charset.__init__@input_charset :: ?'><span class='parameter'>input_charset</span></a></a> = <a href='http://docs.python.org/library/functions.html#unicode', id ='1912301715', onmouseover='highlight(1431294356)', title='__builtin__.unicode :: ? -> ?'>unicode</a>(<a href='#charset.Charset.__init__@input_charset', id ='1912301686', onmouseover='highlight("1912297971","1912301752","1912300690","1912326646","1912301752","1912326646")', title='{charset.Charset.__init__@input_charset :: ? | charset.Charset.__init__@input_charset :: str}'>input_charset</a>, &#39;ascii&#39;)
<span class='lineno'>210</span>         except <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912300912', onmouseover='highlight(2016665419)', title='__builtin__.UnicodeError :: <UnicodeError>'>UnicodeError</a>:
<span class='lineno'>211</span>             raise errors.CharsetError(<a href='#charset.Charset.__init__@input_charset', id ='1912300755', onmouseover='highlight("1912297971","1912301752","1912300690","1912326646","1912301752","1912326646")', title='{charset.Charset.__init__@input_charset :: ? | charset.Charset.__init__@input_charset :: str}'>input_charset</a>)
<span class='lineno'>212</span>         <a name='charset.Charset.__init__@input_charset', id ='1912300690', onmouseover='highlight("1912296846","1912297878","1912302614","1912300632","1912300755","1912298830","1912296882","1912302739","1912301686","1912298900")', title='charset.Charset.__init__@input_charset :: ?'><a name='charset.Charset.__init__&input_charset', id ='1912300690', onmouseover='highlight("1912296846","1912297878","1912298830","1912296882","1912298900")', title='charset.Charset.__init__&input_charset :: ?'>input_charset</a></a> = <a href='#charset.Charset.__init__@input_charset', id ='1912300632', onmouseover='highlight("1912297971","1912301752","1912300690","1912326646","1912301752","1912326646")', title='{charset.Charset.__init__@input_charset :: ? | charset.Charset.__init__@input_charset :: str}'>input_charset</a>.<a href='http://docs.python.org/library/stdtypes.html#str.lower', id ='1912299946', onmouseover='highlight(400228296)', title='__builtin__.str.lower :: ? -> str'>lower</a>().encode(&#39;ascii&#39;)
<span class='lineno'>213</span>         # Set the input charset after filtering through the aliases and/or codecs
<span class='lineno'>214</span>         if not (<a href='#charset.Charset.__init__@input_charset', id ='1912298900', onmouseover='highlight("1912297971","1912301752","1912300690","1912326646","1912297971","1912300690")', title='{charset.Charset.__init__@input_charset :: ? | charset.Charset.__init__&input_charset :: ?}'>input_charset</a> in <a href='#charset.ALIASES', id ='1912298862', onmouseover='highlight(1912480432)', title='charset.ALIASES :: {str:str}'>ALIASES</a> or <a href='#charset.Charset.__init__@input_charset', id ='1912298830', onmouseover='highlight("1912297971","1912301752","1912300690","1912326646","1912297971","1912300690")', title='{charset.Charset.__init__@input_charset :: ? | charset.Charset.__init__&input_charset :: ?}'>input_charset</a> in <a href='#charset.CHARSETS', id ='1912298771', onmouseover='highlight(200236343)', title='charset.CHARSETS :: {str:{(?, int, str) | (?, ?, ?) | (int, int, ?) | (int, ?, str) | (int, ?, ?) | (int, int, str)}}'>CHARSETS</a>):
<span class='lineno'>215</span>             try:
<span class='lineno'>216</span>                 <span class='parameter'><span class='identifier'><a name='charset.Charset.__init__&input_charset', id ='1912297971', onmouseover='highlight("1912296846","1912297878","1912298830","1912296882","1912298900")', title='charset.Charset.__init__&input_charset :: ?'><a name='charset.Charset.__init__@input_charset', id ='1912297971', onmouseover='highlight("1912296846","1912297878","1912302614","1912300632","1912300755","1912298830","1912296882","1912302739","1912301686","1912298900")', title='charset.Charset.__init__@input_charset :: ?'>input_charset</a></span></a></span> = <a href='../codecs.py.html#codecs', id ='1912297934', onmouseover='highlight(2020317851)', title='codecs :: codecs'>codecs</a>.lookup(<a href='#charset.Charset.__init__@input_charset', id ='1912297878', onmouseover='highlight("1912297971","1912301752","1912300690","1912326646","1912297971","1912300690")', title='{charset.Charset.__init__@input_charset :: ? | charset.Charset.__init__&input_charset :: ?}'>input_charset</a>).name
<span class='lineno'>217</span>             except <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912297776', onmouseover='highlight(2016665419)', title='__builtin__.LookupError :: <LookupError>'>LookupError</a>:
<span class='lineno'>218</span>                 pass
<span class='lineno'>219</span>         <a href='#charset.Charset.__init__@self', id ='1912296978', onmouseover='highlight(1912326673)', title='charset.Charset.__init__@self :: Charset'>self</a>.<a name='charset.Charset.input_charset', id ='1912296973', onmouseover='highlight("1912268915","1912269102","841779104","1912294185","1912272954")', title='charset.Charset.input_charset :: ?'>input_charset</a> = <a href='#charset.ALIASES', id ='1912296915', onmouseover='highlight(1912480432)', title='charset.ALIASES :: {str:str}'>ALIASES</a>.<a href='http://docs.python.org/tutorial/datastructures.html#dictionaries', id ='1912296886', onmouseover='highlight(1629002017)', title='__builtin__.dict.get :: '>get</a>(<a href='#charset.Charset.__init__@input_charset', id ='1912296882', onmouseover='highlight("1912297971","1912301752","1912300690","1912326646")', title='charset.Charset.__init__@input_charset :: ?'>input_charset</a>, <a href='#charset.Charset.__init__@input_charset', id ='1912296846', onmouseover='highlight("1912297971","1912301752","1912300690","1912326646")', title='charset.Charset.__init__@input_charset :: ?'>input_charset</a>)
<span class='lineno'>220</span>         # We can try to guess which encoding and conversion to use by the
<span class='lineno'>221</span>         # charset_map dictionary.  Try that first, but let the user override
<span class='lineno'>222</span>         # it.
<span class='lineno'>223</span>         <span class='identifier'><a name='charset.Charset.__init__&henc', id ='1912294957', onmouseover='highlight(1912271928)', title='charset.Charset.__init__&henc :: ?'>henc</span></a>, <a name='charset.Charset.__init__&benc', id ='1912294930', onmouseover='highlight(1912271831)', title='charset.Charset.__init__&benc :: ?'><span class='identifier'>benc</span></a>, <a name='charset.Charset.__init__&conv', id ='1912294924', onmouseover='highlight("1912271028","1912271001","1912273047")', title='charset.Charset.__init__&conv :: ?'><a name='charset.Charset.__init__&conv', id ='1912294924', onmouseover='highlight("1912271028","1912271001","1912273047")', title='charset.Charset.__init__&conv :: ?'>conv</a></a> = <a href='#charset.CHARSETS', id ='1912294896', onmouseover='highlight(200236343)', title='charset.CHARSETS :: {str:{(?, int, str) | (?, ?, ?) | (int, int, ?) | (int, ?, str) | (int, ?, ?) | (int, int, str)}}'>CHARSETS</a>.<a href='http://docs.python.org/tutorial/datastructures.html#dictionaries', id ='1912294866', onmouseover='highlight(1629002017)', title='__builtin__.dict.get :: '>get</a>(<a href='#charset.Charset.__init__@self', id ='1912294862', onmouseover='highlight(1912326673)', title='charset.Charset.__init__@self :: Charset'>self</a>.<a href='#charset.Charset.input_charset', id ='1912294185', onmouseover='highlight(1912296973)', title='charset.Charset.input_charset :: ?'>input_charset</a>,
<span class='lineno'>224</span>                                         (<a href='#charset.SHORTEST', id ='1912294003', onmouseover='highlight(200238238)', title='charset.SHORTEST :: int'>SHORTEST</a>, <a href='#charset.BASE64', id ='1912293972', onmouseover='highlight(200238326)', title='charset.BASE64 :: int'>BASE64</a>, <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='1912293964', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'><span class='builtin'>None</span></a>))
<span class='lineno'>225</span>         if not <a href='#charset.Charset.__init__&conv', id ='1912273047', onmouseover='highlight("1912273008","1912294924","1912273008","1912294924")', title='{charset.Charset.__init__&conv :: ? | charset.Charset.__init__&conv :: ?}'>conv</a>:
<span class='lineno'>226</span>             <span class='identifier'><a name='charset.Charset.__init__&conv', id ='1912273008', onmouseover='highlight("1912271028","1912271001","1912273047")', title='charset.Charset.__init__&conv :: ?'><a name='charset.Charset.__init__&conv', id ='1912273008', onmouseover='highlight("1912271028","1912271001","1912273047")', title='charset.Charset.__init__&conv :: ?'><span class='identifier'>conv</a></span></span></a> = <a href='#charset.Charset.__init__@self', id ='1912272980', onmouseover='highlight(1912326673)', title='charset.Charset.__init__@self :: Charset'>self</a>.<a href='#charset.Charset.input_charset', id ='1912272954', onmouseover='highlight(1912296973)', title='charset.Charset.input_charset :: ?'>input_charset</a>
<span class='lineno'>227</span>         # Set the attributes, allowing the arguments to override the default.
<span class='lineno'>228</span>         <a href='#charset.Charset.__init__@self', id ='1912271993', onmouseover='highlight(1912326673)', title='charset.Charset.__init__@self :: Charset'>self</a>.<a name='charset.Charset.header_encoding', id ='1912271988', title='charset.Charset.header_encoding :: ?'>header_encoding</a> = <a href='#charset.Charset.__init__&henc', id ='1912271928', onmouseover='highlight(1912294957)', title='charset.Charset.__init__&henc :: ?'>henc</a>
<span class='lineno'>229</span>         <a href='#charset.Charset.__init__@self', id ='1912271894', onmouseover='highlight(1912326673)', title='charset.Charset.__init__@self :: Charset'>self</a>.<a name='charset.Charset.body_encoding', id ='1912271868', onmouseover='highlight("841695459","841694437","841847270","841694563","841846336")', title='charset.Charset.body_encoding :: ?'>body_encoding</a> = <a href='#charset.Charset.__init__&benc', id ='1912271831', onmouseover='highlight(1912294930)', title='charset.Charset.__init__&benc :: ?'>benc</a>
<span class='lineno'>230</span>         <a href='#charset.Charset.__init__@self', id ='1912271125', onmouseover='highlight(1912326673)', title='charset.Charset.__init__@self :: Charset'>self</a>.<a name='charset.Charset.output_charset', id ='1912271120', onmouseover='highlight("1912268055","841779039","1912267215","1716156654")', title='charset.Charset.output_charset :: ?'>output_charset</a> = <a href='#charset.ALIASES', id ='1912271061', onmouseover='highlight(1912480432)', title='charset.ALIASES :: {str:str}'>ALIASES</a>.<a href='http://docs.python.org/tutorial/datastructures.html#dictionaries', id ='1912271032', onmouseover='highlight(1629002017)', title='__builtin__.dict.get :: '>get</a>(<a href='#charset.Charset.__init__&conv', id ='1912271028', onmouseover='highlight("1912273008","1912294924")', title='charset.Charset.__init__&conv :: ?'>conv</a>, <a href='#charset.Charset.__init__&conv', id ='1912271001', onmouseover='highlight("1912273008","1912294924")', title='charset.Charset.__init__&conv :: ?'>conv</a>)
<span class='lineno'>231</span>         # Now set the codecs.  If one isn&#39;t defined for input_charset,
<span class='lineno'>232</span>         # guess and try a Unicode codec with the same name as input_codec.
<span class='lineno'>233</span>         <a href='#charset.Charset.__init__@self', id ='1912269203', onmouseover='highlight(1912326673)', title='charset.Charset.__init__@self :: Charset'>self</a>.<a name='charset.Charset.input_codec', id ='1912269198', onmouseover='highlight("841697419","841698286")', title='charset.Charset.input_codec :: ?'>input_codec</a> = <a href='#charset.CODEC_MAP', id ='1912269163', onmouseover='highlight(1912472840)', title='charset.CODEC_MAP :: {str:str}'>CODEC_MAP</a>.<a href='http://docs.python.org/tutorial/datastructures.html#dictionaries', id ='1912269132', onmouseover='highlight(1629002017)', title='__builtin__.dict.get :: '>get</a>(<a href='#charset.Charset.__init__@self', id ='1912269107', onmouseover='highlight(1912326673)', title='charset.Charset.__init__@self :: Charset'>self</a>.<a href='#charset.Charset.input_charset', id ='1912269102', onmouseover='highlight(1912296973)', title='charset.Charset.input_charset :: ?'>input_charset</a>,
<span class='lineno'>234</span>                                          <a href='#charset.Charset.__init__@self', id ='1912268920', onmouseover='highlight(1912326673)', title='charset.Charset.__init__@self :: Charset'>self</a>.<a href='#charset.Charset.input_charset', id ='1912268915', onmouseover='highlight(1912296973)', title='charset.Charset.input_charset :: ?'>input_charset</a>)
<span class='lineno'>235</span>         <a href='#charset.Charset.__init__@self', id ='1912268178', onmouseover='highlight(1912326673)', title='charset.Charset.__init__@self :: Charset'>self</a>.<a name='charset.Charset.output_codec', id ='1912268173', onmouseover='highlight("841698374","841697481")', title='charset.Charset.output_codec :: ?'>output_codec</a> = <a href='#charset.CODEC_MAP', id ='1912268116', onmouseover='highlight(1912472840)', title='charset.CODEC_MAP :: {str:str}'>CODEC_MAP</a>.<a href='http://docs.python.org/tutorial/datastructures.html#dictionaries', id ='1912268085', onmouseover='highlight(1629002017)', title='__builtin__.dict.get :: '>get</a>(<a href='#charset.Charset.__init__@self', id ='1912268081', onmouseover='highlight(1912326673)', title='charset.Charset.__init__@self :: Charset'>self</a>.<a href='#charset.Charset.output_charset', id ='1912268055', onmouseover='highlight(1912271120)', title='charset.Charset.output_charset :: ?'>output_charset</a>,
<span class='lineno'>236</span>                                           <a href='#charset.Charset.__init__@self', id ='1912267241', onmouseover='highlight(1912326673)', title='charset.Charset.__init__@self :: Charset'>self</a>.<a href='#charset.Charset.output_charset', id ='1912267215', onmouseover='highlight(1912271120)', title='charset.Charset.output_charset :: ?'>output_charset</a>)
<span class='lineno'>237</span> 
<span class='lineno'>238</span>     def <span class='function'><a name='charset.Charset.__str__', id ='1912267148', onmouseover='highlight(1912266256)', title='charset.Charset.__str__ :: Charset -> ?'>__str__</span></a>(<a name='charset.Charset.__str__@self', id ='1912267119', onmouseover='highlight(1912267055)', title='charset.Charset.__str__@self :: Charset'><span class='parameter'>self</span></a>):
<span class='lineno'>239</span>         return <a href='#charset.Charset.__str__@self', id ='1912267055', onmouseover='highlight(1912267119)', title='charset.Charset.__str__@self :: Charset'>self</a>.<a href='#charset.Charset.input_charset', id ='1912267029', onmouseover='highlight(1912296973)', title='charset.Charset.input_charset :: ?'>input_charset</a>.lower()
<span class='lineno'>240</span> 
<span class='lineno'>241</span>     <a name='charset.Charset.__repr__', id ='1912266288', title='charset.Charset.__repr__ :: Charset -> ?'>__repr__</a> = <a href='#charset.Charset.__str__', id ='1912266256', onmouseover='highlight(1912267148)', title='charset.Charset.__str__ :: Charset -> ?'>__str__</a>
<span class='lineno'>242</span> 
<span class='lineno'>243</span>     def <a name='charset.Charset.__eq__', id ='1912266218', onmouseover='highlight(1912265172)', title='charset.Charset.__eq__ :: (Charset, ?) -> int'><span class='function'>__eq__</span></a>(<a name='charset.Charset.__eq__@self', id ='1912266190', onmouseover='highlight(1912266094)', title='charset.Charset.__eq__@self :: Charset'><span class='parameter'>self</span></a>, <span class='parameter'><a name='charset.Charset.__eq__@other', id ='1912266163', onmouseover='highlight(1912266039)', title='charset.Charset.__eq__@other :: ?'>other</a></span>):
<span class='lineno'>244</span>         return <a href='http://docs.python.org/library/functions.html#str', id ='1912266098', onmouseover='highlight(141507136)', title='__builtin__.str :: str'>str</a>(<a href='#charset.Charset.__eq__@self', id ='1912266094', onmouseover='highlight(1912266190)', title='charset.Charset.__eq__@self :: Charset'>self</a>) == <a href='http://docs.python.org/library/functions.html#str', id ='1912266064', onmouseover='highlight(141507136)', title='__builtin__.str :: str'>str</a>(<a href='#charset.Charset.__eq__@other', id ='1912266039', onmouseover='highlight(1912266163)', title='charset.Charset.__eq__@other :: ?'>other</a>).lower()
<span class='lineno'>245</span> 
<span class='lineno'>246</span>     def <a name='charset.Charset.__ne__', id ='1912265322', title='charset.Charset.__ne__ :: (Charset, ?) -> int'><span class='function'>__ne__</a></span>(<a name='charset.Charset.__ne__@self', id ='1912265294', onmouseover='highlight(1912265198)', title='charset.Charset.__ne__@self :: Charset'><span class='parameter'>self</span></a>, <span class='parameter'><a name='charset.Charset.__ne__@other', id ='1912265288', onmouseover='highlight(1912265165)', title='charset.Charset.__ne__@other :: ?'>other</span></a>):
<span class='lineno'>247</span>         return not <a href='#charset.Charset.__ne__@self', id ='1912265198', onmouseover='highlight(1912265294)', title='charset.Charset.__ne__@self :: Charset'>self</a>.<a href='#charset.Charset.__eq__', id ='1912265172', onmouseover='highlight(1912266218)', title='charset.Charset.__eq__ :: (Charset, ?) -> int'>__eq__</a>(<a href='#charset.Charset.__ne__@other', id ='1912265165', onmouseover='highlight(1912265288)', title='charset.Charset.__ne__@other :: ?'>other</a>)
<span class='lineno'>248</span> 
<span class='lineno'>249</span>     def <span class='function'><a name='charset.Charset.get_body_encoding', id ='1912265107', onmouseover='highlight(1716154697)', title='charset.Charset.get_body_encoding :: Charset -> str'>get_body_encoding</span></a>(<span class='parameter'><a name='charset.Charset.get_body_encoding@self', id ='1912264396', onmouseover='highlight("841695433","841694411","841694558")', title='charset.Charset.get_body_encoding@self :: Charset'>self</span></a>):
<span class='lineno'>250</span>         <span class='doc-string'>&quot;&quot;&quot;Return the content-transfer-encoding used for body encoding.
<span class='lineno'>251</span> 
<span class='lineno'>252</span>         This is either the string `quoted-printable&#39; or `base64&#39; depending on
<span class='lineno'>253</span>         the encoding used, or it is a function in which case you should call
<span class='lineno'>254</span>         the function with a single argument, the Message object being
<span class='lineno'>255</span>         encoded.  The function should then set the Content-Transfer-Encoding
<span class='lineno'>256</span>         header itself to whatever is appropriate.
<span class='lineno'>257</span> 
<span class='lineno'>258</span>         Returns &quot;quoted-printable&quot; if self.body_encoding is QP.
<span class='lineno'>259</span>         Returns &quot;base64&quot; if self.body_encoding is BASE64.
<span class='lineno'>260</span>         Returns &quot;7bit&quot; otherwise.
<span class='lineno'>261</span>         &quot;&quot;&quot;</span>
<span class='lineno'>262</span>         assert <a href='#charset.Charset.get_body_encoding@self', id ='841694411', onmouseover='highlight(1912264396)', title='charset.Charset.get_body_encoding@self :: Charset'>self</a>.<a href='#charset.Charset.body_encoding', id ='841694437', onmouseover='highlight(1912271868)', title='charset.Charset.body_encoding :: ?'>body_encoding</a> != <a href='#charset.SHORTEST', id ='841694496', onmouseover='highlight(200238238)', title='charset.SHORTEST :: int'>SHORTEST</a>
<span class='lineno'>263</span>         if <a href='#charset.Charset.get_body_encoding@self', id ='841694558', onmouseover='highlight(1912264396)', title='charset.Charset.get_body_encoding@self :: Charset'>self</a>.<a href='#charset.Charset.body_encoding', id ='841694563', onmouseover='highlight(1912271868)', title='charset.Charset.body_encoding :: ?'>body_encoding</a> == <a href='#charset.QP', id ='841694622', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>:
<span class='lineno'>264</span>             return &#39;quoted-printable&#39;
<span class='lineno'>265</span>         elif <a href='#charset.Charset.get_body_encoding@self', id ='841695433', onmouseover='highlight(1912264396)', title='charset.Charset.get_body_encoding@self :: Charset'>self</a>.<a href='#charset.Charset.body_encoding', id ='841695459', onmouseover='highlight(1912271868)', title='charset.Charset.body_encoding :: ?'>body_encoding</a> == <a href='#charset.BASE64', id ='841695497', onmouseover='highlight(200238326)', title='charset.BASE64 :: int'>BASE64</a>:
<span class='lineno'>266</span>             return &#39;base64&#39;
<span class='lineno'>267</span>         else:
<span class='lineno'>268</span>             return encode_7or8bit
<span class='lineno'>269</span> 
<span class='lineno'>270</span>     def <a name='charset.Charset.convert', id ='841696451', onmouseover='highlight("841845348","841812828")', title='charset.Charset.convert :: (Charset, str) -> str'><span class='function'>convert</span></a>(<span class='parameter'><a name='charset.Charset.convert@self', id ='841696480', onmouseover='highlight("841698281","841697476","841698348","841697414")', title='charset.Charset.convert@self :: Charset'>self</span></a>, <span class='parameter'><a name='charset.Charset.convert@s', id ='841696486', onmouseover='highlight("841719358","841698278")', title='charset.Charset.convert@s :: str'>s</span></a>):
<span class='lineno'>271</span>         <span class='doc-string'>&quot;&quot;&quot;Convert a string from the input_codec to the output_codec.&quot;&quot;&quot;</span>
<span class='lineno'>272</span>         if <a href='#charset.Charset.convert@self', id ='841697414', onmouseover='highlight(841696480)', title='charset.Charset.convert@self :: Charset'>self</a>.<a href='#charset.Charset.input_codec', id ='841697419', onmouseover='highlight(1912269198)', title='charset.Charset.input_codec :: ?'>input_codec</a> != <a href='#charset.Charset.convert@self', id ='841697476', onmouseover='highlight(841696480)', title='charset.Charset.convert@self :: Charset'>self</a>.<a href='#charset.Charset.output_codec', id ='841697481', onmouseover='highlight(1912268173)', title='charset.Charset.output_codec :: ?'>output_codec</a>:
<span class='lineno'>273</span>             return <a href='http://docs.python.org/library/functions.html#unicode', id ='841698249', onmouseover='highlight(1431294356)', title='__builtin__.unicode :: ? -> ?'>unicode</a>(<a href='#charset.Charset.convert@s', id ='841698278', onmouseover='highlight(841696486)', title='charset.Charset.convert@s :: str'>s</a>, <a href='#charset.Charset.convert@self', id ='841698281', onmouseover='highlight(841696480)', title='charset.Charset.convert@self :: Charset'>self</a>.<a href='#charset.Charset.input_codec', id ='841698286', onmouseover='highlight(1912269198)', title='charset.Charset.input_codec :: ?'>input_codec</a>).encode(<a href='#charset.Charset.convert@self', id ='841698348', onmouseover='highlight(841696480)', title='charset.Charset.convert@self :: Charset'>self</a>.<a href='#charset.Charset.output_codec', id ='841698374', onmouseover='highlight(1912268173)', title='charset.Charset.output_codec :: ?'>output_codec</a>)
<span class='lineno'>274</span>         else:
<span class='lineno'>275</span>             return <a href='#charset.Charset.convert@s', id ='841719358', onmouseover='highlight(841696486)', title='charset.Charset.convert@s :: str'>s</a>
<span class='lineno'>276</span> 
<span class='lineno'>277</span>     def <a name='charset.Charset.to_splittable', id ='841719390', title='charset.Charset.to_splittable :: (Charset, ?) -> ?'><span class='function'>to_splittable</a></span>(<a name='charset.Charset.to_splittable@self', id ='841719425', onmouseover='highlight("841725317","841724387")', title='charset.Charset.to_splittable@self :: Charset'><span class='parameter'>self</a></span>, <a name='charset.Charset.to_splittable@s', id ='841719452', onmouseover='highlight("841724351","841727179","841725188","841725314")', title='charset.Charset.to_splittable@s :: ?'><span class='parameter'>s</a></span>):
<span class='lineno'>278</span>         <span class='doc-string'>&quot;&quot;&quot;Convert a possibly multibyte string to a safely splittable format.
<span class='lineno'>279</span> 
<span class='lineno'>280</span>         Uses the input_codec to try and convert the string to Unicode, so it
<span class='lineno'>281</span>         can be safely split on character boundaries (even for multibyte
<span class='lineno'>282</span>         characters).
<span class='lineno'>283</span> 
<span class='lineno'>284</span>         Returns the string as-is if it isn&#39;t known how to convert it to
<span class='lineno'>285</span>         Unicode with the input_charset.
<span class='lineno'>286</span> 
<span class='lineno'>287</span>         Characters that could not be converted to Unicode will be replaced
<span class='lineno'>288</span>         with the Unicode replacement character U+FFFD.
<span class='lineno'>289</span>         &quot;&quot;&quot;</span>
<span class='lineno'>290</span>         if <a href='http://docs.python.org/library/functions.html#isinstance', id ='841724319', onmouseover='highlight(37741720)', title='__builtin__.isinstance :: ? -> int'>isinstance</a>(<a href='#charset.Charset.to_splittable@s', id ='841724351', onmouseover='highlight(841719452)', title='charset.Charset.to_splittable@s :: ?'>s</a>, <a href='http://docs.python.org/library/functions.html#unicode', id ='841724354', onmouseover='highlight(1431294356)', title='__builtin__.unicode :: ? -> ?'>unicode</a>) or <a href='#charset.Charset.to_splittable@self', id ='841724387', onmouseover='highlight(841719425)', title='charset.Charset.to_splittable@self :: Charset'>self</a>.<a href='#charset.Charset.input_codec', id ='841724413', onmouseover='highlight(1912269198)', title='charset.Charset.input_codec :: ?'>input_codec</a> is <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='841724449', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</span></a>:
<span class='lineno'>291</span>             return <a href='#charset.Charset.to_splittable@s', id ='841725188', onmouseover='highlight(841719452)', title='charset.Charset.to_splittable@s :: ?'>s</a>
<span class='lineno'>292</span>         try:
<span class='lineno'>293</span>             return <a href='http://docs.python.org/library/functions.html#unicode', id ='841725285', onmouseover='highlight(1431294356)', title='__builtin__.unicode :: ? -> ?'>unicode</a>(<a href='#charset.Charset.to_splittable@s', id ='841725314', onmouseover='highlight(841719452)', title='charset.Charset.to_splittable@s :: ?'>s</a>, <a href='#charset.Charset.to_splittable@self', id ='841725317', onmouseover='highlight(841719425)', title='charset.Charset.to_splittable@self :: Charset'>self</a>.<a href='#charset.Charset.input_codec', id ='841725343', onmouseover='highlight(1912269198)', title='charset.Charset.input_codec :: ?'>input_codec</a>, &#39;replace&#39;)
<span class='lineno'>294</span>         except <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='841726117', onmouseover='highlight(2016665419)', title='__builtin__.LookupError :: <LookupError>'>LookupError</a>:
<span class='lineno'>295</span>             # Input codec not installed on system, so return the original
<span class='lineno'>296</span>             # string unchanged.
<span class='lineno'>297</span>             return <a href='#charset.Charset.to_splittable@s', id ='841727179', onmouseover='highlight(841719452)', title='charset.Charset.to_splittable@s :: ?'>s</a>
<span class='lineno'>298</span> 
<span class='lineno'>299</span>     def <a name='charset.Charset.from_splittable', id ='841727232', title='charset.Charset.from_splittable :: (Charset, ?, ?) -> ?'><span class='function'>from_splittable</span></a>(<span class='parameter'><a name='charset.Charset.from_splittable@self', id ='841727269', onmouseover='highlight("841754148","841753991")', title='charset.Charset.from_splittable@self :: Charset'>self</span></a>, <span class='parameter'><a name='charset.Charset.from_splittable@ustr', id ='841727296', onmouseover='highlight("841754947","841755104","841756876","841755876")', title='charset.Charset.from_splittable@ustr :: ?'>ustr</span></a>, <a name='charset.Charset.from_splittable@to_output', id ='841727302', onmouseover='highlight(841753246)', title='charset.Charset.from_splittable@to_output :: ?'><span class='parameter'>to_output</span></a>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='841727333', onmouseover='highlight(2016665419)', title='__builtin__.True :: ?'>True</a>):
<span class='lineno'>300</span>         <span class='doc-string'>&quot;&quot;&quot;Convert a splittable string back into an encoded string.
<span class='lineno'>301</span> 
<span class='lineno'>302</span>         Uses the proper codec to try and convert the string from Unicode back
<span class='lineno'>303</span>         into an encoded format.  Return the string as-is if it is not Unicode,
<span class='lineno'>304</span>         or if it could not be converted from Unicode.
<span class='lineno'>305</span> 
<span class='lineno'>306</span>         Characters that could not be converted from Unicode will be replaced
<span class='lineno'>307</span>         with an appropriate character (usually &#39;?&#39;).
<span class='lineno'>308</span> 
<span class='lineno'>309</span>         If to_output is True (the default), uses output_codec to convert to an
<span class='lineno'>310</span>         encoded format.  If to_output is False, uses input_codec.
<span class='lineno'>311</span>         &quot;&quot;&quot;</span>
<span class='lineno'>312</span>         if <a href='#charset.Charset.from_splittable@to_output', id ='841753246', onmouseover='highlight(841727302)', title='charset.Charset.from_splittable@to_output :: ?'>to_output</a>:
<span class='lineno'>313</span>             <a name='charset.Charset.from_splittable&codec', id ='841753962', onmouseover='highlight("841755909","841754986")', title='charset.Charset.from_splittable&codec :: ?'>codec</a> = <a href='#charset.Charset.from_splittable@self', id ='841753991', onmouseover='highlight(841727269)', title='charset.Charset.from_splittable@self :: Charset'>self</a>.<a href='#charset.Charset.output_codec', id ='841754017', onmouseover='highlight(1912268173)', title='charset.Charset.output_codec :: ?'>output_codec</a>
<span class='lineno'>314</span>         else:
<span class='lineno'>315</span>             <span class='identifier'><a name='charset.Charset.from_splittable&codec', id ='841754140', onmouseover='highlight("841755909","841754986")', title='charset.Charset.from_splittable&codec :: ?'>codec</span></a> = <a href='#charset.Charset.from_splittable@self', id ='841754148', onmouseover='highlight(841727269)', title='charset.Charset.from_splittable@self :: Charset'>self</a>.<a href='#charset.Charset.input_codec', id ='841754174', onmouseover='highlight(1912269198)', title='charset.Charset.input_codec :: ?'>input_codec</a>
<span class='lineno'>316</span>         if not <a href='http://docs.python.org/library/functions.html#isinstance', id ='841754915', onmouseover='highlight(37741720)', title='__builtin__.isinstance :: ? -> int'>isinstance</a>(<a href='#charset.Charset.from_splittable@ustr', id ='841754947', onmouseover='highlight(841727296)', title='charset.Charset.from_splittable@ustr :: ?'>ustr</a>, <a href='http://docs.python.org/library/functions.html#unicode', id ='841754953', onmouseover='highlight(1431294356)', title='__builtin__.unicode :: ? -> ?'>unicode</a>) or <a href='#charset.Charset.from_splittable&codec', id ='841754986', onmouseover='highlight("841754140","841753962")', title='charset.Charset.from_splittable&codec :: ?'>codec</a> is <span class='builtin'><a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='841755016', onmouseover='highlight(2016665419)', title='__builtin__.None :: ?'>None</a></span>:
<span class='lineno'>317</span>             return <a href='#charset.Charset.from_splittable@ustr', id ='841755104', onmouseover='highlight(841727296)', title='charset.Charset.from_splittable@ustr :: ?'>ustr</a>
<span class='lineno'>318</span>         try:
<span class='lineno'>319</span>             return <a href='#charset.Charset.from_splittable@ustr', id ='841755876', onmouseover='highlight(841727296)', title='charset.Charset.from_splittable@ustr :: ?'>ustr</a>.encode(<a href='#charset.Charset.from_splittable&codec', id ='841755909', onmouseover='highlight("841754140","841753962")', title='charset.Charset.from_splittable&codec :: ?'>codec</a>, &#39;replace&#39;)
<span class='lineno'>320</span>         except <a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='841756005', onmouseover='highlight(2016665419)', title='__builtin__.LookupError :: <LookupError>'>LookupError</a>:
<span class='lineno'>321</span>             # Output codec not installed
<span class='lineno'>322</span>             return <a href='#charset.Charset.from_splittable@ustr', id ='841756876', onmouseover='highlight(841727296)', title='charset.Charset.from_splittable@ustr :: ?'>ustr</a>
<span class='lineno'>323</span> 
<span class='lineno'>324</span>     def <span class='function'><a name='charset.Charset.get_output_charset', id ='841756932', onmouseover='highlight("841812640","1716158355","1716156498","841780183")', title='charset.Charset.get_output_charset :: Charset -> ?'>get_output_charset</span></a>(<a name='charset.Charset.get_output_charset@self', id ='841756993', onmouseover='highlight("841779099","841779034")', title='charset.Charset.get_output_charset@self :: Charset'><span class='parameter'>self</span></a>):
<span class='lineno'>325</span>         <span class='doc-string'>&quot;&quot;&quot;Return the output character set.
<span class='lineno'>326</span> 
<span class='lineno'>327</span>         This is self.output_charset if that is not None, otherwise it is
<span class='lineno'>328</span>         self.input_charset.
<span class='lineno'>329</span>         &quot;&quot;&quot;</span>
<span class='lineno'>330</span>         return <a href='#charset.Charset.get_output_charset@self', id ='841779034', onmouseover='highlight(841756993)', title='charset.Charset.get_output_charset@self :: Charset'>self</a>.<a href='#charset.Charset.output_charset', id ='841779039', onmouseover='highlight(1912271120)', title='charset.Charset.output_charset :: ?'>output_charset</a> or <a href='#charset.Charset.get_output_charset@self', id ='841779099', onmouseover='highlight(841756993)', title='charset.Charset.get_output_charset@self :: Charset'>self</a>.<a href='#charset.Charset.input_charset', id ='841779104', onmouseover='highlight(1912296973)', title='charset.Charset.input_charset :: ?'>input_charset</a>
<span class='lineno'>331</span> 
<span class='lineno'>332</span>     def <span class='function'><a name='charset.Charset.encoded_header_len', id ='841779190', title='charset.Charset.encoded_header_len :: (Charset, ?) -> int'>encoded_header_len</span></a>(<a name='charset.Charset.encoded_header_len@self', id ='841779902', onmouseover='highlight("841782105","841781084","841780157","841783780")', title='charset.Charset.encoded_header_len@self :: Charset'><span class='parameter'>self</a></span>, <span class='parameter'><a name='charset.Charset.encoded_header_len@s', id ='841779908', onmouseover='highlight("841783006","841781982","841784031","841784866","841785828")', title='charset.Charset.encoded_header_len@s :: ?'>s</span></a>):
<span class='lineno'>333</span>         <span class='doc-string'>&quot;&quot;&quot;Return the length of the encoded header string.&quot;&quot;&quot;</span>
<span class='lineno'>334</span>         <a name='charset.Charset.encoded_header_len&cset', id ='841780150', onmouseover='highlight("841782012","841783036","841785669")', title='charset.Charset.encoded_header_len&cset :: ?'><span class='identifier'>cset</span></a> = <a href='#charset.Charset.encoded_header_len@self', id ='841780157', onmouseover='highlight(841779902)', title='charset.Charset.encoded_header_len@self :: Charset'>self</a>.<a href='#charset.Charset.get_output_charset', id ='841780183', onmouseover='highlight(841756932)', title='charset.Charset.get_output_charset :: Charset -> ?'>get_output_charset</a>()
<span class='lineno'>335</span>         # The len(s) of a 7bit encoding is len(s)
<span class='lineno'>336</span>         if <a href='#charset.Charset.encoded_header_len@self', id ='841781084', onmouseover='highlight(841779902)', title='charset.Charset.encoded_header_len@self :: Charset'>self</a>.<a href='#charset.Charset.header_encoding', id ='841781110', onmouseover='highlight(1912271988)', title='charset.Charset.header_encoding :: ?'>header_encoding</a> == <a href='#charset.BASE64', id ='841781150', onmouseover='highlight(200238326)', title='charset.BASE64 :: int'>BASE64</a>:
<span class='lineno'>337</span>             return <a href='__init__.py.html#__init__.py', id ='841781891', onmouseover='highlight(2020317851)', title='__init__.py :: email'>email</a>.<a href='base64mime.py.html#base64mime', id ='841781918', onmouseover='highlight("314215013","1794655924")', title='base64mime :: base64mime'>base64mime</a>.<a href='base64mime.py.html#base64mime.base64_len', id ='841781950', onmouseover='highlight(1776134297)', title='base64mime.base64_len :: ? -> int'>base64_len</a>(<a href='#charset.Charset.encoded_header_len@s', id ='841781982', onmouseover='highlight(841779908)', title='charset.Charset.encoded_header_len@s :: ?'>s</a>) + <a href='http://docs.python.org/library/functions.html#len', id ='841781987', onmouseover='highlight(134591780)', title='__builtin__.len :: ? -> int'>len</a>(<a href='#charset.Charset.encoded_header_len&cset', id ='841782012', onmouseover='highlight(841780150)', title='charset.Charset.encoded_header_len&cset :: ?'>cset</a>) + <a href='#charset.MISC_LEN', id ='841782041', onmouseover='highlight(200237157)', title='charset.MISC_LEN :: int'>MISC_LEN</a>
<span class='lineno'>338</span>         elif <a href='#charset.Charset.encoded_header_len@self', id ='841782105', onmouseover='highlight(841779902)', title='charset.Charset.encoded_header_len@self :: Charset'>self</a>.<a href='#charset.Charset.header_encoding', id ='841782110', onmouseover='highlight(1912271988)', title='charset.Charset.header_encoding :: ?'>header_encoding</a> == <a href='#charset.QP', id ='841782822', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>:
<span class='lineno'>339</span>             return <a href='__init__.py.html#__init__.py', id ='841782908', onmouseover='highlight(2020317851)', title='__init__.py :: email'>email</a>.<a href='quoprimime.py.html#quoprimime', id ='841782914', onmouseover='highlight("314215013","1794655924")', title='quoprimime :: quoprimime'>quoprimime</a>.<a href='quoprimime.py.html#quoprimime.header_quopri_len', id ='841782946', onmouseover='highlight(1156392249)', title='quoprimime.header_quopri_len :: ? -> int'>header_quopri_len</a>(<a href='#charset.Charset.encoded_header_len@s', id ='841783006', onmouseover='highlight(841779908)', title='charset.Charset.encoded_header_len@s :: ?'>s</a>) + <a href='http://docs.python.org/library/functions.html#len', id ='841783032', onmouseover='highlight(134591780)', title='__builtin__.len :: ? -> int'>len</a>(<a href='#charset.Charset.encoded_header_len&cset', id ='841783036', onmouseover='highlight(841780150)', title='charset.Charset.encoded_header_len&cset :: ?'>cset</a>) + <a href='#charset.MISC_LEN', id ='841783065', onmouseover='highlight(200237157)', title='charset.MISC_LEN :: int'>MISC_LEN</a>
<span class='lineno'>340</span>         elif <a href='#charset.Charset.encoded_header_len@self', id ='841783780', onmouseover='highlight(841779902)', title='charset.Charset.encoded_header_len@self :: Charset'>self</a>.<a href='#charset.Charset.header_encoding', id ='841783785', onmouseover='highlight(1912271988)', title='charset.Charset.header_encoding :: ?'>header_encoding</a> == <a href='#charset.SHORTEST', id ='841783846', onmouseover='highlight(200238238)', title='charset.SHORTEST :: int'>SHORTEST</a>:
<span class='lineno'>341</span>             <span class='identifier'><a name='charset.Charset.encoded_header_len&lenb64', id ='841783931', onmouseover='highlight(841784955)', title='charset.Charset.encoded_header_len&lenb64 :: int'>lenb64</a></span> = <a href='__init__.py.html#__init__.py', id ='841783940', onmouseover='highlight(2020317851)', title='__init__.py :: email'>email</a>.<a href='base64mime.py.html#base64mime', id ='841783967', onmouseover='highlight("314215013","1794655924")', title='base64mime :: base64mime'>base64mime</a>.<a href='base64mime.py.html#base64mime.base64_len', id ='841783999', onmouseover='highlight(1776134297)', title='base64mime.base64_len :: ? -> int'>base64_len</a>(<a href='#charset.Charset.encoded_header_len@s', id ='841784031', onmouseover='highlight(841779908)', title='charset.Charset.encoded_header_len@s :: ?'>s</a>)
<span class='lineno'>342</span>             <span class='identifier'><a name='charset.Charset.encoded_header_len&lenqp', id ='841784739', onmouseover='highlight(841784963)', title='charset.Charset.encoded_header_len&lenqp :: int'>lenqp</a></span> = <a href='__init__.py.html#__init__.py', id ='841784768', onmouseover='highlight(2020317851)', title='__init__.py :: email'>email</a>.<a href='quoprimime.py.html#quoprimime', id ='841784774', onmouseover='highlight("314215013","1794655924")', title='quoprimime :: quoprimime'>quoprimime</a>.<a href='quoprimime.py.html#quoprimime.header_quopri_len', id ='841784806', onmouseover='highlight(1156392249)', title='quoprimime.header_quopri_len :: ? -> int'>header_quopri_len</a>(<a href='#charset.Charset.encoded_header_len@s', id ='841784866', onmouseover='highlight(841779908)', title='charset.Charset.encoded_header_len@s :: ?'>s</a>)
<span class='lineno'>343</span>             return <a href='http://docs.python.org/library/functions.html#min', id ='841784930', onmouseover='highlight(135634465)', title='__builtin__.min :: ? -> int'>min</a>(<a href='#charset.Charset.encoded_header_len&lenb64', id ='841784955', onmouseover='highlight(841783931)', title='charset.Charset.encoded_header_len&lenb64 :: int'>lenb64</a>, <a href='#charset.Charset.encoded_header_len&lenqp', id ='841784963', onmouseover='highlight(841784739)', title='charset.Charset.encoded_header_len&lenqp :: int'>lenqp</a>) + <a href='http://docs.python.org/library/functions.html#len', id ='841784993', onmouseover='highlight(134591780)', title='__builtin__.len :: ? -> int'>len</a>(<a href='#charset.Charset.encoded_header_len&cset', id ='841785669', onmouseover='highlight(841780150)', title='charset.Charset.encoded_header_len&cset :: ?'>cset</a>) + <a href='#charset.MISC_LEN', id ='841785698', onmouseover='highlight(200237157)', title='charset.MISC_LEN :: int'>MISC_LEN</a>
<span class='lineno'>344</span>         else:
<span class='lineno'>345</span>             return <a href='http://docs.python.org/library/functions.html#len', id ='841785824', onmouseover='highlight(134591780)', title='__builtin__.len :: ? -> int'>len</a>(<a href='#charset.Charset.encoded_header_len@s', id ='841785828', onmouseover='highlight(841779908)', title='charset.Charset.encoded_header_len@s :: ?'>s</a>)
<span class='lineno'>346</span> 
<span class='lineno'>347</span>     def <a name='charset.Charset.header_encode', id ='841785861', title='charset.Charset.header_encode :: (Charset, ?, ?) -> ?'><span class='function'>header_encode</a></span>(<a name='charset.Charset.header_encode@self', id ='841785917', onmouseover='highlight("841816426","841812823","841814776","841812614","841813790")', title='charset.Charset.header_encode@self :: Charset'><span class='parameter'>self</a></span>, <a name='charset.Charset.header_encode@s', id ='841785923', onmouseover='highlight("841815652","841814691","841839521","841838621","841812857","841816698","841817512","841839706")', title='charset.Charset.header_encode@s :: ?'><span class='parameter'>s</a></span>, <a name='charset.Charset.header_encode@convert', id ='841785947', onmouseover='highlight(841812735)', title='charset.Charset.header_encode@convert :: ?'><span class='parameter'>convert</span></a>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='841785955', onmouseover='highlight(2016665419)', title='__builtin__.False :: ?'>False</a>):
<span class='lineno'>348</span>         <span class='doc-string'>&quot;&quot;&quot;Header-encode a string, optionally converting it to output_charset.
<span class='lineno'>349</span> 
<span class='lineno'>350</span>         If convert is True, the string will be converted from the input
<span class='lineno'>351</span>         charset to the output charset automatically.  This is not useful for
<span class='lineno'>352</span>         multibyte character sets, which have line length issues (multibyte
<span class='lineno'>353</span>         characters must be split on a character, not a byte boundary); use the
<span class='lineno'>354</span>         high-level Header class to deal with these issues.  convert defaults
<span class='lineno'>355</span>         to False.
<span class='lineno'>356</span> 
<span class='lineno'>357</span>         The type of encoding (base64 or quoted-printable) will be based on
<span class='lineno'>358</span>         self.header_encoding.
<span class='lineno'>359</span>         &quot;&quot;&quot;</span>
<span class='lineno'>360</span>         <a name='charset.Charset.header_encode&cset', id ='841812607', onmouseover='highlight("841839545","841815676","841814715","841838624")', title='charset.Charset.header_encode&cset :: ?'><span class='identifier'>cset</a></span> = <a href='#charset.Charset.header_encode@self', id ='841812614', onmouseover='highlight(841785917)', title='charset.Charset.header_encode@self :: Charset'>self</a>.<a href='#charset.Charset.get_output_charset', id ='841812640', onmouseover='highlight(841756932)', title='charset.Charset.get_output_charset :: Charset -> ?'>get_output_charset</a>()
<span class='lineno'>361</span>         if <a href='#charset.Charset.header_encode@convert', id ='841812735', onmouseover='highlight(841785947)', title='charset.Charset.header_encode@convert :: ?'>convert</a>:
<span class='lineno'>362</span>             <a name='charset.Charset.header_encode@s', id ='841812798', onmouseover='highlight("841815652","841814691","841839521","841838621","841812857","841816698","841817512","841839706")', title='charset.Charset.header_encode@s :: ?'>s</a> = <a href='#charset.Charset.header_encode@self', id ='841812823', onmouseover='highlight(841785917)', title='charset.Charset.header_encode@self :: Charset'>self</a>.<a href='#charset.Charset.convert', id ='841812828', onmouseover='highlight(841696451)', title='charset.Charset.convert :: (Charset, str) -> str'>convert</a>(<a href='#charset.Charset.header_encode@s', id ='841812857', onmouseover='highlight("841785923","841812798")', title='charset.Charset.header_encode@s :: ?'>s</a>)
<span class='lineno'>363</span>         # 7bit/8bit encodings return the string unchanged (modulo conversions)
<span class='lineno'>364</span>         if <a href='#charset.Charset.header_encode@self', id ='841813790', onmouseover='highlight(841785917)', title='charset.Charset.header_encode@self :: Charset'>self</a>.<a href='#charset.Charset.header_encoding', id ='841813816', onmouseover='highlight(1912271988)', title='charset.Charset.header_encoding :: ?'>header_encoding</a> == <a href='#charset.BASE64', id ='841814528', onmouseover='highlight(200238326)', title='charset.BASE64 :: int'>BASE64</a>:
<span class='lineno'>365</span>             return <a href='__init__.py.html#__init__.py', id ='841814597', onmouseover='highlight(2020317851)', title='__init__.py :: email'>email</a>.<a href='base64mime.py.html#base64mime', id ='841814624', onmouseover='highlight("314215013","1794655924")', title='base64mime :: base64mime'>base64mime</a>.<a href='base64mime.py.html#base64mime.header_encode', id ='841814656', onmouseover='highlight(1776131444)', title='base64mime.header_encode :: (?, str, ?, int, str) -> ?'>header_encode</a>(<a href='#charset.Charset.header_encode@s', id ='841814691', onmouseover='highlight("841785923","841812798")', title='charset.Charset.header_encode@s :: ?'>s</a>, <a href='#charset.Charset.header_encode&cset', id ='841814715', onmouseover='highlight(841812607)', title='charset.Charset.header_encode&cset :: ?'>cset</a>)
<span class='lineno'>366</span>         elif <a href='#charset.Charset.header_encode@self', id ='841814776', onmouseover='highlight(841785917)', title='charset.Charset.header_encode@self :: Charset'>self</a>.<a href='#charset.Charset.header_encoding', id ='841814781', onmouseover='highlight(1912271988)', title='charset.Charset.header_encoding :: ?'>header_encoding</a> == <a href='#charset.QP', id ='841815493', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>:
<span class='lineno'>367</span>             return <a href='__init__.py.html#__init__.py', id ='841815558', onmouseover='highlight(2020317851)', title='__init__.py :: email'>email</a>.<a href='quoprimime.py.html#quoprimime', id ='841815585', onmouseover='highlight("314215013","1794655924")', title='quoprimime :: quoprimime'>quoprimime</a>.<a href='quoprimime.py.html#quoprimime.header_encode', id ='841815617', onmouseover='highlight(1156384440)', title='quoprimime.header_encode :: (?, str, ?, int, str) -> ?'>header_encode</a>(<a href='#charset.Charset.header_encode@s', id ='841815652', onmouseover='highlight("841785923","841812798")', title='charset.Charset.header_encode@s :: ?'>s</a>, <a href='#charset.Charset.header_encode&cset', id ='841815676', onmouseover='highlight(841812607)', title='charset.Charset.header_encode&cset :: ?'>cset</a>, maxlinelen=None)
<span class='lineno'>368</span>         elif <a href='#charset.Charset.header_encode@self', id ='841816426', onmouseover='highlight(841785917)', title='charset.Charset.header_encode@self :: Charset'>self</a>.<a href='#charset.Charset.header_encoding', id ='841816452', onmouseover='highlight(1912271988)', title='charset.Charset.header_encoding :: ?'>header_encoding</a> == <a href='#charset.SHORTEST', id ='841816513', onmouseover='highlight(200238238)', title='charset.SHORTEST :: int'>SHORTEST</a>:
<span class='lineno'>369</span>             <span class='identifier'><a name='charset.Charset.header_encode&lenb64', id ='841816577', onmouseover='highlight(841817572)', title='charset.Charset.header_encode&lenb64 :: int'>lenb64</a></span> = <a href='__init__.py.html#__init__.py', id ='841816607', onmouseover='highlight(2020317851)', title='__init__.py :: email'>email</a>.<a href='base64mime.py.html#base64mime', id ='841816613', onmouseover='highlight("314215013","1794655924")', title='base64mime :: base64mime'>base64mime</a>.<a href='base64mime.py.html#base64mime.base64_len', id ='841816645', onmouseover='highlight(1776134297)', title='base64mime.base64_len :: ? -> int'>base64_len</a>(<a href='#charset.Charset.header_encode@s', id ='841816698', onmouseover='highlight("841785923","841812798")', title='charset.Charset.header_encode@s :: ?'>s</a>)
<span class='lineno'>370</span>             <span class='identifier'><a name='charset.Charset.header_encode&lenqp', id ='841817385', onmouseover='highlight(841817602)', title='charset.Charset.header_encode&lenqp :: int'>lenqp</span></a> = <a href='__init__.py.html#__init__.py', id ='841817414', onmouseover='highlight(2020317851)', title='__init__.py :: email'>email</a>.<a href='quoprimime.py.html#quoprimime', id ='841817420', onmouseover='highlight("314215013","1794655924")', title='quoprimime :: quoprimime'>quoprimime</a>.<a href='quoprimime.py.html#quoprimime.header_quopri_len', id ='841817473', onmouseover='highlight(1156392249)', title='quoprimime.header_quopri_len :: ? -> int'>header_quopri_len</a>(<a href='#charset.Charset.header_encode@s', id ='841817512', onmouseover='highlight("841785923","841812798")', title='charset.Charset.header_encode@s :: ?'>s</a>)
<span class='lineno'>371</span>             if <a href='#charset.Charset.header_encode&lenb64', id ='841817572', onmouseover='highlight(841816577)', title='charset.Charset.header_encode&lenb64 :: int'>lenb64</a> &lt; <a href='#charset.Charset.header_encode&lenqp', id ='841817602', onmouseover='highlight(841817385)', title='charset.Charset.header_encode&lenqp :: int'>lenqp</a>:
<span class='lineno'>372</span>                 return <a href='__init__.py.html#__init__.py', id ='841838527', onmouseover='highlight(2020317851)', title='__init__.py :: email'>email</a>.<a href='base64mime.py.html#base64mime', id ='841838554', onmouseover='highlight("314215013","1794655924")', title='base64mime :: base64mime'>base64mime</a>.<a href='base64mime.py.html#base64mime.header_encode', id ='841838586', onmouseover='highlight(1776131444)', title='base64mime.header_encode :: (?, str, ?, int, str) -> ?'>header_encode</a>(<a href='#charset.Charset.header_encode@s', id ='841838621', onmouseover='highlight("841785923","841812798")', title='charset.Charset.header_encode@s :: ?'>s</a>, <a href='#charset.Charset.header_encode&cset', id ='841838624', onmouseover='highlight(841812607)', title='charset.Charset.header_encode&cset :: ?'>cset</a>)
<span class='lineno'>373</span>             else:
<span class='lineno'>374</span>                 return <a href='__init__.py.html#__init__.py', id ='841838776', onmouseover='highlight(2020317851)', title='__init__.py :: email'>email</a>.<a href='quoprimime.py.html#quoprimime', id ='841838803', onmouseover='highlight("314215013","1794655924")', title='quoprimime :: quoprimime'>quoprimime</a>.<a href='quoprimime.py.html#quoprimime.header_encode', id ='841839486', onmouseover='highlight(1156384440)', title='quoprimime.header_encode :: (?, str, ?, int, str) -> ?'>header_encode</a>(<a href='#charset.Charset.header_encode@s', id ='841839521', onmouseover='highlight("841785923","841812798")', title='charset.Charset.header_encode@s :: ?'>s</a>, <a href='#charset.Charset.header_encode&cset', id ='841839545', onmouseover='highlight(841812607)', title='charset.Charset.header_encode&cset :: ?'>cset</a>, maxlinelen=None)
<span class='lineno'>375</span>         else:
<span class='lineno'>376</span>             return <a href='#charset.Charset.header_encode@s', id ='841839706', onmouseover='highlight("841785923","841812798")', title='charset.Charset.header_encode@s :: ?'>s</a>
<span class='lineno'>377</span> 
<span class='lineno'>378</span>     def <a name='charset.Charset.body_encode', id ='841839738', onmouseover='highlight("1716155684","1716153640")', title='charset.Charset.body_encode :: (Charset, str, ?) -> str'><span class='function'>body_encode</span></a>(<a name='charset.Charset.body_encode@self', id ='841839771', onmouseover='highlight("841846310","841845343","841847265")', title='charset.Charset.body_encode@self :: Charset'><span class='parameter'>self</span></a>, <span class='parameter'><a name='charset.Charset.body_encode@s', id ='841840449', title='charset.Charset.body_encode@s :: str'><a name='charset.Charset.body_encode@s', id ='841840449', onmouseover='highlight("841847207","841845377","841868438","841868318")', title='charset.Charset.body_encode@s :: str'>s</a></a></span>, <a name='charset.Charset.body_encode@convert', id ='841840452', onmouseover='highlight(841845255)', title='charset.Charset.body_encode@convert :: ?'><span class='parameter'>convert</a></span>=<a href='http://docs.python.org/reference/datamodel#org/yinwang/pysonar/types', id ='841840481', onmouseover='highlight(2016665419)', title='__builtin__.True :: ?'>True</a>):
<span class='lineno'>379</span>         <span class='doc-string'>&quot;&quot;&quot;Body-encode a string and convert it to output_charset.
<span class='lineno'>380</span> 
<span class='lineno'>381</span>         If convert is True (the default), the string will be converted from
<span class='lineno'>382</span>         the input charset to output charset automatically.  Unlike
<span class='lineno'>383</span>         header_encode(), there are no issues with byte boundaries and
<span class='lineno'>384</span>         multibyte charsets in email bodies, so this is usually pretty safe.
<span class='lineno'>385</span> 
<span class='lineno'>386</span>         The type of encoding (base64 or quoted-printable) will be based on
<span class='lineno'>387</span>         self.body_encoding.
<span class='lineno'>388</span>         &quot;&quot;&quot;</span>
<span class='lineno'>389</span>         if <a href='#charset.Charset.body_encode@convert', id ='841845255', onmouseover='highlight(841840452)', title='charset.Charset.body_encode@convert :: ?'>convert</a>:
<span class='lineno'>390</span>             <a name='charset.Charset.body_encode@s', id ='841845318', onmouseover='highlight("841847207","841845377","841868438","841868318")', title='charset.Charset.body_encode@s :: str'><span class='parameter'>s</span></a> = <a href='#charset.Charset.body_encode@self', id ='841845343', onmouseover='highlight(841839771)', title='charset.Charset.body_encode@self :: Charset'>self</a>.<a href='#charset.Charset.convert', id ='841845348', onmouseover='highlight(841696451)', title='charset.Charset.convert :: (Charset, str) -> str'>convert</a>(<a href='#charset.Charset.body_encode@s', id ='841845377', onmouseover='highlight("841845318","841840449","841845318","841840449")', title='{charset.Charset.body_encode@s :: str | charset.Charset.body_encode@s :: ?}'>s</a>)
<span class='lineno'>391</span>         # 7bit/8bit encodings return the string unchanged (module conversions)
<span class='lineno'>392</span>         if <a href='#charset.Charset.body_encode@self', id ='841846310', onmouseover='highlight(841839771)', title='charset.Charset.body_encode@self :: Charset'>self</a>.<a href='#charset.Charset.body_encoding', id ='841846336', onmouseover='highlight(1912271868)', title='charset.Charset.body_encoding :: ?'>body_encoding</a> is <a href='#charset.BASE64', id ='841846374', onmouseover='highlight(200238326)', title='charset.BASE64 :: int'>BASE64</a>:
<span class='lineno'>393</span>             return <a href='__init__.py.html#__init__.py', id ='841846464', onmouseover='highlight(2020317851)', title='__init__.py :: email'>email</a>.<a href='base64mime.py.html#base64mime', id ='841846491', onmouseover='highlight("314215013","1794655924")', title='base64mime :: base64mime'>base64mime</a>.<a href='base64mime.py.html#base64mime.body_encode', id ='841847174', onmouseover='highlight(1776039220)', title='base64mime.body_encode :: (str, ?, int, str) -> str'>body_encode</a>(<a href='#charset.Charset.body_encode@s', id ='841847207', onmouseover='highlight("841845318","841840449")', title='charset.Charset.body_encode@s :: str'>s</a>)
<span class='lineno'>394</span>         elif <a href='#charset.Charset.body_encode@self', id ='841847265', onmouseover='highlight(841839771)', title='charset.Charset.body_encode@self :: Charset'>self</a>.<a href='#charset.Charset.body_encoding', id ='841847270', onmouseover='highlight(1912271868)', title='charset.Charset.body_encoding :: ?'>body_encoding</a> is <a href='#charset.QP', id ='841847329', onmouseover='highlight(200239075)', title='charset.QP :: int'>QP</a>:
<span class='lineno'>395</span>             return <a href='__init__.py.html#__init__.py', id ='841847394', onmouseover='highlight(2020317851)', title='__init__.py :: email'>email</a>.<a href='quoprimime.py.html#quoprimime', id ='841847421', onmouseover='highlight("314215013","1794655924")', title='quoprimime :: quoprimime'>quoprimime</a>.<a href='quoprimime.py.html#quoprimime.body_encode', id ='841847453', onmouseover='highlight(1156208455)', title='quoprimime.body_encode :: (str, ?, int, str) -> str'>body_encode</a>(<a href='#charset.Charset.body_encode@s', id ='841868318', onmouseover='highlight("841845318","841840449")', title='charset.Charset.body_encode@s :: str'>s</a>)
<span class='lineno'>396</span>         else:
<span class='lineno'>397</span>             return <a href='#charset.Charset.body_encode@s', id ='841868438', onmouseover='highlight("841845318","841840449")', title='charset.Charset.body_encode@s :: str'>s</a>
</pre></td></tr></table></body></html>